var lv=l=>{throw TypeError(l)};var Oh=(l,t,e)=>t.has(l)||lv("Cannot "+e);var Wt=(l,t,e)=>(Oh(l,t,"read from private field"),e?e.call(l):t.get(l)),kn=(l,t,e)=>t.has(l)?lv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(l):t.set(l,e),Xe=(l,t,e,a)=>(Oh(l,t,"write to private field"),a?a.call(l,e):t.set(l,e),e),Pn=(l,t,e)=>(Oh(l,t,"access private method"),e);var cv=(l,t,e,a)=>({set _(s){Xe(l,t,s,e)},get _(){return Wt(l,t,a)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function k0(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var kh={exports:{}},Nr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function vS(){if(uv)return Nr;uv=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:l,type:a,key:c,ref:s!==void 0?s:null,props:o}}return Nr.Fragment=t,Nr.jsx=e,Nr.jsxs=e,Nr}var hv;function yS(){return hv||(hv=1,kh.exports=vS()),kh.exports}var I=yS(),Ph={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function bS(){if(fv)return wt;fv=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function x(D,Y,Q){this.props=D,this.context=Y,this.refs=E,this.updater=Q||b}x.prototype.isReactComponent={},x.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},x.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function w(){}w.prototype=x.prototype;function T(D,Y,Q){this.props=D,this.context=Y,this.refs=E,this.updater=Q||b}var R=T.prototype=new w;R.constructor=T,S(R,x.prototype),R.isPureReactComponent=!0;var L=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function j(D,Y,Q,K,nt,vt){return Q=vt.ref,{$$typeof:l,type:D,key:Y,ref:Q!==void 0?Q:null,props:vt}}function q(D,Y){return j(D.type,Y,void 0,void 0,void 0,D.props)}function X(D){return typeof D=="object"&&D!==null&&D.$$typeof===l}function J(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Q){return Y[Q]})}var tt=/\/+/g;function lt(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?J(""+D.key):Y.toString(36)}function pt(){}function st(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(pt,pt):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function yt(D,Y,Q,K,nt){var vt=typeof D;(vt==="undefined"||vt==="boolean")&&(D=null);var rt=!1;if(D===null)rt=!0;else switch(vt){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(D.$$typeof){case l:case t:rt=!0;break;case p:return rt=D._init,yt(rt(D._payload),Y,Q,K,nt)}}if(rt)return nt=nt(D),rt=K===""?"."+lt(D,0):K,L(nt)?(Q="",rt!=null&&(Q=rt.replace(tt,"$&/")+"/"),yt(nt,Y,Q,"",function(he){return he})):nt!=null&&(X(nt)&&(nt=q(nt,Q+(nt.key==null||D&&D.key===nt.key?"":(""+nt.key).replace(tt,"$&/")+"/")+rt)),Y.push(nt)),1;rt=0;var Et=K===""?".":K+":";if(L(D))for(var Dt=0;Dt<D.length;Dt++)K=D[Dt],vt=Et+lt(K,Dt),rt+=yt(K,Y,Q,vt,nt);else if(Dt=y(D),typeof Dt=="function")for(D=Dt.call(D),Dt=0;!(K=D.next()).done;)K=K.value,vt=Et+lt(K,Dt++),rt+=yt(K,Y,Q,vt,nt);else if(vt==="object"){if(typeof D.then=="function")return yt(st(D),Y,Q,K,nt);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return rt}function O(D,Y,Q){if(D==null)return D;var K=[],nt=0;return yt(D,K,"","",function(vt){return Y.call(Q,vt,nt++)}),K}function G(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(Q){(D._status===0||D._status===-1)&&(D._status=1,D._result=Q)},function(Q){(D._status===0||D._status===-1)&&(D._status=2,D._result=Q)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var et=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function bt(){}return wt.Children={map:O,forEach:function(D,Y,Q){O(D,function(){Y.apply(this,arguments)},Q)},count:function(D){var Y=0;return O(D,function(){Y++}),Y},toArray:function(D){return O(D,function(Y){return Y})||[]},only:function(D){if(!X(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=x,wt.Fragment=e,wt.Profiler=s,wt.PureComponent=T,wt.StrictMode=a,wt.Suspense=f,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,Y,Q){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var K=S({},D.props),nt=D.key,vt=void 0;if(Y!=null)for(rt in Y.ref!==void 0&&(vt=void 0),Y.key!==void 0&&(nt=""+Y.key),Y)!B.call(Y,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&Y.ref===void 0||(K[rt]=Y[rt]);var rt=arguments.length-2;if(rt===1)K.children=Q;else if(1<rt){for(var Et=Array(rt),Dt=0;Dt<rt;Dt++)Et[Dt]=arguments[Dt+2];K.children=Et}return j(D.type,nt,void 0,void 0,vt,K)},wt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},wt.createElement=function(D,Y,Q){var K,nt={},vt=null;if(Y!=null)for(K in Y.key!==void 0&&(vt=""+Y.key),Y)B.call(Y,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(nt[K]=Y[K]);var rt=arguments.length-2;if(rt===1)nt.children=Q;else if(1<rt){for(var Et=Array(rt),Dt=0;Dt<rt;Dt++)Et[Dt]=arguments[Dt+2];nt.children=Et}if(D&&D.defaultProps)for(K in rt=D.defaultProps,rt)nt[K]===void 0&&(nt[K]=rt[K]);return j(D,vt,void 0,void 0,null,nt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:h,render:D}},wt.isValidElement=X,wt.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:G}},wt.memo=function(D,Y){return{$$typeof:d,type:D,compare:Y===void 0?null:Y}},wt.startTransition=function(D){var Y=C.T,Q={};C.T=Q;try{var K=D(),nt=C.S;nt!==null&&nt(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(bt,et)}catch(vt){et(vt)}finally{C.T=Y}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(D){return C.H.use(D)},wt.useActionState=function(D,Y,Q){return C.H.useActionState(D,Y,Q)},wt.useCallback=function(D,Y){return C.H.useCallback(D,Y)},wt.useContext=function(D){return C.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,Y){return C.H.useDeferredValue(D,Y)},wt.useEffect=function(D,Y,Q){var K=C.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(D,Y)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(D,Y,Q){return C.H.useImperativeHandle(D,Y,Q)},wt.useInsertionEffect=function(D,Y){return C.H.useInsertionEffect(D,Y)},wt.useLayoutEffect=function(D,Y){return C.H.useLayoutEffect(D,Y)},wt.useMemo=function(D,Y){return C.H.useMemo(D,Y)},wt.useOptimistic=function(D,Y){return C.H.useOptimistic(D,Y)},wt.useReducer=function(D,Y,Q){return C.H.useReducer(D,Y,Q)},wt.useRef=function(D){return C.H.useRef(D)},wt.useState=function(D){return C.H.useState(D)},wt.useSyncExternalStore=function(D,Y,Q){return C.H.useSyncExternalStore(D,Y,Q)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.1.1",wt}var dv;function Nf(){return dv||(dv=1,Ph.exports=bS()),Ph.exports}var N=Nf();const P0=k0(N);var Ih={exports:{}},Or={},zh={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function AS(){return gv||(gv=1,(function(l){function t(O,G){var et=O.length;O.push(G);t:for(;0<et;){var bt=et-1>>>1,D=O[bt];if(0<s(D,G))O[bt]=G,O[et]=D,et=bt;else break t}}function e(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var G=O[0],et=O.pop();if(et!==G){O[0]=et;t:for(var bt=0,D=O.length,Y=D>>>1;bt<Y;){var Q=2*(bt+1)-1,K=O[Q],nt=Q+1,vt=O[nt];if(0>s(K,et))nt<D&&0>s(vt,K)?(O[bt]=vt,O[nt]=et,bt=nt):(O[bt]=K,O[Q]=et,bt=Q);else if(nt<D&&0>s(vt,et))O[bt]=vt,O[nt]=et,bt=nt;else break t}}return G}function s(O,G){var et=O.sortIndex-G.sortIndex;return et!==0?et:O.id-G.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;l.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();l.unstable_now=function(){return c.now()-h}}var f=[],d=[],p=1,v=null,y=3,b=!1,S=!1,E=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function L(O){for(var G=e(d);G!==null;){if(G.callback===null)a(d);else if(G.startTime<=O)a(d),G.sortIndex=G.expirationTime,t(f,G);else break;G=e(d)}}function C(O){if(E=!1,L(O),!S)if(e(f)!==null)S=!0,B||(B=!0,lt());else{var G=e(d);G!==null&&yt(C,G.startTime-O)}}var B=!1,j=-1,q=5,X=-1;function J(){return x?!0:!(l.unstable_now()-X<q)}function tt(){if(x=!1,B){var O=l.unstable_now();X=O;var G=!0;try{t:{S=!1,E&&(E=!1,T(j),j=-1),b=!0;var et=y;try{e:{for(L(O),v=e(f);v!==null&&!(v.expirationTime>O&&J());){var bt=v.callback;if(typeof bt=="function"){v.callback=null,y=v.priorityLevel;var D=bt(v.expirationTime<=O);if(O=l.unstable_now(),typeof D=="function"){v.callback=D,L(O),G=!0;break e}v===e(f)&&a(f),L(O)}else a(f);v=e(f)}if(v!==null)G=!0;else{var Y=e(d);Y!==null&&yt(C,Y.startTime-O),G=!1}}break t}finally{v=null,y=et,b=!1}G=void 0}}finally{G?lt():B=!1}}}var lt;if(typeof R=="function")lt=function(){R(tt)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,st=pt.port2;pt.port1.onmessage=tt,lt=function(){st.postMessage(null)}}else lt=function(){w(tt,0)};function yt(O,G){j=w(function(){O(l.unstable_now())},G)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(O){O.callback=null},l.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},l.unstable_getCurrentPriorityLevel=function(){return y},l.unstable_next=function(O){switch(y){case 1:case 2:case 3:var G=3;break;default:G=y}var et=y;y=G;try{return O()}finally{y=et}},l.unstable_requestPaint=function(){x=!0},l.unstable_runWithPriority=function(O,G){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var et=y;y=O;try{return G()}finally{y=et}},l.unstable_scheduleCallback=function(O,G,et){var bt=l.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?bt+et:bt):et=bt,O){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=et+D,O={id:p++,callback:G,priorityLevel:O,startTime:et,expirationTime:D,sortIndex:-1},et>bt?(O.sortIndex=et,t(d,O),e(f)===null&&O===e(d)&&(E?(T(j),j=-1):E=!0,yt(C,et-bt))):(O.sortIndex=D,t(f,O),S||b||(S=!0,B||(B=!0,lt()))),O},l.unstable_shouldYield=J,l.unstable_wrapCallback=function(O){var G=y;return function(){var et=y;y=G;try{return O.apply(this,arguments)}finally{y=et}}}})(Fh)),Fh}var pv;function SS(){return pv||(pv=1,zh.exports=AS()),zh.exports}var Bh={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function ES(){if(mv)return ke;mv=1;var l=Nf();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:d,implementation:p}}var c=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ke.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,p)},ke.flushSync=function(f){var d=c.T,p=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=d,a.p=p,a.d.f()}},ke.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(f,d))},ke.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},ke.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,v=h(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?a.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:b}):p==="script"&&a.d.X(f,{crossOrigin:v,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ke.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=h(d.as,d.crossOrigin);a.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(f)},ke.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,v=h(p,d.crossOrigin);a.d.L(f,p,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ke.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=h(d.as,d.crossOrigin);a.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(f)},ke.requestFormReset=function(f){a.d.r(f)},ke.unstable_batchedUpdates=function(f,d){return f(d)},ke.useFormState=function(f,d,p){return c.H.useFormState(f,d,p)},ke.useFormStatus=function(){return c.H.useHostTransitionStatus()},ke.version="19.1.1",ke}var vv;function wS(){if(vv)return Bh.exports;vv=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Bh.exports=ES(),Bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function _S(){if(yv)return Or;yv=1;var l=SS(),t=Nf(),e=wS();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var i=n,r=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(r=i.return),n=i.return;while(n)}return i.tag===3?r:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(a(188))}function f(n){var i=n.alternate;if(!i){if(i=o(n),i===null)throw Error(a(188));return i!==n?null:n}for(var r=n,u=i;;){var g=r.return;if(g===null)break;var m=g.alternate;if(m===null){if(u=g.return,u!==null){r=u;continue}break}if(g.child===m.child){for(m=g.child;m;){if(m===r)return h(g),n;if(m===u)return h(g),i;m=m.sibling}throw Error(a(188))}if(r.return!==u.return)r=g,u=m;else{for(var A=!1,_=g.child;_;){if(_===r){A=!0,r=g,u=m;break}if(_===u){A=!0,u=g,r=m;break}_=_.sibling}if(!A){for(_=m.child;_;){if(_===r){A=!0,r=m,u=g;break}if(_===u){A=!0,u=m,r=g;break}_=_.sibling}if(!A)throw Error(a(189))}}if(r.alternate!==u)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?n:i}function d(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=d(n),i!==null)return i;n=n.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function lt(n){return n===null||typeof n!="object"?null:(n=tt&&n[tt]||n["@@iterator"],typeof n=="function"?n:null)}var pt=Symbol.for("react.client.reference");function st(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===pt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case B:return"SuspenseList";case X:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case R:return(n.displayName||"Context")+".Provider";case T:return(n._context.displayName||"Context")+".Consumer";case L:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return i=n.displayName||null,i!==null?i:st(n.type)||"Memo";case q:i=n._payload,n=n._init;try{return st(n(i))}catch{}}return null}var yt=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},bt=[],D=-1;function Y(n){return{current:n}}function Q(n){0>D||(n.current=bt[D],bt[D]=null,D--)}function K(n,i){D++,bt[D]=n.current,n.current=i}var nt=Y(null),vt=Y(null),rt=Y(null),Et=Y(null);function Dt(n,i){switch(K(rt,i),K(vt,n),K(nt,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Im(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Im(i),n=zm(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(nt),K(nt,n)}function he(){Q(nt),Q(vt),Q(rt)}function Gt(n){n.memoizedState!==null&&K(Et,n);var i=nt.current,r=zm(i,n.type);i!==r&&(K(vt,n),K(nt,r))}function Ue(n){vt.current===n&&(Q(nt),Q(vt)),Et.current===n&&(Q(Et),Cr._currentValue=et)}var Qe=Object.prototype.hasOwnProperty,Lt=l.unstable_scheduleCallback,Ft=l.unstable_cancelCallback,ae=l.unstable_shouldYield,fe=l.unstable_requestPaint,Te=l.unstable_now,Ki=l.unstable_getCurrentPriorityLevel,Da=l.unstable_ImmediatePriority,mo=l.unstable_UserBlockingPriority,qn=l.unstable_NormalPriority,bc=l.unstable_LowPriority,vo=l.unstable_IdlePriority,Ac=l.log,Sc=l.unstable_setDisableYieldValue,Qi=null,te=null;function Fe(n){if(typeof Ac=="function"&&Sc(n),te&&typeof te.setStrictMode=="function")try{te.setStrictMode(Qi,n)}catch{}}var ee=Math.clz32?Math.clz32:i1,Ps=Math.log,n1=Math.LN2;function i1(n){return n>>>=0,n===0?32:31-(Ps(n)/n1|0)|0}var yo=256,bo=4194304;function Zi(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ao(n,i,r){var u=n.pendingLanes;if(u===0)return 0;var g=0,m=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var _=u&134217727;return _!==0?(u=_&~m,u!==0?g=Zi(u):(A&=_,A!==0?g=Zi(A):r||(r=_&~n,r!==0&&(g=Zi(r))))):(_=u&~m,_!==0?g=Zi(_):A!==0?g=Zi(A):r||(r=u&~n,r!==0&&(g=Zi(r)))),g===0?0:i!==0&&i!==g&&(i&m)===0&&(m=g&-g,r=i&-i,m>=r||m===32&&(r&4194048)!==0)?i:g}function Is(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function a1(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bd(){var n=yo;return yo<<=1,(yo&4194048)===0&&(yo=256),n}function Ad(){var n=bo;return bo<<=1,(bo&62914560)===0&&(bo=4194304),n}function Ec(n){for(var i=[],r=0;31>r;r++)i.push(n);return i}function zs(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function s1(n,i,r,u,g,m){var A=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var _=n.entanglements,M=n.expirationTimes,F=n.hiddenUpdates;for(r=A&~r;0<r;){var V=31-ee(r),W=1<<V;_[V]=0,M[V]=-1;var H=F[V];if(H!==null)for(F[V]=null,V=0;V<H.length;V++){var U=H[V];U!==null&&(U.lane&=-536870913)}r&=~W}u!==0&&Sd(n,u,0),m!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=m&~(A&~i))}function Sd(n,i,r){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-ee(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|r&4194090}function Ed(n,i){var r=n.entangledLanes|=i;for(n=n.entanglements;r;){var u=31-ee(r),g=1<<u;g&i|n[u]&i&&(n[u]|=i),r&=~g}}function wc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _c(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function wd(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:nv(n.type))}function r1(n,i){var r=G.p;try{return G.p=n,i()}finally{G.p=r}}var Ai=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Ai,Ge="__reactProps$"+Ai,La="__reactContainer$"+Ai,xc="__reactEvents$"+Ai,o1="__reactListeners$"+Ai,l1="__reactHandles$"+Ai,_d="__reactResources$"+Ai,Fs="__reactMarker$"+Ai;function Tc(n){delete n[Ne],delete n[Ge],delete n[xc],delete n[o1],delete n[l1]}function Na(n){var i=n[Ne];if(i)return i;for(var r=n.parentNode;r;){if(i=r[La]||r[Ne]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(n=Hm(n);n!==null;){if(r=n[Ne])return r;n=Hm(n)}return i}n=r,r=n.parentNode}return null}function Oa(n){if(n=n[Ne]||n[La]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Bs(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function ka(n){var i=n[_d];return i||(i=n[_d]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(n){n[Fs]=!0}var xd=new Set,Td={};function Ji(n,i){Pa(n,i),Pa(n+"Capture",i)}function Pa(n,i){for(Td[n]=i,n=0;n<i.length;n++)xd.add(i[n])}var c1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cd={},Rd={};function u1(n){return Qe.call(Rd,n)?!0:Qe.call(Cd,n)?!1:c1.test(n)?Rd[n]=!0:(Cd[n]=!0,!1)}function So(n,i,r){if(u1(i))if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+r)}}function Eo(n,i,r){if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+r)}}function $n(n,i,r,u){if(u===null)n.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(i,r,""+u)}}var Cc,Md;function Ia(n){if(Cc===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Cc=i&&i[1]||"",Md=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cc+n+Md}var Rc=!1;function Mc(n,i){if(!n||Rc)return"";Rc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(U){var H=U}Reflect.construct(n,[],W)}else{try{W.call()}catch(U){H=U}n.call(W.prototype)}}else{try{throw Error()}catch(U){H=U}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(U){if(U&&H&&typeof U.stack=="string")return[U.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),A=m[0],_=m[1];if(A&&_){var M=A.split(`
`),F=_.split(`
`);for(g=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(u===M.length||g===F.length)for(u=M.length-1,g=F.length-1;1<=u&&0<=g&&M[u]!==F[g];)g--;for(;1<=u&&0<=g;u--,g--)if(M[u]!==F[g]){if(u!==1||g!==1)do if(u--,g--,0>g||M[u]!==F[g]){var V=`
`+M[u].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=u&&0<=g);break}}}finally{Rc=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?Ia(r):""}function h1(n){switch(n.tag){case 26:case 27:case 5:return Ia(n.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 15:return Mc(n.type,!1);case 11:return Mc(n.type.render,!1);case 1:return Mc(n.type,!0);case 31:return Ia("Activity");default:return""}}function Dd(n){try{var i="";do i+=h1(n),n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ld(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function f1(n){var i=Ld(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var g=r.get,m=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(A){u=""+A,m.call(this,A)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function wo(n){n._valueTracker||(n._valueTracker=f1(n))}function Nd(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var r=i.getValue(),u="";return n&&(u=Ld(n)?n.checked?"true":"false":n.value),n=u,n!==r?(i.setValue(n),!0):!1}function _o(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var d1=/[\n"\\]/g;function hn(n){return n.replace(d1,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Dc(n,i,r,u,g,m,A,_){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),i!=null?A==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+un(i)):n.value!==""+un(i)&&(n.value=""+un(i)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),i!=null?Lc(n,A,un(i)):r!=null?Lc(n,A,un(r)):u!=null&&n.removeAttribute("value"),g==null&&m!=null&&(n.defaultChecked=!!m),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+un(_):n.removeAttribute("name")}function Od(n,i,r,u,g,m,A,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;r=r!=null?""+un(r):"",i=i!=null?""+un(i):r,_||i===n.value||(n.value=i),n.defaultValue=i}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=_?n.checked:!!u,n.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A)}function Lc(n,i,r){i==="number"&&_o(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function za(n,i,r,u){if(n=n.options,i){i={};for(var g=0;g<r.length;g++)i["$"+r[g]]=!0;for(r=0;r<n.length;r++)g=i.hasOwnProperty("$"+n[r].value),n[r].selected!==g&&(n[r].selected=g),g&&u&&(n[r].defaultSelected=!0)}else{for(r=""+un(r),i=null,g=0;g<n.length;g++){if(n[g].value===r){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function kd(n,i,r){if(i!=null&&(i=""+un(i),i!==n.value&&(n.value=i),r==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=r!=null?""+un(r):""}function Pd(n,i,r,u){if(i==null){if(u!=null){if(r!=null)throw Error(a(92));if(yt(u)){if(1<u.length)throw Error(a(93));u=u[0]}r=u}r==null&&(r=""),i=r}r=un(i),n.defaultValue=r,u=n.textContent,u===r&&u!==""&&u!==null&&(n.value=u)}function Fa(n,i){if(i){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=i;return}}n.textContent=i}var g1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(n,i,r){var u=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,r):typeof r!="number"||r===0||g1.has(i)?i==="float"?n.cssFloat=r:n[i]=(""+r).trim():n[i]=r+"px"}function zd(n,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in i)u=i[g],i.hasOwnProperty(g)&&r[g]!==u&&Id(n,g,u)}else for(var m in i)i.hasOwnProperty(m)&&Id(n,m,i[m])}function Nc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),m1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xo(n){return m1.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Oc=null;function kc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ba=null,ja=null;function Fd(n){var i=Oa(n);if(i&&(n=i.stateNode)){var r=n[Ge]||null;t:switch(n=i.stateNode,i.type){case"input":if(Dc(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var u=r[i];if(u!==n&&u.form===n.form){var g=u[Ge]||null;if(!g)throw Error(a(90));Dc(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<r.length;i++)u=r[i],u.form===n.form&&Nd(u)}break t;case"textarea":kd(n,r.value,r.defaultValue);break t;case"select":i=r.value,i!=null&&za(n,!!r.multiple,i,!1)}}}var Pc=!1;function Bd(n,i,r){if(Pc)return n(i,r);Pc=!0;try{var u=n(i);return u}finally{if(Pc=!1,(Ba!==null||ja!==null)&&(ul(),Ba&&(i=Ba,n=ja,ja=Ba=null,Fd(i),n)))for(i=0;i<n.length;i++)Fd(n[i])}}function js(n,i){var r=n.stateNode;if(r===null)return null;var u=r[Ge]||null;if(u===null)return null;r=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ic=!1;if(Yn)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Ic=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Ic=!1}var Si=null,zc=null,To=null;function jd(){if(To)return To;var n,i=zc,r=i.length,u,g="value"in Si?Si.value:Si.textContent,m=g.length;for(n=0;n<r&&i[n]===g[n];n++);var A=r-n;for(u=1;u<=A&&i[r-u]===g[m-u];u++);return To=g.slice(n,1<u?1-u:void 0)}function Co(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ro(){return!0}function Hd(){return!1}function Ve(n){function i(r,u,g,m,A){this._reactName=r,this._targetInst=g,this.type=u,this.nativeEvent=m,this.target=A,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(r=n[_],this[_]=r?r(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ro:Hd,this.isPropagationStopped=Hd,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),i}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=Ve(ta),Us=p({},ta,{view:0,detail:0}),v1=Ve(Us),Fc,Bc,Gs,Do=p({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gs&&(Gs&&n.type==="mousemove"?(Fc=n.screenX-Gs.screenX,Bc=n.screenY-Gs.screenY):Bc=Fc=0,Gs=n),Fc)},movementY:function(n){return"movementY"in n?n.movementY:Bc}}),Ud=Ve(Do),y1=p({},Do,{dataTransfer:0}),b1=Ve(y1),A1=p({},Us,{relatedTarget:0}),jc=Ve(A1),S1=p({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),E1=Ve(S1),w1=p({},ta,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_1=Ve(w1),x1=p({},ta,{data:0}),Gd=Ve(x1),T1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M1(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=R1[n])?!!i[n]:!1}function Hc(){return M1}var D1=p({},Us,{key:function(n){if(n.key){var i=T1[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Co(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?C1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(n){return n.type==="keypress"?Co(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Co(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),L1=Ve(D1),N1=p({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vd=Ve(N1),O1=p({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),k1=Ve(O1),P1=p({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),I1=Ve(P1),z1=p({},Do,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),F1=Ve(z1),B1=p({},ta,{newState:0,oldState:0}),j1=Ve(B1),H1=[9,13,27,32],Uc=Yn&&"CompositionEvent"in window,Vs=null;Yn&&"documentMode"in document&&(Vs=document.documentMode);var U1=Yn&&"TextEvent"in window&&!Vs,qd=Yn&&(!Uc||Vs&&8<Vs&&11>=Vs),$d=" ",Yd=!1;function Xd(n,i){switch(n){case"keyup":return H1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ha=!1;function G1(n,i){switch(n){case"compositionend":return Wd(i);case"keypress":return i.which!==32?null:(Yd=!0,$d);case"textInput":return n=i.data,n===$d&&Yd?null:n;default:return null}}function V1(n,i){if(Ha)return n==="compositionend"||!Uc&&Xd(n,i)?(n=jd(),To=zc=Si=null,Ha=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qd&&i.locale!=="ko"?null:i.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!q1[n.type]:i==="textarea"}function Qd(n,i,r,u){Ba?ja?ja.push(u):ja=[u]:Ba=u,i=ml(i,"onChange"),0<i.length&&(r=new Mo("onChange","change",null,r,u),n.push({event:r,listeners:i}))}var qs=null,$s=null;function $1(n){Lm(n,0)}function Lo(n){var i=Bs(n);if(Nd(i))return n}function Zd(n,i){if(n==="change")return i}var Jd=!1;if(Yn){var Gc;if(Yn){var Vc="oninput"in document;if(!Vc){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),Vc=typeof tg.oninput=="function"}Gc=Vc}else Gc=!1;Jd=Gc&&(!document.documentMode||9<document.documentMode)}function eg(){qs&&(qs.detachEvent("onpropertychange",ng),$s=qs=null)}function ng(n){if(n.propertyName==="value"&&Lo($s)){var i=[];Qd(i,$s,n,kc(n)),Bd($1,i)}}function Y1(n,i,r){n==="focusin"?(eg(),qs=i,$s=r,qs.attachEvent("onpropertychange",ng)):n==="focusout"&&eg()}function X1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Lo($s)}function W1(n,i){if(n==="click")return Lo(i)}function K1(n,i){if(n==="input"||n==="change")return Lo(i)}function Q1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Ze=typeof Object.is=="function"?Object.is:Q1;function Ys(n,i){if(Ze(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var r=Object.keys(n),u=Object.keys(i);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var g=r[u];if(!Qe.call(i,g)||!Ze(n[g],i[g]))return!1}return!0}function ig(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ag(n,i){var r=ig(n);n=0;for(var u;r;){if(r.nodeType===3){if(u=n+r.textContent.length,n<=i&&u>=i)return{node:r,offset:i-n};n=u}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ig(r)}}function sg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?sg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function rg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=_o(n.document);i instanceof n.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)n=i.contentWindow;else break;i=_o(n.document)}return i}function qc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Z1=Yn&&"documentMode"in document&&11>=document.documentMode,Ua=null,$c=null,Xs=null,Yc=!1;function og(n,i,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yc||Ua==null||Ua!==_o(u)||(u=Ua,"selectionStart"in u&&qc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xs&&Ys(Xs,u)||(Xs=u,u=ml($c,"onSelect"),0<u.length&&(i=new Mo("onSelect","select",null,i,r),n.push({event:i,listeners:u}),i.target=Ua)))}function ea(n,i){var r={};return r[n.toLowerCase()]=i.toLowerCase(),r["Webkit"+n]="webkit"+i,r["Moz"+n]="moz"+i,r}var Ga={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Xc={},lg={};Yn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function na(n){if(Xc[n])return Xc[n];if(!Ga[n])return n;var i=Ga[n],r;for(r in i)if(i.hasOwnProperty(r)&&r in lg)return Xc[n]=i[r];return n}var cg=na("animationend"),ug=na("animationiteration"),hg=na("animationstart"),J1=na("transitionrun"),tA=na("transitionstart"),eA=na("transitioncancel"),fg=na("transitionend"),dg=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function En(n,i){dg.set(n,i),Ji(i,[n])}var gg=new WeakMap;function fn(n,i){if(typeof n=="object"&&n!==null){var r=gg.get(n);return r!==void 0?r:(i={value:n,source:i,stack:Dd(i)},gg.set(n,i),i)}return{value:n,source:i,stack:Dd(i)}}var dn=[],Va=0,Kc=0;function No(){for(var n=Va,i=Kc=Va=0;i<n;){var r=dn[i];dn[i++]=null;var u=dn[i];dn[i++]=null;var g=dn[i];dn[i++]=null;var m=dn[i];if(dn[i++]=null,u!==null&&g!==null){var A=u.pending;A===null?g.next=g:(g.next=A.next,A.next=g),u.pending=g}m!==0&&pg(r,g,m)}}function Oo(n,i,r,u){dn[Va++]=n,dn[Va++]=i,dn[Va++]=r,dn[Va++]=u,Kc|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Qc(n,i,r,u){return Oo(n,i,r,u),ko(n)}function qa(n,i){return Oo(n,null,null,i),ko(n)}function pg(n,i,r){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r);for(var g=!1,m=n.return;m!==null;)m.childLanes|=r,u=m.alternate,u!==null&&(u.childLanes|=r),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(g=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,g&&i!==null&&(g=31-ee(r),n=m.hiddenUpdates,u=n[g],u===null?n[g]=[i]:u.push(i),i.lane=r|536870912),m):null}function ko(n){if(50<br)throw br=0,ih=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var $a={};function nA(n,i,r,u){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(n,i,r,u){return new nA(n,i,r,u)}function Zc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xn(n,i){var r=n.alternate;return r===null?(r=Je(n.tag,i,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=i,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,i=n.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function mg(n,i){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Po(n,i,r,u,g,m){var A=0;if(u=n,typeof n=="function")Zc(n)&&(A=1);else if(typeof n=="string")A=aS(n,r,nt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case X:return n=Je(31,r,i,g),n.elementType=X,n.lanes=m,n;case S:return ia(r.children,g,m,i);case E:A=8,g|=24;break;case x:return n=Je(12,r,i,g|2),n.elementType=x,n.lanes=m,n;case C:return n=Je(13,r,i,g),n.elementType=C,n.lanes=m,n;case B:return n=Je(19,r,i,g),n.elementType=B,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w:case R:A=10;break t;case T:A=9;break t;case L:A=11;break t;case j:A=14;break t;case q:A=16,u=null;break t}A=29,r=Error(a(130,n===null?"null":typeof n,"")),u=null}return i=Je(A,r,i,g),i.elementType=n,i.type=u,i.lanes=m,i}function ia(n,i,r,u){return n=Je(7,n,u,i),n.lanes=r,n}function Jc(n,i,r){return n=Je(6,n,null,i),n.lanes=r,n}function tu(n,i,r){return i=Je(4,n.children!==null?n.children:[],n.key,i),i.lanes=r,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ya=[],Xa=0,Io=null,zo=0,gn=[],pn=0,aa=null,Wn=1,Kn="";function sa(n,i){Ya[Xa++]=zo,Ya[Xa++]=Io,Io=n,zo=i}function vg(n,i,r){gn[pn++]=Wn,gn[pn++]=Kn,gn[pn++]=aa,aa=n;var u=Wn;n=Kn;var g=32-ee(u)-1;u&=~(1<<g),r+=1;var m=32-ee(i)+g;if(30<m){var A=g-g%5;m=(u&(1<<A)-1).toString(32),u>>=A,g-=A,Wn=1<<32-ee(i)+g|r<<g|u,Kn=m+n}else Wn=1<<m|r<<g|u,Kn=n}function eu(n){n.return!==null&&(sa(n,1),vg(n,1,0))}function nu(n){for(;n===Io;)Io=Ya[--Xa],Ya[Xa]=null,zo=Ya[--Xa],Ya[Xa]=null;for(;n===aa;)aa=gn[--pn],gn[pn]=null,Kn=gn[--pn],gn[pn]=null,Wn=gn[--pn],gn[pn]=null}var Be=null,ne=null,Pt=!1,ra=null,Mn=!1,iu=Error(a(519));function oa(n){var i=Error(a(418,""));throw Qs(fn(i,n)),iu}function yg(n){var i=n.stateNode,r=n.type,u=n.memoizedProps;switch(i[Ne]=n,i[Ge]=u,r){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(r=0;r<Sr.length;r++)Ct(Sr[r],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),Od(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),wo(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),Pd(i,u.value,u.defaultValue,u.children),wo(i)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||u.suppressHydrationWarning===!0||Pm(i.textContent,r)?(u.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),u.onScroll!=null&&Ct("scroll",i),u.onScrollEnd!=null&&Ct("scrollend",i),u.onClick!=null&&(i.onclick=vl),i=!0):i=!1,i||oa(n)}function bg(n){for(Be=n.return;Be;)switch(Be.tag){case 5:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function Ws(n){if(n!==Be)return!1;if(!Pt)return bg(n),Pt=!0,!1;var i=n.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||bh(n.type,n.memoizedProps)),r=!r),r&&ne&&oa(n),bg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){ne=_n(n.nextSibling);break t}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;n=n.nextSibling}ne=null}}else i===27?(i=ne,zi(n.type)?(n=wh,wh=null,ne=n):ne=i):ne=Be?_n(n.stateNode.nextSibling):null;return!0}function Ks(){ne=Be=null,Pt=!1}function Ag(){var n=ra;return n!==null&&(Ye===null?Ye=n:Ye.push.apply(Ye,n),ra=null),n}function Qs(n){ra===null?ra=[n]:ra.push(n)}var au=Y(null),la=null,Qn=null;function Ei(n,i,r){K(au,i._currentValue),i._currentValue=r}function Zn(n){n._currentValue=au.current,Q(au)}function su(n,i,r){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===r)break;n=n.return}}function ru(n,i,r,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var m=g.dependencies;if(m!==null){var A=g.child;m=m.firstContext;t:for(;m!==null;){var _=m;m=g;for(var M=0;M<i.length;M++)if(_.context===i[M]){m.lanes|=r,_=m.alternate,_!==null&&(_.lanes|=r),su(m.return,r,n),u||(A=null);break t}m=_.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(a(341));A.lanes|=r,m=A.alternate,m!==null&&(m.lanes|=r),su(A,r,n),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===n){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Zs(n,i,r,u){n=null;for(var g=i,m=!1;g!==null;){if(!m){if((g.flags&524288)!==0)m=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var _=g.type;Ze(g.pendingProps.value,A.value)||(n!==null?n.push(_):n=[_])}}else if(g===Et.current){if(A=g.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Cr):n=[Cr])}g=g.return}n!==null&&ru(i,n,r,u),i.flags|=262144}function Fo(n){for(n=n.firstContext;n!==null;){if(!Ze(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ca(n){la=n,Qn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Oe(n){return Sg(la,n)}function Bo(n,i){return la===null&&ca(n),Sg(n,i)}function Sg(n,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Qn===null){if(n===null)throw Error(a(308));Qn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Qn=Qn.next=i;return r}var iA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(r,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(r){return r()})}},aA=l.unstable_scheduleCallback,sA=l.unstable_NormalPriority,ve={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ou(){return{controller:new iA,data:new Map,refCount:0}}function Js(n){n.refCount--,n.refCount===0&&aA(sA,function(){n.controller.abort()})}var tr=null,lu=0,Wa=0,Ka=null;function rA(n,i){if(tr===null){var r=tr=[];lu=0,Wa=uh(),Ka={status:"pending",value:void 0,then:function(u){r.push(u)}}}return lu++,i.then(Eg,Eg),i}function Eg(){if(--lu===0&&tr!==null){Ka!==null&&(Ka.status="fulfilled");var n=tr;tr=null,Wa=0,Ka=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function oA(n,i){var r=[],u={status:"pending",value:null,reason:null,then:function(g){r.push(g)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var g=0;g<r.length;g++)(0,r[g])(i)},function(g){for(u.status="rejected",u.reason=g,g=0;g<r.length;g++)(0,r[g])(void 0)}),u}var wg=O.S;O.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&rA(n,i),wg!==null&&wg(n,i)};var ua=Y(null);function cu(){var n=ua.current;return n!==null?n:$t.pooledCache}function jo(n,i){i===null?K(ua,ua.current):K(ua,i.pool)}function _g(){var n=cu();return n===null?null:{parent:ve._currentValue,pool:n}}var er=Error(a(460)),xg=Error(a(474)),Ho=Error(a(542)),uu={then:function(){}};function Tg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Uo(){}function Cg(n,i,r){switch(r=n[r],r===void 0?n.push(i):r!==i&&(i.then(Uo,Uo),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Mg(n),n;default:if(typeof i.status=="string")i.then(Uo,Uo);else{if(n=$t,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=u}},function(u){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Mg(n),n}throw nr=i,er}}var nr=null;function Rg(){if(nr===null)throw Error(a(459));var n=nr;return nr=null,n}function Mg(n){if(n===er||n===Ho)throw Error(a(483))}var wi=!1;function hu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _i(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function xi(n,i,r){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(It&2)!==0){var g=u.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i,i=ko(n),pg(n,null,r),i}return Oo(n,u,i,r),ko(n)}function ir(n,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,r|=u,i.lanes=r,Ed(n,r)}}function du(n,i){var r=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var g=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var A={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?g=m=A:m=m.next=A,r=r.next}while(r!==null);m===null?g=m=i:m=m.next=i}else g=m=i;r={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=i:n.next=i,r.lastBaseUpdate=i}var gu=!1;function ar(){if(gu){var n=Ka;if(n!==null)throw n}}function sr(n,i,r,u){gu=!1;var g=n.updateQueue;wi=!1;var m=g.firstBaseUpdate,A=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var M=_,F=M.next;M.next=null,A===null?m=F:A.next=F,A=M;var V=n.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==A&&(_===null?V.firstBaseUpdate=F:_.next=F,V.lastBaseUpdate=M))}if(m!==null){var W=g.baseState;A=0,V=F=M=null,_=m;do{var H=_.lane&-536870913,U=H!==_.lane;if(U?(Ot&H)===H:(u&H)===H){H!==0&&H===Wa&&(gu=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var mt=n,ft=_;H=i;var Ht=r;switch(ft.tag){case 1:if(mt=ft.payload,typeof mt=="function"){W=mt.call(Ht,W,H);break t}W=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ft.payload,H=typeof mt=="function"?mt.call(Ht,W,H):mt,H==null)break t;W=p({},W,H);break t;case 2:wi=!0}}H=_.callback,H!==null&&(n.flags|=64,U&&(n.flags|=8192),U=g.callbacks,U===null?g.callbacks=[H]:U.push(H))}else U={lane:H,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(F=V=U,M=W):V=V.next=U,A|=H;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;U=_,_=U.next,U.next=null,g.lastBaseUpdate=U,g.shared.pending=null}}while(!0);V===null&&(M=W),g.baseState=M,g.firstBaseUpdate=F,g.lastBaseUpdate=V,m===null&&(g.shared.lanes=0),Oi|=A,n.lanes=A,n.memoizedState=W}}function Dg(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Lg(n,i){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Dg(r[n],i)}var Qa=Y(null),Go=Y(0);function Ng(n,i){n=si,K(Go,n),K(Qa,i),si=n|i.baseLanes}function pu(){K(Go,si),K(Qa,Qa.current)}function mu(){si=Go.current,Q(Qa),Q(Go)}var Ti=0,_t=null,Bt=null,de=null,Vo=!1,Za=!1,ha=!1,qo=0,rr=0,Ja=null,lA=0;function se(){throw Error(a(321))}function vu(n,i){if(i===null)return!1;for(var r=0;r<i.length&&r<n.length;r++)if(!Ze(n[r],i[r]))return!1;return!0}function yu(n,i,r,u,g,m){return Ti=m,_t=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,O.H=n===null||n.memoizedState===null?pp:mp,ha=!1,m=r(u,g),ha=!1,Za&&(m=kg(i,r,u,g)),Og(n),m}function Og(n){O.H=Qo;var i=Bt!==null&&Bt.next!==null;if(Ti=0,de=Bt=_t=null,Vo=!1,rr=0,Ja=null,i)throw Error(a(300));n===null||Se||(n=n.dependencies,n!==null&&Fo(n)&&(Se=!0))}function kg(n,i,r,u){_t=n;var g=0;do{if(Za&&(Ja=null),rr=0,Za=!1,25<=g)throw Error(a(301));if(g+=1,de=Bt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}O.H=pA,m=i(r,u)}while(Za);return m}function cA(){var n=O.H,i=n.useState()[0];return i=typeof i.then=="function"?or(i):i,n=n.useState()[0],(Bt!==null?Bt.memoizedState:null)!==n&&(_t.flags|=1024),i}function bu(){var n=qo!==0;return qo=0,n}function Au(n,i,r){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~r}function Su(n){if(Vo){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vo=!1}Ti=0,de=Bt=_t=null,Za=!1,rr=qo=0,Ja=null}function qe(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?_t.memoizedState=de=n:de=de.next=n,de}function ge(){if(Bt===null){var n=_t.alternate;n=n!==null?n.memoizedState:null}else n=Bt.next;var i=de===null?_t.memoizedState:de.next;if(i!==null)de=i,Bt=n;else{if(n===null)throw _t.alternate===null?Error(a(467)):Error(a(310));Bt=n,n={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},de===null?_t.memoizedState=de=n:de=de.next=n}return de}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function or(n){var i=rr;return rr+=1,Ja===null&&(Ja=[]),n=Cg(Ja,n,i),i=_t,(de===null?i.memoizedState:de.next)===null&&(i=i.alternate,O.H=i===null||i.memoizedState===null?pp:mp),n}function $o(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return or(n);if(n.$$typeof===R)return Oe(n)}throw Error(a(438,String(n)))}function wu(n){var i=null,r=_t.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var u=_t.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Eu(),_t.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(n),u=0;u<n;u++)r[u]=J;return i.index++,r}function Jn(n,i){return typeof i=="function"?i(n):i}function Yo(n){var i=ge();return _u(i,Bt,n)}function _u(n,i,r){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=r;var g=n.baseQueue,m=u.pending;if(m!==null){if(g!==null){var A=g.next;g.next=m.next,m.next=A}i.baseQueue=g=m,u.pending=null}if(m=n.baseState,g===null)n.memoizedState=m;else{i=g.next;var _=A=null,M=null,F=i,V=!1;do{var W=F.lane&-536870913;if(W!==F.lane?(Ot&W)===W:(Ti&W)===W){var H=F.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),W===Wa&&(V=!0);else if((Ti&H)===H){F=F.next,H===Wa&&(V=!0);continue}else W={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(_=M=W,A=m):M=M.next=W,_t.lanes|=H,Oi|=H;W=F.action,ha&&r(m,W),m=F.hasEagerState?F.eagerState:r(m,W)}else H={lane:W,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(_=M=H,A=m):M=M.next=H,_t.lanes|=W,Oi|=W;F=F.next}while(F!==null&&F!==i);if(M===null?A=m:M.next=_,!Ze(m,n.memoizedState)&&(Se=!0,V&&(r=Ka,r!==null)))throw r;n.memoizedState=m,n.baseState=A,n.baseQueue=M,u.lastRenderedState=m}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function xu(n){var i=ge(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=n;var u=r.dispatch,g=r.pending,m=i.memoizedState;if(g!==null){r.pending=null;var A=g=g.next;do m=n(m,A.action),A=A.next;while(A!==g);Ze(m,i.memoizedState)||(Se=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,u]}function Pg(n,i,r){var u=_t,g=ge(),m=Pt;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=i();var A=!Ze((Bt||g).memoizedState,r);A&&(g.memoizedState=r,Se=!0),g=g.queue;var _=Fg.bind(null,u,g,n);if(lr(2048,8,_,[n]),g.getSnapshot!==i||A||de!==null&&de.memoizedState.tag&1){if(u.flags|=2048,ts(9,Xo(),zg.bind(null,u,g,r,i),null),$t===null)throw Error(a(349));m||(Ti&124)!==0||Ig(u,i,r)}return r}function Ig(n,i,r){n.flags|=16384,n={getSnapshot:i,value:r},i=_t.updateQueue,i===null?(i=Eu(),_t.updateQueue=i,i.stores=[n]):(r=i.stores,r===null?i.stores=[n]:r.push(n))}function zg(n,i,r,u){i.value=r,i.getSnapshot=u,Bg(i)&&jg(n)}function Fg(n,i,r){return r(function(){Bg(i)&&jg(n)})}function Bg(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!Ze(n,r)}catch{return!0}}function jg(n){var i=qa(n,2);i!==null&&sn(i,n,2)}function Tu(n){var i=qe();if(typeof n=="function"){var r=n;if(n=r(),ha){Fe(!0);try{r()}finally{Fe(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:n},i}function Hg(n,i,r,u){return n.baseState=r,_u(n,Bt,typeof u=="function"?u:Jn)}function uA(n,i,r,u,g){if(Ko(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){m.listeners.push(A)}};O.T!==null?r(!0):m.isTransition=!1,u(m),r=i.pending,r===null?(m.next=i.pending=m,Ug(i,m)):(m.next=r.next,i.pending=r.next=m)}}function Ug(n,i){var r=i.action,u=i.payload,g=n.state;if(i.isTransition){var m=O.T,A={};O.T=A;try{var _=r(g,u),M=O.S;M!==null&&M(A,_),Gg(n,i,_)}catch(F){Cu(n,i,F)}finally{O.T=m}}else try{m=r(g,u),Gg(n,i,m)}catch(F){Cu(n,i,F)}}function Gg(n,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){Vg(n,i,u)},function(u){return Cu(n,i,u)}):Vg(n,i,r)}function Vg(n,i,r){i.status="fulfilled",i.value=r,qg(i),n.state=r,i=n.pending,i!==null&&(r=i.next,r===i?n.pending=null:(r=r.next,i.next=r,Ug(n,r)))}function Cu(n,i,r){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=r,qg(i),i=i.next;while(i!==u)}n.action=null}function qg(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function $g(n,i){return i}function Yg(n,i){if(Pt){var r=$t.formState;if(r!==null){t:{var u=_t;if(Pt){if(ne){e:{for(var g=ne,m=Mn;g.nodeType!==8;){if(!m){g=null;break e}if(g=_n(g.nextSibling),g===null){g=null;break e}}m=g.data,g=m==="F!"||m==="F"?g:null}if(g){ne=_n(g.nextSibling),u=g.data==="F!";break t}}oa(u)}u=!1}u&&(i=r[0])}}return r=qe(),r.memoizedState=r.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:i},r.queue=u,r=fp.bind(null,_t,u),u.dispatch=r,u=Tu(!1),m=Nu.bind(null,_t,!1,u.queue),u=qe(),g={state:i,dispatch:null,action:n,pending:null},u.queue=g,r=uA.bind(null,_t,g,m,r),g.dispatch=r,u.memoizedState=n,[i,r,!1]}function Xg(n){var i=ge();return Wg(i,Bt,n)}function Wg(n,i,r){if(i=_u(n,i,$g)[0],n=Yo(Jn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=or(i)}catch(A){throw A===er?Ho:A}else u=i;i=ge();var g=i.queue,m=g.dispatch;return r!==i.memoizedState&&(_t.flags|=2048,ts(9,Xo(),hA.bind(null,g,r),null)),[u,m,n]}function hA(n,i){n.action=i}function Kg(n){var i=ge(),r=Bt;if(r!==null)return Wg(i,r,n);ge(),i=i.memoizedState,r=ge();var u=r.queue.dispatch;return r.memoizedState=n,[i,u,!1]}function ts(n,i,r,u){return n={tag:n,create:r,deps:u,inst:i,next:null},i=_t.updateQueue,i===null&&(i=Eu(),_t.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=n.next=n:(u=r.next,r.next=n,n.next=u,i.lastEffect=n),n}function Xo(){return{destroy:void 0,resource:void 0}}function Qg(){return ge().memoizedState}function Wo(n,i,r,u){var g=qe();u=u===void 0?null:u,_t.flags|=n,g.memoizedState=ts(1|i,Xo(),r,u)}function lr(n,i,r,u){var g=ge();u=u===void 0?null:u;var m=g.memoizedState.inst;Bt!==null&&u!==null&&vu(u,Bt.memoizedState.deps)?g.memoizedState=ts(i,m,r,u):(_t.flags|=n,g.memoizedState=ts(1|i,m,r,u))}function Zg(n,i){Wo(8390656,8,n,i)}function Jg(n,i){lr(2048,8,n,i)}function tp(n,i){return lr(4,2,n,i)}function ep(n,i){return lr(4,4,n,i)}function np(n,i){if(typeof i=="function"){n=n();var r=i(n);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ip(n,i,r){r=r!=null?r.concat([n]):null,lr(4,4,np.bind(null,i,n),r)}function Ru(){}function ap(n,i){var r=ge();i=i===void 0?null:i;var u=r.memoizedState;return i!==null&&vu(i,u[1])?u[0]:(r.memoizedState=[n,i],n)}function sp(n,i){var r=ge();i=i===void 0?null:i;var u=r.memoizedState;if(i!==null&&vu(i,u[1]))return u[0];if(u=n(),ha){Fe(!0);try{n()}finally{Fe(!1)}}return r.memoizedState=[u,i],u}function Mu(n,i,r){return r===void 0||(Ti&1073741824)!==0?n.memoizedState=i:(n.memoizedState=r,n=lm(),_t.lanes|=n,Oi|=n,r)}function rp(n,i,r,u){return Ze(r,i)?r:Qa.current!==null?(n=Mu(n,r,u),Ze(n,i)||(Se=!0),n):(Ti&42)===0?(Se=!0,n.memoizedState=r):(n=lm(),_t.lanes|=n,Oi|=n,i)}function op(n,i,r,u,g){var m=G.p;G.p=m!==0&&8>m?m:8;var A=O.T,_={};O.T=_,Nu(n,!1,i,r);try{var M=g(),F=O.S;if(F!==null&&F(_,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var V=oA(M,u);cr(n,i,V,an(n))}else cr(n,i,u,an(n))}catch(W){cr(n,i,{then:function(){},status:"rejected",reason:W},an())}finally{G.p=m,O.T=A}}function fA(){}function Du(n,i,r,u){if(n.tag!==5)throw Error(a(476));var g=lp(n).queue;op(n,g,i,et,r===null?fA:function(){return cp(n),r(u)})}function lp(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:et},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:r},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function cp(n){var i=lp(n).next.queue;cr(n,i,{},an())}function Lu(){return Oe(Cr)}function up(){return ge().memoizedState}function hp(){return ge().memoizedState}function dA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var r=an();n=_i(r);var u=xi(i,n,r);u!==null&&(sn(u,i,r),ir(u,i,r)),i={cache:ou()},n.payload=i;return}i=i.return}}function gA(n,i,r){var u=an();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ko(n)?dp(i,r):(r=Qc(n,i,r,u),r!==null&&(sn(r,n,u),gp(r,i,u)))}function fp(n,i,r){var u=an();cr(n,i,r,u)}function cr(n,i,r,u){var g={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ko(n))dp(i,g);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var A=i.lastRenderedState,_=m(A,r);if(g.hasEagerState=!0,g.eagerState=_,Ze(_,A))return Oo(n,i,g,0),$t===null&&No(),!1}catch{}finally{}if(r=Qc(n,i,g,u),r!==null)return sn(r,n,u),gp(r,i,u),!0}return!1}function Nu(n,i,r,u){if(u={lane:2,revertLane:uh(),action:u,hasEagerState:!1,eagerState:null,next:null},Ko(n)){if(i)throw Error(a(479))}else i=Qc(n,r,u,2),i!==null&&sn(i,n,2)}function Ko(n){var i=n.alternate;return n===_t||i!==null&&i===_t}function dp(n,i){Za=Vo=!0;var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}function gp(n,i,r){if((r&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,r|=u,i.lanes=r,Ed(n,r)}}var Qo={readContext:Oe,use:$o,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se},pp={readContext:Oe,use:$o,useCallback:function(n,i){return qe().memoizedState=[n,i===void 0?null:i],n},useContext:Oe,useEffect:Zg,useImperativeHandle:function(n,i,r){r=r!=null?r.concat([n]):null,Wo(4194308,4,np.bind(null,i,n),r)},useLayoutEffect:function(n,i){return Wo(4194308,4,n,i)},useInsertionEffect:function(n,i){Wo(4,2,n,i)},useMemo:function(n,i){var r=qe();i=i===void 0?null:i;var u=n();if(ha){Fe(!0);try{n()}finally{Fe(!1)}}return r.memoizedState=[u,i],u},useReducer:function(n,i,r){var u=qe();if(r!==void 0){var g=r(i);if(ha){Fe(!0);try{r(i)}finally{Fe(!1)}}}else g=i;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=gA.bind(null,_t,n),[u.memoizedState,n]},useRef:function(n){var i=qe();return n={current:n},i.memoizedState=n},useState:function(n){n=Tu(n);var i=n.queue,r=fp.bind(null,_t,i);return i.dispatch=r,[n.memoizedState,r]},useDebugValue:Ru,useDeferredValue:function(n,i){var r=qe();return Mu(r,n,i)},useTransition:function(){var n=Tu(!1);return n=op.bind(null,_t,n.queue,!0,!1),qe().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,r){var u=_t,g=qe();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),$t===null)throw Error(a(349));(Ot&124)!==0||Ig(u,i,r)}g.memoizedState=r;var m={value:r,getSnapshot:i};return g.queue=m,Zg(Fg.bind(null,u,m,n),[n]),u.flags|=2048,ts(9,Xo(),zg.bind(null,u,m,r,i),null),r},useId:function(){var n=qe(),i=$t.identifierPrefix;if(Pt){var r=Kn,u=Wn;r=(u&~(1<<32-ee(u)-1)).toString(32)+r,i=""+i+"R"+r,r=qo++,0<r&&(i+="H"+r.toString(32)),i+=""}else r=lA++,i=""+i+"r"+r.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Lu,useFormState:Yg,useActionState:Yg,useOptimistic:function(n){var i=qe();i.memoizedState=i.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Nu.bind(null,_t,!0,r),r.dispatch=i,[n,i]},useMemoCache:wu,useCacheRefresh:function(){return qe().memoizedState=dA.bind(null,_t)}},mp={readContext:Oe,use:$o,useCallback:ap,useContext:Oe,useEffect:Jg,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:sp,useReducer:Yo,useRef:Qg,useState:function(){return Yo(Jn)},useDebugValue:Ru,useDeferredValue:function(n,i){var r=ge();return rp(r,Bt.memoizedState,n,i)},useTransition:function(){var n=Yo(Jn)[0],i=ge().memoizedState;return[typeof n=="boolean"?n:or(n),i]},useSyncExternalStore:Pg,useId:up,useHostTransitionStatus:Lu,useFormState:Xg,useActionState:Xg,useOptimistic:function(n,i){var r=ge();return Hg(r,Bt,n,i)},useMemoCache:wu,useCacheRefresh:hp},pA={readContext:Oe,use:$o,useCallback:ap,useContext:Oe,useEffect:Jg,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:sp,useReducer:xu,useRef:Qg,useState:function(){return xu(Jn)},useDebugValue:Ru,useDeferredValue:function(n,i){var r=ge();return Bt===null?Mu(r,n,i):rp(r,Bt.memoizedState,n,i)},useTransition:function(){var n=xu(Jn)[0],i=ge().memoizedState;return[typeof n=="boolean"?n:or(n),i]},useSyncExternalStore:Pg,useId:up,useHostTransitionStatus:Lu,useFormState:Kg,useActionState:Kg,useOptimistic:function(n,i){var r=ge();return Bt!==null?Hg(r,Bt,n,i):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:wu,useCacheRefresh:hp},es=null,ur=0;function Zo(n){var i=ur;return ur+=1,es===null&&(es=[]),Cg(es,n,i)}function hr(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Jo(n,i){throw i.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function vp(n){var i=n._init;return i(n._payload)}function yp(n){function i(P,k){if(n){var z=P.deletions;z===null?(P.deletions=[k],P.flags|=16):z.push(k)}}function r(P,k){if(!n)return null;for(;k!==null;)i(P,k),k=k.sibling;return null}function u(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function g(P,k){return P=Xn(P,k),P.index=0,P.sibling=null,P}function m(P,k,z){return P.index=z,n?(z=P.alternate,z!==null?(z=z.index,z<k?(P.flags|=67108866,k):z):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function A(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function _(P,k,z,$){return k===null||k.tag!==6?(k=Jc(z,P.mode,$),k.return=P,k):(k=g(k,z),k.return=P,k)}function M(P,k,z,$){var at=z.type;return at===S?V(P,k,z.props.children,$,z.key):k!==null&&(k.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===q&&vp(at)===k.type)?(k=g(k,z.props),hr(k,z),k.return=P,k):(k=Po(z.type,z.key,z.props,null,P.mode,$),hr(k,z),k.return=P,k)}function F(P,k,z,$){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=tu(z,P.mode,$),k.return=P,k):(k=g(k,z.children||[]),k.return=P,k)}function V(P,k,z,$,at){return k===null||k.tag!==7?(k=ia(z,P.mode,$,at),k.return=P,k):(k=g(k,z),k.return=P,k)}function W(P,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Jc(""+k,P.mode,z),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case y:return z=Po(k.type,k.key,k.props,null,P.mode,z),hr(z,k),z.return=P,z;case b:return k=tu(k,P.mode,z),k.return=P,k;case q:var $=k._init;return k=$(k._payload),W(P,k,z)}if(yt(k)||lt(k))return k=ia(k,P.mode,z,null),k.return=P,k;if(typeof k.then=="function")return W(P,Zo(k),z);if(k.$$typeof===R)return W(P,Bo(P,k),z);Jo(P,k)}return null}function H(P,k,z,$){var at=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:_(P,k,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case y:return z.key===at?M(P,k,z,$):null;case b:return z.key===at?F(P,k,z,$):null;case q:return at=z._init,z=at(z._payload),H(P,k,z,$)}if(yt(z)||lt(z))return at!==null?null:V(P,k,z,$,null);if(typeof z.then=="function")return H(P,k,Zo(z),$);if(z.$$typeof===R)return H(P,k,Bo(P,z),$);Jo(P,z)}return null}function U(P,k,z,$,at){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(z)||null,_(k,P,""+$,at);if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return P=P.get($.key===null?z:$.key)||null,M(k,P,$,at);case b:return P=P.get($.key===null?z:$.key)||null,F(k,P,$,at);case q:var xt=$._init;return $=xt($._payload),U(P,k,z,$,at)}if(yt($)||lt($))return P=P.get(z)||null,V(k,P,$,at,null);if(typeof $.then=="function")return U(P,k,z,Zo($),at);if($.$$typeof===R)return U(P,k,z,Bo(k,$),at);Jo(k,$)}return null}function mt(P,k,z,$){for(var at=null,xt=null,ot=k,dt=k=0,we=null;ot!==null&&dt<z.length;dt++){ot.index>dt?(we=ot,ot=null):we=ot.sibling;var kt=H(P,ot,z[dt],$);if(kt===null){ot===null&&(ot=we);break}n&&ot&&kt.alternate===null&&i(P,ot),k=m(kt,k,dt),xt===null?at=kt:xt.sibling=kt,xt=kt,ot=we}if(dt===z.length)return r(P,ot),Pt&&sa(P,dt),at;if(ot===null){for(;dt<z.length;dt++)ot=W(P,z[dt],$),ot!==null&&(k=m(ot,k,dt),xt===null?at=ot:xt.sibling=ot,xt=ot);return Pt&&sa(P,dt),at}for(ot=u(ot);dt<z.length;dt++)we=U(ot,P,dt,z[dt],$),we!==null&&(n&&we.alternate!==null&&ot.delete(we.key===null?dt:we.key),k=m(we,k,dt),xt===null?at=we:xt.sibling=we,xt=we);return n&&ot.forEach(function(Ui){return i(P,Ui)}),Pt&&sa(P,dt),at}function ft(P,k,z,$){if(z==null)throw Error(a(151));for(var at=null,xt=null,ot=k,dt=k=0,we=null,kt=z.next();ot!==null&&!kt.done;dt++,kt=z.next()){ot.index>dt?(we=ot,ot=null):we=ot.sibling;var Ui=H(P,ot,kt.value,$);if(Ui===null){ot===null&&(ot=we);break}n&&ot&&Ui.alternate===null&&i(P,ot),k=m(Ui,k,dt),xt===null?at=Ui:xt.sibling=Ui,xt=Ui,ot=we}if(kt.done)return r(P,ot),Pt&&sa(P,dt),at;if(ot===null){for(;!kt.done;dt++,kt=z.next())kt=W(P,kt.value,$),kt!==null&&(k=m(kt,k,dt),xt===null?at=kt:xt.sibling=kt,xt=kt);return Pt&&sa(P,dt),at}for(ot=u(ot);!kt.done;dt++,kt=z.next())kt=U(ot,P,dt,kt.value,$),kt!==null&&(n&&kt.alternate!==null&&ot.delete(kt.key===null?dt:kt.key),k=m(kt,k,dt),xt===null?at=kt:xt.sibling=kt,xt=kt);return n&&ot.forEach(function(mS){return i(P,mS)}),Pt&&sa(P,dt),at}function Ht(P,k,z,$){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case y:t:{for(var at=z.key;k!==null;){if(k.key===at){if(at=z.type,at===S){if(k.tag===7){r(P,k.sibling),$=g(k,z.props.children),$.return=P,P=$;break t}}else if(k.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===q&&vp(at)===k.type){r(P,k.sibling),$=g(k,z.props),hr($,z),$.return=P,P=$;break t}r(P,k);break}else i(P,k);k=k.sibling}z.type===S?($=ia(z.props.children,P.mode,$,z.key),$.return=P,P=$):($=Po(z.type,z.key,z.props,null,P.mode,$),hr($,z),$.return=P,P=$)}return A(P);case b:t:{for(at=z.key;k!==null;){if(k.key===at)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){r(P,k.sibling),$=g(k,z.children||[]),$.return=P,P=$;break t}else{r(P,k);break}else i(P,k);k=k.sibling}$=tu(z,P.mode,$),$.return=P,P=$}return A(P);case q:return at=z._init,z=at(z._payload),Ht(P,k,z,$)}if(yt(z))return mt(P,k,z,$);if(lt(z)){if(at=lt(z),typeof at!="function")throw Error(a(150));return z=at.call(z),ft(P,k,z,$)}if(typeof z.then=="function")return Ht(P,k,Zo(z),$);if(z.$$typeof===R)return Ht(P,k,Bo(P,z),$);Jo(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(r(P,k.sibling),$=g(k,z),$.return=P,P=$):(r(P,k),$=Jc(z,P.mode,$),$.return=P,P=$),A(P)):r(P,k)}return function(P,k,z,$){try{ur=0;var at=Ht(P,k,z,$);return es=null,at}catch(ot){if(ot===er||ot===Ho)throw ot;var xt=Je(29,ot,null,P.mode);return xt.lanes=$,xt.return=P,xt}finally{}}}var ns=yp(!0),bp=yp(!1),mn=Y(null),Dn=null;function Ci(n){var i=n.alternate;K(ye,ye.current&1),K(mn,n),Dn===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Dn=n)}function Ap(n){if(n.tag===22){if(K(ye,ye.current),K(mn,n),Dn===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Dn=n)}}else Ri()}function Ri(){K(ye,ye.current),K(mn,mn.current)}function ti(n){Q(mn),Dn===n&&(Dn=null),Q(ye)}var ye=Y(0);function tl(n){for(var i=n;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Eh(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ou(n,i,r,u){i=n.memoizedState,r=r(u,i),r=r==null?i:p({},i,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var ku={enqueueSetState:function(n,i,r){n=n._reactInternals;var u=an(),g=_i(u);g.payload=i,r!=null&&(g.callback=r),i=xi(n,g,u),i!==null&&(sn(i,n,u),ir(i,n,u))},enqueueReplaceState:function(n,i,r){n=n._reactInternals;var u=an(),g=_i(u);g.tag=1,g.payload=i,r!=null&&(g.callback=r),i=xi(n,g,u),i!==null&&(sn(i,n,u),ir(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var r=an(),u=_i(r);u.tag=2,i!=null&&(u.callback=i),i=xi(n,u,r),i!==null&&(sn(i,n,r),ir(i,n,r))}};function Sp(n,i,r,u,g,m,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,A):i.prototype&&i.prototype.isPureReactComponent?!Ys(r,u)||!Ys(g,m):!0}function Ep(n,i,r,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,u),i.state!==n&&ku.enqueueReplaceState(i,i.state,null)}function fa(n,i){var r=i;if("ref"in i){r={};for(var u in i)u!=="ref"&&(r[u]=i[u])}if(n=n.defaultProps){r===i&&(r=p({},r));for(var g in n)r[g]===void 0&&(r[g]=n[g])}return r}var el=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function wp(n){el(n)}function _p(n){console.error(n)}function xp(n){el(n)}function nl(n,i){try{var r=n.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Tp(n,i,r){try{var u=n.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Pu(n,i,r){return r=_i(r),r.tag=3,r.payload={element:null},r.callback=function(){nl(n,i)},r}function Cp(n){return n=_i(n),n.tag=3,n}function Rp(n,i,r,u){var g=r.type.getDerivedStateFromError;if(typeof g=="function"){var m=u.value;n.payload=function(){return g(m)},n.callback=function(){Tp(i,r,u)}}var A=r.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){Tp(i,r,u),typeof g!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function mA(n,i,r,u,g){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=r.alternate,i!==null&&Zs(i,r,g,!0),r=mn.current,r!==null){switch(r.tag){case 13:return Dn===null?sh():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=g,u===uu?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([u]):i.add(u),oh(n,u,g)),!1;case 22:return r.flags|=65536,u===uu?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([u]):r.add(u)),oh(n,u,g)),!1}throw Error(a(435,r.tag))}return oh(n,u,g),sh(),!1}if(Pt)return i=mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,u!==iu&&(n=Error(a(422),{cause:u}),Qs(fn(n,r)))):(u!==iu&&(i=Error(a(423),{cause:u}),Qs(fn(i,r))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=fn(u,r),g=Pu(n.stateNode,u,g),du(n,g),ie!==4&&(ie=2)),!1;var m=Error(a(520),{cause:u});if(m=fn(m,r),yr===null?yr=[m]:yr.push(m),ie!==4&&(ie=2),i===null)return!0;u=fn(u,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,n=g&-g,r.lanes|=n,n=Pu(r.stateNode,u,n),du(r,n),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ki===null||!ki.has(m))))return r.flags|=65536,g&=-g,r.lanes|=g,g=Cp(g),Rp(g,n,r,u),du(r,g),!1}r=r.return}while(r!==null);return!1}var Mp=Error(a(461)),Se=!1;function Ce(n,i,r,u){i.child=n===null?bp(i,null,r,u):ns(i,n.child,r,u)}function Dp(n,i,r,u,g){r=r.render;var m=i.ref;if("ref"in u){var A={};for(var _ in u)_!=="ref"&&(A[_]=u[_])}else A=u;return ca(i),u=yu(n,i,r,A,m,g),_=bu(),n!==null&&!Se?(Au(n,i,g),ei(n,i,g)):(Pt&&_&&eu(i),i.flags|=1,Ce(n,i,u,g),i.child)}function Lp(n,i,r,u,g){if(n===null){var m=r.type;return typeof m=="function"&&!Zc(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,Np(n,i,m,u,g)):(n=Po(r.type,null,u,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Gu(n,g)){var A=m.memoizedProps;if(r=r.compare,r=r!==null?r:Ys,r(A,u)&&n.ref===i.ref)return ei(n,i,g)}return i.flags|=1,n=Xn(m,u),n.ref=i.ref,n.return=i,i.child=n}function Np(n,i,r,u,g){if(n!==null){var m=n.memoizedProps;if(Ys(m,u)&&n.ref===i.ref)if(Se=!1,i.pendingProps=u=m,Gu(n,g))(n.flags&131072)!==0&&(Se=!0);else return i.lanes=n.lanes,ei(n,i,g)}return Iu(n,i,r,u,g)}function Op(n,i,r){var u=i.pendingProps,g=u.children,m=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=m!==null?m.baseLanes|r:r,n!==null){for(g=i.child=n.child,m=0;g!==null;)m=m|g.lanes|g.childLanes,g=g.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return kp(n,i,u,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&jo(i,m!==null?m.cachePool:null),m!==null?Ng(i,m):pu(),Ap(i);else return i.lanes=i.childLanes=536870912,kp(n,i,m!==null?m.baseLanes|r:r,r)}else m!==null?(jo(i,m.cachePool),Ng(i,m),Ri(),i.memoizedState=null):(n!==null&&jo(i,null),pu(),Ri());return Ce(n,i,g,r),i.child}function kp(n,i,r,u){var g=cu();return g=g===null?null:{parent:ve._currentValue,pool:g},i.memoizedState={baseLanes:r,cachePool:g},n!==null&&jo(i,null),pu(),Ap(i),n!==null&&Zs(n,i,u,!0),null}function il(n,i){var r=i.ref;if(r===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(n===null||n.ref!==r)&&(i.flags|=4194816)}}function Iu(n,i,r,u,g){return ca(i),r=yu(n,i,r,u,void 0,g),u=bu(),n!==null&&!Se?(Au(n,i,g),ei(n,i,g)):(Pt&&u&&eu(i),i.flags|=1,Ce(n,i,r,g),i.child)}function Pp(n,i,r,u,g,m){return ca(i),i.updateQueue=null,r=kg(i,u,r,g),Og(n),u=bu(),n!==null&&!Se?(Au(n,i,m),ei(n,i,m)):(Pt&&u&&eu(i),i.flags|=1,Ce(n,i,r,m),i.child)}function Ip(n,i,r,u,g){if(ca(i),i.stateNode===null){var m=$a,A=r.contextType;typeof A=="object"&&A!==null&&(m=Oe(A)),m=new r(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ku,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},hu(i),A=r.contextType,m.context=typeof A=="object"&&A!==null?Oe(A):$a,m.state=i.memoizedState,A=r.getDerivedStateFromProps,typeof A=="function"&&(Ou(i,r,A,u),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(A=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),A!==m.state&&ku.enqueueReplaceState(m,m.state,null),sr(i,u,m,g),ar(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var _=i.memoizedProps,M=fa(r,_);m.props=M;var F=m.context,V=r.contextType;A=$a,typeof V=="object"&&V!==null&&(A=Oe(V));var W=r.getDerivedStateFromProps;V=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||F!==A)&&Ep(i,m,u,A),wi=!1;var H=i.memoizedState;m.state=H,sr(i,u,m,g),ar(),F=i.memoizedState,_||H!==F||wi?(typeof W=="function"&&(Ou(i,r,W,u),F=i.memoizedState),(M=wi||Sp(i,r,M,u,H,F,A))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=F),m.props=u,m.state=F,m.context=A,u=M):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,fu(n,i),A=i.memoizedProps,V=fa(r,A),m.props=V,W=i.pendingProps,H=m.context,F=r.contextType,M=$a,typeof F=="object"&&F!==null&&(M=Oe(F)),_=r.getDerivedStateFromProps,(F=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A!==W||H!==M)&&Ep(i,m,u,M),wi=!1,H=i.memoizedState,m.state=H,sr(i,u,m,g),ar();var U=i.memoizedState;A!==W||H!==U||wi||n!==null&&n.dependencies!==null&&Fo(n.dependencies)?(typeof _=="function"&&(Ou(i,r,_,u),U=i.memoizedState),(V=wi||Sp(i,r,V,u,H,U,M)||n!==null&&n.dependencies!==null&&Fo(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,U,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,U,M)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||A===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=U),m.props=u,m.state=U,m.context=M,u=V):(typeof m.componentDidUpdate!="function"||A===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,il(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=ns(i,n.child,null,g),i.child=ns(i,null,r,g)):Ce(n,i,r,g),i.memoizedState=m.state,n=i.child):n=ei(n,i,g),n}function zp(n,i,r,u){return Ks(),i.flags|=256,Ce(n,i,r,u),i.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fu(n){return{baseLanes:n,cachePool:_g()}}function Bu(n,i,r){return n=n!==null?n.childLanes&~r:0,i&&(n|=vn),n}function Fp(n,i,r){var u=i.pendingProps,g=!1,m=(i.flags&128)!==0,A;if((A=m)||(A=n!==null&&n.memoizedState===null?!1:(ye.current&2)!==0),A&&(g=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,n===null){if(Pt){if(g?Ci(i):Ri(),Pt){var _=ne,M;if(M=_){t:{for(M=_,_=Mn;M.nodeType!==8;){if(!_){_=null;break t}if(M=_n(M.nextSibling),M===null){_=null;break t}}_=M}_!==null?(i.memoizedState={dehydrated:_,treeContext:aa!==null?{id:Wn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},M=Je(18,null,null,0),M.stateNode=_,M.return=i,i.child=M,Be=i,ne=null,M=!0):M=!1}M||oa(i)}if(_=i.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Eh(_)?i.lanes=32:i.lanes=536870912,null;ti(i)}return _=u.children,u=u.fallback,g?(Ri(),g=i.mode,_=al({mode:"hidden",children:_},g),u=ia(u,g,r,null),_.return=i,u.return=i,_.sibling=u,i.child=_,g=i.child,g.memoizedState=Fu(r),g.childLanes=Bu(n,A,r),i.memoizedState=zu,u):(Ci(i),ju(i,_))}if(M=n.memoizedState,M!==null&&(_=M.dehydrated,_!==null)){if(m)i.flags&256?(Ci(i),i.flags&=-257,i=Hu(n,i,r)):i.memoizedState!==null?(Ri(),i.child=n.child,i.flags|=128,i=null):(Ri(),g=u.fallback,_=i.mode,u=al({mode:"visible",children:u.children},_),g=ia(g,_,r,null),g.flags|=2,u.return=i,g.return=i,u.sibling=g,i.child=u,ns(i,n.child,null,r),u=i.child,u.memoizedState=Fu(r),u.childLanes=Bu(n,A,r),i.memoizedState=zu,i=g);else if(Ci(i),Eh(_)){if(A=_.nextSibling&&_.nextSibling.dataset,A)var F=A.dgst;A=F,u=Error(a(419)),u.stack="",u.digest=A,Qs({value:u,source:null,stack:null}),i=Hu(n,i,r)}else if(Se||Zs(n,i,r,!1),A=(r&n.childLanes)!==0,Se||A){if(A=$t,A!==null&&(u=r&-r,u=(u&42)!==0?1:wc(u),u=(u&(A.suspendedLanes|r))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,qa(n,u),sn(A,n,u),Mp;_.data==="$?"||sh(),i=Hu(n,i,r)}else _.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=M.treeContext,ne=_n(_.nextSibling),Be=i,Pt=!0,ra=null,Mn=!1,n!==null&&(gn[pn++]=Wn,gn[pn++]=Kn,gn[pn++]=aa,Wn=n.id,Kn=n.overflow,aa=i),i=ju(i,u.children),i.flags|=4096);return i}return g?(Ri(),g=u.fallback,_=i.mode,M=n.child,F=M.sibling,u=Xn(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,F!==null?g=Xn(F,g):(g=ia(g,_,r,null),g.flags|=2),g.return=i,u.return=i,u.sibling=g,i.child=u,u=g,g=i.child,_=n.child.memoizedState,_===null?_=Fu(r):(M=_.cachePool,M!==null?(F=ve._currentValue,M=M.parent!==F?{parent:F,pool:F}:M):M=_g(),_={baseLanes:_.baseLanes|r,cachePool:M}),g.memoizedState=_,g.childLanes=Bu(n,A,r),i.memoizedState=zu,u):(Ci(i),r=n.child,n=r.sibling,r=Xn(r,{mode:"visible",children:u.children}),r.return=i,r.sibling=null,n!==null&&(A=i.deletions,A===null?(i.deletions=[n],i.flags|=16):A.push(n)),i.child=r,i.memoizedState=null,r)}function ju(n,i){return i=al({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function al(n,i){return n=Je(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Hu(n,i,r){return ns(i,n.child,null,r),n=ju(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Bp(n,i,r){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),su(n.return,i,r)}function Uu(n,i,r,u,g){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:g}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=r,m.tailMode=g)}function jp(n,i,r){var u=i.pendingProps,g=u.revealOrder,m=u.tail;if(Ce(n,i,u.children,r),u=ye.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bp(n,r,i);else if(n.tag===19)Bp(n,r,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(K(ye,u),g){case"forwards":for(r=i.child,g=null;r!==null;)n=r.alternate,n!==null&&tl(n)===null&&(g=r),r=r.sibling;r=g,r===null?(g=i.child,i.child=null):(g=r.sibling,r.sibling=null),Uu(i,!1,g,r,m);break;case"backwards":for(r=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&tl(n)===null){i.child=g;break}n=g.sibling,g.sibling=r,r=g,g=n}Uu(i,!0,r,null,m);break;case"together":Uu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ei(n,i,r){if(n!==null&&(i.dependencies=n.dependencies),Oi|=i.lanes,(r&i.childLanes)===0)if(n!==null){if(Zs(n,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,r=Xn(n,n.pendingProps),i.child=r,r.return=i;n.sibling!==null;)n=n.sibling,r=r.sibling=Xn(n,n.pendingProps),r.return=i;r.sibling=null}return i.child}function Gu(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Fo(n)))}function vA(n,i,r){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Ei(i,ve,n.memoizedState.cache),Ks();break;case 27:case 5:Gt(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Ei(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ci(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Fp(n,i,r):(Ci(i),n=ei(n,i,r),n!==null?n.sibling:null);Ci(i);break;case 19:var g=(n.flags&128)!==0;if(u=(r&i.childLanes)!==0,u||(Zs(n,i,r,!1),u=(r&i.childLanes)!==0),g){if(u)return jp(n,i,r);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(ye,ye.current),u)break;return null;case 22:case 23:return i.lanes=0,Op(n,i,r);case 24:Ei(i,ve,n.memoizedState.cache)}return ei(n,i,r)}function Hp(n,i,r){if(n!==null)if(n.memoizedProps!==i.pendingProps)Se=!0;else{if(!Gu(n,r)&&(i.flags&128)===0)return Se=!1,vA(n,i,r);Se=(n.flags&131072)!==0}else Se=!1,Pt&&(i.flags&1048576)!==0&&vg(i,zo,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var u=i.elementType,g=u._init;if(u=g(u._payload),i.type=u,typeof u=="function")Zc(u)?(n=fa(u,n),i.tag=1,i=Ip(null,i,u,n,r)):(i.tag=0,i=Iu(null,i,u,n,r));else{if(u!=null){if(g=u.$$typeof,g===L){i.tag=11,i=Dp(null,i,u,n,r);break t}else if(g===j){i.tag=14,i=Lp(null,i,u,n,r);break t}}throw i=st(u)||u,Error(a(306,i,""))}}return i;case 0:return Iu(n,i,i.type,i.pendingProps,r);case 1:return u=i.type,g=fa(u,i.pendingProps),Ip(n,i,u,g,r);case 3:t:{if(Dt(i,i.stateNode.containerInfo),n===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;g=m.element,fu(n,i),sr(i,u,null,r);var A=i.memoizedState;if(u=A.cache,Ei(i,ve,u),u!==m.cache&&ru(i,[ve],r,!0),ar(),u=A.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=zp(n,i,u,r);break t}else if(u!==g){g=fn(Error(a(424)),i),Qs(g),i=zp(n,i,u,r);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ne=_n(n.firstChild),Be=i,Pt=!0,ra=null,Mn=!0,r=bp(i,null,u,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ks(),u===g){i=ei(n,i,r);break t}Ce(n,i,u,r)}i=i.child}return i;case 26:return il(n,i),n===null?(r=qm(i.type,null,i.pendingProps,null))?i.memoizedState=r:Pt||(r=i.type,n=i.pendingProps,u=yl(rt.current).createElement(r),u[Ne]=i,u[Ge]=n,Me(u,r,n),Ae(u),i.stateNode=u):i.memoizedState=qm(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Gt(i),n===null&&Pt&&(u=i.stateNode=Um(i.type,i.pendingProps,rt.current),Be=i,Mn=!0,g=ne,zi(i.type)?(wh=g,ne=_n(u.firstChild)):ne=g),Ce(n,i,i.pendingProps.children,r),il(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Pt&&((g=u=ne)&&(u=qA(u,i.type,i.pendingProps,Mn),u!==null?(i.stateNode=u,Be=i,ne=_n(u.firstChild),Mn=!1,g=!0):g=!1),g||oa(i)),Gt(i),g=i.type,m=i.pendingProps,A=n!==null?n.memoizedProps:null,u=m.children,bh(g,m)?u=null:A!==null&&bh(g,A)&&(i.flags|=32),i.memoizedState!==null&&(g=yu(n,i,cA,null,null,r),Cr._currentValue=g),il(n,i),Ce(n,i,u,r),i.child;case 6:return n===null&&Pt&&((n=r=ne)&&(r=$A(r,i.pendingProps,Mn),r!==null?(i.stateNode=r,Be=i,ne=null,n=!0):n=!1),n||oa(i)),null;case 13:return Fp(n,i,r);case 4:return Dt(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=ns(i,null,u,r):Ce(n,i,u,r),i.child;case 11:return Dp(n,i,i.type,i.pendingProps,r);case 7:return Ce(n,i,i.pendingProps,r),i.child;case 8:return Ce(n,i,i.pendingProps.children,r),i.child;case 12:return Ce(n,i,i.pendingProps.children,r),i.child;case 10:return u=i.pendingProps,Ei(i,i.type,u.value),Ce(n,i,u.children,r),i.child;case 9:return g=i.type._context,u=i.pendingProps.children,ca(i),g=Oe(g),u=u(g),i.flags|=1,Ce(n,i,u,r),i.child;case 14:return Lp(n,i,i.type,i.pendingProps,r);case 15:return Np(n,i,i.type,i.pendingProps,r);case 19:return jp(n,i,r);case 31:return u=i.pendingProps,r=i.mode,u={mode:u.mode,children:u.children},n===null?(r=al(u,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=Xn(n.child,u),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return Op(n,i,r);case 24:return ca(i),u=Oe(ve),n===null?(g=cu(),g===null&&(g=$t,m=ou(),g.pooledCache=m,m.refCount++,m!==null&&(g.pooledCacheLanes|=r),g=m),i.memoizedState={parent:u,cache:g},hu(i),Ei(i,ve,g)):((n.lanes&r)!==0&&(fu(n,i),sr(i,null,null,r),ar()),g=n.memoizedState,m=i.memoizedState,g.parent!==u?(g={parent:u,cache:u},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Ei(i,ve,u)):(u=m.cache,Ei(i,ve,u),u!==g.cache&&ru(i,[ve],r,!0))),Ce(n,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ni(n){n.flags|=4}function Up(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Km(i)){if(i=mn.current,i!==null&&((Ot&4194048)===Ot?Dn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||i!==Dn))throw nr=uu,xg;n.flags|=8192}}function sl(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ad():536870912,n.lanes|=i,rs|=i)}function fr(n,i){if(!Pt)switch(n.tailMode){case"hidden":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Qt(n){var i=n.alternate!==null&&n.alternate.child===n.child,r=0,u=0;if(i)for(var g=n.child;g!==null;)r|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)r|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=r,i}function yA(n,i,r){var u=i.pendingProps;switch(nu(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(i),null;case 1:return Qt(i),null;case 3:return r=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Zn(ve),he(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Ws(i)?ni(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ag())),Qt(i),null;case 26:return r=i.memoizedState,n===null?(ni(i),r!==null?(Qt(i),Up(i,r)):(Qt(i),i.flags&=-16777217)):r?r!==n.memoizedState?(ni(i),Qt(i),Up(i,r)):(Qt(i),i.flags&=-16777217):(n.memoizedProps!==u&&ni(i),Qt(i),i.flags&=-16777217),null;case 27:Ue(i),r=rt.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ni(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Qt(i),null}n=nt.current,Ws(i)?yg(i):(n=Um(g,u,r),i.stateNode=n,ni(i))}return Qt(i),null;case 5:if(Ue(i),r=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ni(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Qt(i),null}if(n=nt.current,Ws(i))yg(i);else{switch(g=yl(rt.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?g.createElement(r,{is:u.is}):g.createElement(r)}}n[Ne]=i,n[Ge]=u;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;t:switch(Me(n,r,u),r){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ni(i)}}return Qt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&ni(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(n=rt.current,Ws(i)){if(n=i.stateNode,r=i.memoizedProps,u=null,g=Be,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Ne]=i,n=!!(n.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||Pm(n.nodeValue,r)),n||oa(i)}else n=yl(n).createTextNode(u),n[Ne]=i,i.stateNode=n}return Qt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Ws(i),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(a(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[Ne]=i}else Ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),g=!1}else g=Ag(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(ti(i),i):(ti(i),null)}if(ti(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=u!==null,n=n!==null&&n.memoizedState!==null,r){u=i.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==g&&(u.flags|=2048)}return r!==n&&r&&(i.child.flags|=8192),sl(i,i.updateQueue),Qt(i),null;case 4:return he(),n===null&&gh(i.stateNode.containerInfo),Qt(i),null;case 10:return Zn(i.type),Qt(i),null;case 19:if(Q(ye),g=i.memoizedState,g===null)return Qt(i),null;if(u=(i.flags&128)!==0,m=g.rendering,m===null)if(u)fr(g,!1);else{if(ie!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=tl(n),m!==null){for(i.flags|=128,fr(g,!1),n=m.updateQueue,i.updateQueue=n,sl(i,n),i.subtreeFlags=0,n=r,r=i.child;r!==null;)mg(r,n),r=r.sibling;return K(ye,ye.current&1|2),i.child}n=n.sibling}g.tail!==null&&Te()>ll&&(i.flags|=128,u=!0,fr(g,!1),i.lanes=4194304)}else{if(!u)if(n=tl(m),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,sl(i,n),fr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!m.alternate&&!Pt)return Qt(i),null}else 2*Te()-g.renderingStartTime>ll&&r!==536870912&&(i.flags|=128,u=!0,fr(g,!1),i.lanes=4194304);g.isBackwards?(m.sibling=i.child,i.child=m):(n=g.last,n!==null?n.sibling=m:i.child=m,g.last=m)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Te(),i.sibling=null,n=ye.current,K(ye,u?n&1|2:n&1),i):(Qt(i),null);case 22:case 23:return ti(i),mu(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(r&536870912)!==0&&(i.flags&128)===0&&(Qt(i),i.subtreeFlags&6&&(i.flags|=8192)):Qt(i),r=i.updateQueue,r!==null&&sl(i,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==r&&(i.flags|=2048),n!==null&&Q(ua),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Zn(ve),Qt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function bA(n,i){switch(nu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Zn(ve),he(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ue(i),null;case 13:if(ti(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ks()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Q(ye),null;case 4:return he(),null;case 10:return Zn(i.type),null;case 22:case 23:return ti(i),mu(),n!==null&&Q(ua),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Zn(ve),null;case 25:return null;default:return null}}function Gp(n,i){switch(nu(i),i.tag){case 3:Zn(ve),he();break;case 26:case 27:case 5:Ue(i);break;case 4:he();break;case 13:ti(i);break;case 19:Q(ye);break;case 10:Zn(i.type);break;case 22:case 23:ti(i),mu(),n!==null&&Q(ua);break;case 24:Zn(ve)}}function dr(n,i){try{var r=i.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var g=u.next;r=g;do{if((r.tag&n)===n){u=void 0;var m=r.create,A=r.inst;u=m(),A.destroy=u}r=r.next}while(r!==g)}}catch(_){Vt(i,i.return,_)}}function Mi(n,i,r){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var m=g.next;u=m;do{if((u.tag&n)===n){var A=u.inst,_=A.destroy;if(_!==void 0){A.destroy=void 0,g=i;var M=r,F=_;try{F()}catch(V){Vt(g,M,V)}}}u=u.next}while(u!==m)}}catch(V){Vt(i,i.return,V)}}function Vp(n){var i=n.updateQueue;if(i!==null){var r=n.stateNode;try{Lg(i,r)}catch(u){Vt(n,n.return,u)}}}function qp(n,i,r){r.props=fa(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(u){Vt(n,i,u)}}function gr(n,i){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof r=="function"?n.refCleanup=r(u):r.current=u}}catch(g){Vt(n,i,g)}}function Ln(n,i){var r=n.ref,u=n.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(g){Vt(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(g){Vt(n,i,g)}else r.current=null}function $p(n){var i=n.type,r=n.memoizedProps,u=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break t;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(g){Vt(n,n.return,g)}}function Vu(n,i,r){try{var u=n.stateNode;jA(u,n.type,r,i),u[Ge]=i}catch(g){Vt(n,n.return,g)}}function Yp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zi(n.type)||n.tag===4}function qu(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Yp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zi(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $u(n,i,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(n),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=vl));else if(u!==4&&(u===27&&zi(n.type)&&(r=n.stateNode,i=null),n=n.child,n!==null))for($u(n,i,r),n=n.sibling;n!==null;)$u(n,i,r),n=n.sibling}function rl(n,i,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(u!==4&&(u===27&&zi(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(rl(n,i,r),n=n.sibling;n!==null;)rl(n,i,r),n=n.sibling}function Xp(n){var i=n.stateNode,r=n.memoizedProps;try{for(var u=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Me(i,u,r),i[Ne]=n,i[Ge]=r}catch(m){Vt(n,n.return,m)}}var ii=!1,re=!1,Yu=!1,Wp=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function AA(n,i){if(n=n.containerInfo,vh=_l,n=rg(n),qc(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else t:{r=(r=n.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var g=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break t}var A=0,_=-1,M=-1,F=0,V=0,W=n,H=null;e:for(;;){for(var U;W!==r||g!==0&&W.nodeType!==3||(_=A+g),W!==m||u!==0&&W.nodeType!==3||(M=A+u),W.nodeType===3&&(A+=W.nodeValue.length),(U=W.firstChild)!==null;)H=W,W=U;for(;;){if(W===n)break e;if(H===r&&++F===g&&(_=A),H===m&&++V===u&&(M=A),(U=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=U}r=_===-1||M===-1?null:{start:_,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(yh={focusedElem:n,selectionRange:r},_l=!1,Ee=i;Ee!==null;)if(i=Ee,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ee=n;else for(;Ee!==null;){switch(i=Ee,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,r=i,g=m.memoizedProps,m=m.memoizedState,u=r.stateNode;try{var mt=fa(r.type,g,r.elementType===r.type);n=u.getSnapshotBeforeUpdate(mt,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(ft){Vt(r,r.return,ft)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,r=n.nodeType,r===9)Sh(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Ee=n;break}Ee=i.return}}function Kp(n,i,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Di(n,r),u&4&&dr(5,r);break;case 1:if(Di(n,r),u&4)if(n=r.stateNode,i===null)try{n.componentDidMount()}catch(A){Vt(r,r.return,A)}else{var g=fa(r.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Vt(r,r.return,A)}}u&64&&Vp(r),u&512&&gr(r,r.return);break;case 3:if(Di(n,r),u&64&&(n=r.updateQueue,n!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Lg(n,i)}catch(A){Vt(r,r.return,A)}}break;case 27:i===null&&u&4&&Xp(r);case 26:case 5:Di(n,r),i===null&&u&4&&$p(r),u&512&&gr(r,r.return);break;case 12:Di(n,r);break;case 13:Di(n,r),u&4&&Jp(n,r),u&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=MA.bind(null,r),YA(n,r))));break;case 22:if(u=r.memoizedState!==null||ii,!u){i=i!==null&&i.memoizedState!==null||re,g=ii;var m=re;ii=u,(re=i)&&!m?Li(n,r,(r.subtreeFlags&8772)!==0):Di(n,r),ii=g,re=m}break;case 30:break;default:Di(n,r)}}function Qp(n){var i=n.alternate;i!==null&&(n.alternate=null,Qp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Tc(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Xt=null,$e=!1;function ai(n,i,r){for(r=r.child;r!==null;)Zp(n,i,r),r=r.sibling}function Zp(n,i,r){if(te&&typeof te.onCommitFiberUnmount=="function")try{te.onCommitFiberUnmount(Qi,r)}catch{}switch(r.tag){case 26:re||Ln(r,i),ai(n,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:re||Ln(r,i);var u=Xt,g=$e;zi(r.type)&&(Xt=r.stateNode,$e=!1),ai(n,i,r),wr(r.stateNode),Xt=u,$e=g;break;case 5:re||Ln(r,i);case 6:if(u=Xt,g=$e,Xt=null,ai(n,i,r),Xt=u,$e=g,Xt!==null)if($e)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(r.stateNode)}catch(m){Vt(r,i,m)}else try{Xt.removeChild(r.stateNode)}catch(m){Vt(r,i,m)}break;case 18:Xt!==null&&($e?(n=Xt,jm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Lr(n)):jm(Xt,r.stateNode));break;case 4:u=Xt,g=$e,Xt=r.stateNode.containerInfo,$e=!0,ai(n,i,r),Xt=u,$e=g;break;case 0:case 11:case 14:case 15:re||Mi(2,r,i),re||Mi(4,r,i),ai(n,i,r);break;case 1:re||(Ln(r,i),u=r.stateNode,typeof u.componentWillUnmount=="function"&&qp(r,i,u)),ai(n,i,r);break;case 21:ai(n,i,r);break;case 22:re=(u=re)||r.memoizedState!==null,ai(n,i,r),re=u;break;default:ai(n,i,r)}}function Jp(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Lr(n)}catch(r){Vt(i,i.return,r)}}function SA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Wp),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Wp),i;default:throw Error(a(435,n.tag))}}function Xu(n,i){var r=SA(n);i.forEach(function(u){var g=DA.bind(null,n,u);r.has(u)||(r.add(u),u.then(g,g))})}function tn(n,i){var r=i.deletions;if(r!==null)for(var u=0;u<r.length;u++){var g=r[u],m=n,A=i,_=A;t:for(;_!==null;){switch(_.tag){case 27:if(zi(_.type)){Xt=_.stateNode,$e=!1;break t}break;case 5:Xt=_.stateNode,$e=!1;break t;case 3:case 4:Xt=_.stateNode.containerInfo,$e=!0;break t}_=_.return}if(Xt===null)throw Error(a(160));Zp(m,A,g),Xt=null,$e=!1,m=g.alternate,m!==null&&(m.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)tm(i,n),i=i.sibling}var wn=null;function tm(n,i){var r=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:tn(i,n),en(n),u&4&&(Mi(3,n,n.return),dr(3,n),Mi(5,n,n.return));break;case 1:tn(i,n),en(n),u&512&&(re||r===null||Ln(r,r.return)),u&64&&ii&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var g=wn;if(tn(i,n),en(n),u&512&&(re||r===null||Ln(r,r.return)),u&4){var m=r!==null?r.memoizedState:null;if(u=n.memoizedState,r===null)if(u===null)if(n.stateNode===null){t:{u=n.type,r=n.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":m=g.getElementsByTagName("title")[0],(!m||m[Fs]||m[Ne]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=g.createElement(u),g.head.insertBefore(m,g.querySelector("head > title"))),Me(m,u,r),m[Ne]=n,Ae(m),u=m;break t;case"link":var A=Xm("link","href",g).get(u+(r.href||""));if(A){for(var _=0;_<A.length;_++)if(m=A[_],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){A.splice(_,1);break e}}m=g.createElement(u),Me(m,u,r),g.head.appendChild(m);break;case"meta":if(A=Xm("meta","content",g).get(u+(r.content||""))){for(_=0;_<A.length;_++)if(m=A[_],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){A.splice(_,1);break e}}m=g.createElement(u),Me(m,u,r),g.head.appendChild(m);break;default:throw Error(a(468,u))}m[Ne]=n,Ae(m),u=m}n.stateNode=u}else Wm(g,n.type,n.stateNode);else n.stateNode=Ym(g,u,n.memoizedProps);else m!==u?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,u===null?Wm(g,n.type,n.stateNode):Ym(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Vu(n,n.memoizedProps,r.memoizedProps)}break;case 27:tn(i,n),en(n),u&512&&(re||r===null||Ln(r,r.return)),r!==null&&u&4&&Vu(n,n.memoizedProps,r.memoizedProps);break;case 5:if(tn(i,n),en(n),u&512&&(re||r===null||Ln(r,r.return)),n.flags&32){g=n.stateNode;try{Fa(g,"")}catch(U){Vt(n,n.return,U)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,Vu(n,g,r!==null?r.memoizedProps:g)),u&1024&&(Yu=!0);break;case 6:if(tn(i,n),en(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,r=n.stateNode;try{r.nodeValue=u}catch(U){Vt(n,n.return,U)}}break;case 3:if(Sl=null,g=wn,wn=bl(i.containerInfo),tn(i,n),wn=g,en(n),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Lr(i.containerInfo)}catch(U){Vt(n,n.return,U)}Yu&&(Yu=!1,em(n));break;case 4:u=wn,wn=bl(n.stateNode.containerInfo),tn(i,n),en(n),wn=u;break;case 12:tn(i,n),en(n);break;case 13:tn(i,n),en(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(th=Te()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Xu(n,u)));break;case 22:g=n.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,F=ii,V=re;if(ii=F||g,re=V||M,tn(i,n),re=V,ii=F,en(n),u&8192)t:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(r===null||M||ii||re||da(n)),r=null,i=n;;){if(i.tag===5||i.tag===26){if(r===null){M=r=i;try{if(m=M.stateNode,g)A=m.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{_=M.stateNode;var W=M.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;_.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(U){Vt(M,M.return,U)}}}else if(i.tag===6){if(r===null){M=i;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(U){Vt(M,M.return,U)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Xu(n,r))));break;case 19:tn(i,n),en(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Xu(n,u)));break;case 30:break;case 21:break;default:tn(i,n),en(n)}}function en(n){var i=n.flags;if(i&2){try{for(var r,u=n.return;u!==null;){if(Yp(u)){r=u;break}u=u.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var g=r.stateNode,m=qu(n);rl(n,m,g);break;case 5:var A=r.stateNode;r.flags&32&&(Fa(A,""),r.flags&=-33);var _=qu(n);rl(n,_,A);break;case 3:case 4:var M=r.stateNode.containerInfo,F=qu(n);$u(n,F,M);break;default:throw Error(a(161))}}catch(V){Vt(n,n.return,V)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function em(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;em(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Di(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Kp(n,i.alternate,i),i=i.sibling}function da(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Mi(4,i,i.return),da(i);break;case 1:Ln(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&qp(i,i.return,r),da(i);break;case 27:wr(i.stateNode);case 26:case 5:Ln(i,i.return),da(i);break;case 22:i.memoizedState===null&&da(i);break;case 30:da(i);break;default:da(i)}n=n.sibling}}function Li(n,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,g=n,m=i,A=m.flags;switch(m.tag){case 0:case 11:case 15:Li(g,m,r),dr(4,m);break;case 1:if(Li(g,m,r),u=m,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){Vt(u,u.return,F)}if(u=m,g=u.updateQueue,g!==null){var _=u.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)Dg(M[g],_)}catch(F){Vt(u,u.return,F)}}r&&A&64&&Vp(m),gr(m,m.return);break;case 27:Xp(m);case 26:case 5:Li(g,m,r),r&&u===null&&A&4&&$p(m),gr(m,m.return);break;case 12:Li(g,m,r);break;case 13:Li(g,m,r),r&&A&4&&Jp(g,m);break;case 22:m.memoizedState===null&&Li(g,m,r),gr(m,m.return);break;case 30:break;default:Li(g,m,r)}i=i.sibling}}function Wu(n,i){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Js(r))}function Ku(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Js(n))}function Nn(n,i,r,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)nm(n,i,r,u),i=i.sibling}function nm(n,i,r,u){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Nn(n,i,r,u),g&2048&&dr(9,i);break;case 1:Nn(n,i,r,u);break;case 3:Nn(n,i,r,u),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Js(n)));break;case 12:if(g&2048){Nn(n,i,r,u),n=i.stateNode;try{var m=i.memoizedProps,A=m.id,_=m.onPostCommit;typeof _=="function"&&_(A,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){Vt(i,i.return,M)}}else Nn(n,i,r,u);break;case 13:Nn(n,i,r,u);break;case 23:break;case 22:m=i.stateNode,A=i.alternate,i.memoizedState!==null?m._visibility&2?Nn(n,i,r,u):pr(n,i):m._visibility&2?Nn(n,i,r,u):(m._visibility|=2,is(n,i,r,u,(i.subtreeFlags&10256)!==0)),g&2048&&Wu(A,i);break;case 24:Nn(n,i,r,u),g&2048&&Ku(i.alternate,i);break;default:Nn(n,i,r,u)}}function is(n,i,r,u,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,A=i,_=r,M=u,F=A.flags;switch(A.tag){case 0:case 11:case 15:is(m,A,_,M,g),dr(8,A);break;case 23:break;case 22:var V=A.stateNode;A.memoizedState!==null?V._visibility&2?is(m,A,_,M,g):pr(m,A):(V._visibility|=2,is(m,A,_,M,g)),g&&F&2048&&Wu(A.alternate,A);break;case 24:is(m,A,_,M,g),g&&F&2048&&Ku(A.alternate,A);break;default:is(m,A,_,M,g)}i=i.sibling}}function pr(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=n,u=i,g=u.flags;switch(u.tag){case 22:pr(r,u),g&2048&&Wu(u.alternate,u);break;case 24:pr(r,u),g&2048&&Ku(u.alternate,u);break;default:pr(r,u)}i=i.sibling}}var mr=8192;function as(n){if(n.subtreeFlags&mr)for(n=n.child;n!==null;)im(n),n=n.sibling}function im(n){switch(n.tag){case 26:as(n),n.flags&mr&&n.memoizedState!==null&&rS(wn,n.memoizedState,n.memoizedProps);break;case 5:as(n);break;case 3:case 4:var i=wn;wn=bl(n.stateNode.containerInfo),as(n),wn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=mr,mr=16777216,as(n),mr=i):as(n));break;default:as(n)}}function am(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function vr(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var u=i[r];Ee=u,rm(u,n)}am(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sm(n),n=n.sibling}function sm(n){switch(n.tag){case 0:case 11:case 15:vr(n),n.flags&2048&&Mi(9,n,n.return);break;case 3:vr(n);break;case 12:vr(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,ol(n)):vr(n);break;default:vr(n)}}function ol(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var u=i[r];Ee=u,rm(u,n)}am(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Mi(8,i,i.return),ol(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,ol(i));break;default:ol(i)}n=n.sibling}}function rm(n,i){for(;Ee!==null;){var r=Ee;switch(r.tag){case 0:case 11:case 15:Mi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Js(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,Ee=u;else t:for(r=n;Ee!==null;){u=Ee;var g=u.sibling,m=u.return;if(Qp(u),u===r){Ee=null;break t}if(g!==null){g.return=m,Ee=g;break t}Ee=m}}}var EA={getCacheForType:function(n){var i=Oe(ve),r=i.data.get(n);return r===void 0&&(r=n(),i.data.set(n,r)),r}},wA=typeof WeakMap=="function"?WeakMap:Map,It=0,$t=null,Tt=null,Ot=0,zt=0,nn=null,Ni=!1,ss=!1,Qu=!1,si=0,ie=0,Oi=0,ga=0,Zu=0,vn=0,rs=0,yr=null,Ye=null,Ju=!1,th=0,ll=1/0,cl=null,ki=null,Re=0,Pi=null,os=null,ls=0,eh=0,nh=null,om=null,br=0,ih=null;function an(){if((It&2)!==0&&Ot!==0)return Ot&-Ot;if(O.T!==null){var n=Wa;return n!==0?n:uh()}return wd()}function lm(){vn===0&&(vn=(Ot&536870912)===0||Pt?bd():536870912);var n=mn.current;return n!==null&&(n.flags|=32),vn}function sn(n,i,r){(n===$t&&(zt===2||zt===9)||n.cancelPendingCommit!==null)&&(cs(n,0),Ii(n,Ot,vn,!1)),zs(n,r),((It&2)===0||n!==$t)&&(n===$t&&((It&2)===0&&(ga|=r),ie===4&&Ii(n,Ot,vn,!1)),On(n))}function cm(n,i,r){if((It&6)!==0)throw Error(a(327));var u=!r&&(i&124)===0&&(i&n.expiredLanes)===0||Is(n,i),g=u?TA(n,i):rh(n,i,!0),m=u;do{if(g===0){ss&&!u&&Ii(n,i,0,!1);break}else{if(r=n.current.alternate,m&&!_A(r)){g=rh(n,i,!1),m=!1;continue}if(g===2){if(m=i,n.errorRecoveryDisabledLanes&m)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;t:{var _=n;g=yr;var M=_.current.memoizedState.isDehydrated;if(M&&(cs(_,A).flags|=256),A=rh(_,A,!1),A!==2){if(Qu&&!M){_.errorRecoveryDisabledLanes|=m,ga|=m,g=4;break t}m=Ye,Ye=g,m!==null&&(Ye===null?Ye=m:Ye.push.apply(Ye,m))}g=A}if(m=!1,g!==2)continue}}if(g===1){cs(n,0),Ii(n,i,0,!0);break}t:{switch(u=n,m=g,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ii(u,i,vn,!Ni);break t;case 2:Ye=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(g=th+300-Te(),10<g)){if(Ii(u,i,vn,!Ni),Ao(u,0,!0)!==0)break t;u.timeoutHandle=Fm(um.bind(null,u,r,Ye,cl,Ju,i,vn,ga,rs,Ni,m,2,-0,0),g);break t}um(u,r,Ye,cl,Ju,i,vn,ga,rs,Ni,m,0,-0,0)}}break}while(!0);On(n)}function um(n,i,r,u,g,m,A,_,M,F,V,W,H,U){if(n.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Tr={stylesheets:null,count:0,unsuspend:sS},im(i),W=oS(),W!==null)){n.cancelPendingCommit=W(vm.bind(null,n,i,m,r,u,g,A,_,M,V,1,H,U)),Ii(n,m,A,!F);return}vm(n,i,m,r,u,g,A,_,M)}function _A(n){for(var i=n;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var g=r[u],m=g.getSnapshot;g=g.value;try{if(!Ze(m(),g))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ii(n,i,r,u){i&=~Zu,i&=~ga,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var g=i;0<g;){var m=31-ee(g),A=1<<m;u[m]=-1,g&=~A}r!==0&&Sd(n,r,i)}function ul(){return(It&6)===0?(Ar(0),!1):!0}function ah(){if(Tt!==null){if(zt===0)var n=Tt.return;else n=Tt,Qn=la=null,Su(n),es=null,ur=0,n=Tt;for(;n!==null;)Gp(n.alternate,n),n=n.return;Tt=null}}function cs(n,i){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,UA(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),ah(),$t=n,Tt=r=Xn(n.current,null),Ot=i,zt=0,nn=null,Ni=!1,ss=Is(n,i),Qu=!1,rs=vn=Zu=ga=Oi=ie=0,Ye=yr=null,Ju=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var g=31-ee(u),m=1<<g;i|=n[g],u&=~m}return si=i,No(),r}function hm(n,i){_t=null,O.H=Qo,i===er||i===Ho?(i=Rg(),zt=3):i===xg?(i=Rg(),zt=4):zt=i===Mp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,nn=i,Tt===null&&(ie=1,nl(n,fn(i,n.current)))}function fm(){var n=O.H;return O.H=Qo,n===null?Qo:n}function dm(){var n=O.A;return O.A=EA,n}function sh(){ie=4,Ni||(Ot&4194048)!==Ot&&mn.current!==null||(ss=!0),(Oi&134217727)===0&&(ga&134217727)===0||$t===null||Ii($t,Ot,vn,!1)}function rh(n,i,r){var u=It;It|=2;var g=fm(),m=dm();($t!==n||Ot!==i)&&(cl=null,cs(n,i)),i=!1;var A=ie;t:do try{if(zt!==0&&Tt!==null){var _=Tt,M=nn;switch(zt){case 8:ah(),A=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(i=!0);var F=zt;if(zt=0,nn=null,us(n,_,M,F),r&&ss){A=0;break t}break;default:F=zt,zt=0,nn=null,us(n,_,M,F)}}xA(),A=ie;break}catch(V){hm(n,V)}while(!0);return i&&n.shellSuspendCounter++,Qn=la=null,It=u,O.H=g,O.A=m,Tt===null&&($t=null,Ot=0,No()),A}function xA(){for(;Tt!==null;)gm(Tt)}function TA(n,i){var r=It;It|=2;var u=fm(),g=dm();$t!==n||Ot!==i?(cl=null,ll=Te()+500,cs(n,i)):ss=Is(n,i);t:do try{if(zt!==0&&Tt!==null){i=Tt;var m=nn;e:switch(zt){case 1:zt=0,nn=null,us(n,i,m,1);break;case 2:case 9:if(Tg(m)){zt=0,nn=null,pm(i);break}i=function(){zt!==2&&zt!==9||$t!==n||(zt=7),On(n)},m.then(i,i);break t;case 3:zt=7;break t;case 4:zt=5;break t;case 7:Tg(m)?(zt=0,nn=null,pm(i)):(zt=0,nn=null,us(n,i,m,7));break;case 5:var A=null;switch(Tt.tag){case 26:A=Tt.memoizedState;case 5:case 27:var _=Tt;if(!A||Km(A)){zt=0,nn=null;var M=_.sibling;if(M!==null)Tt=M;else{var F=_.return;F!==null?(Tt=F,hl(F)):Tt=null}break e}}zt=0,nn=null,us(n,i,m,5);break;case 6:zt=0,nn=null,us(n,i,m,6);break;case 8:ah(),ie=6;break t;default:throw Error(a(462))}}CA();break}catch(V){hm(n,V)}while(!0);return Qn=la=null,O.H=u,O.A=g,It=r,Tt!==null?0:($t=null,Ot=0,No(),ie)}function CA(){for(;Tt!==null&&!ae();)gm(Tt)}function gm(n){var i=Hp(n.alternate,n,si);n.memoizedProps=n.pendingProps,i===null?hl(n):Tt=i}function pm(n){var i=n,r=i.alternate;switch(i.tag){case 15:case 0:i=Pp(r,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=Pp(r,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:Su(i);default:Gp(r,i),i=Tt=mg(i,si),i=Hp(r,i,si)}n.memoizedProps=n.pendingProps,i===null?hl(n):Tt=i}function us(n,i,r,u){Qn=la=null,Su(i),es=null,ur=0;var g=i.return;try{if(mA(n,g,i,r,Ot)){ie=1,nl(n,fn(r,n.current)),Tt=null;return}}catch(m){if(g!==null)throw Tt=g,m;ie=1,nl(n,fn(r,n.current)),Tt=null;return}i.flags&32768?(Pt||u===1?n=!0:ss||(Ot&536870912)!==0?n=!1:(Ni=n=!0,(u===2||u===9||u===3||u===6)&&(u=mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),mm(i,n)):hl(i)}function hl(n){var i=n;do{if((i.flags&32768)!==0){mm(i,Ni);return}n=i.return;var r=yA(i.alternate,i,si);if(r!==null){Tt=r;return}if(i=i.sibling,i!==null){Tt=i;return}Tt=i=n}while(i!==null);ie===0&&(ie=5)}function mm(n,i){do{var r=bA(n.alternate,n);if(r!==null){r.flags&=32767,Tt=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(n=n.sibling,n!==null)){Tt=n;return}Tt=n=r}while(n!==null);ie=6,Tt=null}function vm(n,i,r,u,g,m,A,_,M){n.cancelPendingCommit=null;do fl();while(Re!==0);if((It&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=Kc,s1(n,r,m,A,_,M),n===$t&&(Tt=$t=null,Ot=0),os=i,Pi=n,ls=r,eh=m,nh=g,om=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,LA(qn,function(){return Em(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=O.T,O.T=null,g=G.p,G.p=2,A=It,It|=4;try{AA(n,i,r)}finally{It=A,G.p=g,O.T=u}}Re=1,ym(),bm(),Am()}}function ym(){if(Re===1){Re=0;var n=Pi,i=os,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=O.T,O.T=null;var u=G.p;G.p=2;var g=It;It|=4;try{tm(i,n);var m=yh,A=rg(n.containerInfo),_=m.focusedElem,M=m.selectionRange;if(A!==_&&_&&_.ownerDocument&&sg(_.ownerDocument.documentElement,_)){if(M!==null&&qc(_)){var F=M.start,V=M.end;if(V===void 0&&(V=F),"selectionStart"in _)_.selectionStart=F,_.selectionEnd=Math.min(V,_.value.length);else{var W=_.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var U=H.getSelection(),mt=_.textContent.length,ft=Math.min(M.start,mt),Ht=M.end===void 0?ft:Math.min(M.end,mt);!U.extend&&ft>Ht&&(A=Ht,Ht=ft,ft=A);var P=ag(_,ft),k=ag(_,Ht);if(P&&k&&(U.rangeCount!==1||U.anchorNode!==P.node||U.anchorOffset!==P.offset||U.focusNode!==k.node||U.focusOffset!==k.offset)){var z=W.createRange();z.setStart(P.node,P.offset),U.removeAllRanges(),ft>Ht?(U.addRange(z),U.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),U.addRange(z))}}}}for(W=[],U=_;U=U.parentNode;)U.nodeType===1&&W.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<W.length;_++){var $=W[_];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}_l=!!vh,yh=vh=null}finally{It=g,G.p=u,O.T=r}}n.current=i,Re=2}}function bm(){if(Re===2){Re=0;var n=Pi,i=os,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=O.T,O.T=null;var u=G.p;G.p=2;var g=It;It|=4;try{Kp(n,i.alternate,i)}finally{It=g,G.p=u,O.T=r}}Re=3}}function Am(){if(Re===4||Re===3){Re=0,fe();var n=Pi,i=os,r=ls,u=om;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Re=5:(Re=0,os=Pi=null,Sm(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(ki=null),_c(r),i=i.stateNode,te&&typeof te.onCommitFiberRoot=="function")try{te.onCommitFiberRoot(Qi,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=O.T,g=G.p,G.p=2,O.T=null;try{for(var m=n.onRecoverableError,A=0;A<u.length;A++){var _=u[A];m(_.value,{componentStack:_.stack})}}finally{O.T=i,G.p=g}}(ls&3)!==0&&fl(),On(n),g=n.pendingLanes,(r&4194090)!==0&&(g&42)!==0?n===ih?br++:(br=0,ih=n):br=0,Ar(0)}}function Sm(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Js(i)))}function fl(n){return ym(),bm(),Am(),Em()}function Em(){if(Re!==5)return!1;var n=Pi,i=eh;eh=0;var r=_c(ls),u=O.T,g=G.p;try{G.p=32>r?32:r,O.T=null,r=nh,nh=null;var m=Pi,A=ls;if(Re=0,os=Pi=null,ls=0,(It&6)!==0)throw Error(a(331));var _=It;if(It|=4,sm(m.current),nm(m,m.current,A,r),It=_,Ar(0,!1),te&&typeof te.onPostCommitFiberRoot=="function")try{te.onPostCommitFiberRoot(Qi,m)}catch{}return!0}finally{G.p=g,O.T=u,Sm(n,i)}}function wm(n,i,r){i=fn(r,i),i=Pu(n.stateNode,i,2),n=xi(n,i,2),n!==null&&(zs(n,2),On(n))}function Vt(n,i,r){if(n.tag===3)wm(n,n,r);else for(;i!==null;){if(i.tag===3){wm(i,n,r);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ki===null||!ki.has(u))){n=fn(r,n),r=Cp(2),u=xi(i,r,2),u!==null&&(Rp(r,u,i,n),zs(u,2),On(u));break}}i=i.return}}function oh(n,i,r){var u=n.pingCache;if(u===null){u=n.pingCache=new wA;var g=new Set;u.set(i,g)}else g=u.get(i),g===void 0&&(g=new Set,u.set(i,g));g.has(r)||(Qu=!0,g.add(r),n=RA.bind(null,n,i,r),i.then(n,n))}function RA(n,i,r){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,$t===n&&(Ot&r)===r&&(ie===4||ie===3&&(Ot&62914560)===Ot&&300>Te()-th?(It&2)===0&&cs(n,0):Zu|=r,rs===Ot&&(rs=0)),On(n)}function _m(n,i){i===0&&(i=Ad()),n=qa(n,i),n!==null&&(zs(n,i),On(n))}function MA(n){var i=n.memoizedState,r=0;i!==null&&(r=i.retryLane),_m(n,r)}function DA(n,i){var r=0;switch(n.tag){case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(r=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),_m(n,r)}function LA(n,i){return Lt(n,i)}var dl=null,hs=null,lh=!1,gl=!1,ch=!1,pa=0;function On(n){n!==hs&&n.next===null&&(hs===null?dl=hs=n:hs=hs.next=n),gl=!0,lh||(lh=!0,OA())}function Ar(n,i){if(!ch&&gl){ch=!0;do for(var r=!1,u=dl;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var m=0;else{var A=u.suspendedLanes,_=u.pingedLanes;m=(1<<31-ee(42|n)+1)-1,m&=g&~(A&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Rm(u,m))}else m=Ot,m=Ao(u,u===$t?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Is(u,m)||(r=!0,Rm(u,m));u=u.next}while(r);ch=!1}}function NA(){xm()}function xm(){gl=lh=!1;var n=0;pa!==0&&(HA()&&(n=pa),pa=0);for(var i=Te(),r=null,u=dl;u!==null;){var g=u.next,m=Tm(u,i);m===0?(u.next=null,r===null?dl=g:r.next=g,g===null&&(hs=r)):(r=u,(n!==0||(m&3)!==0)&&(gl=!0)),u=g}Ar(n)}function Tm(n,i){for(var r=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var A=31-ee(m),_=1<<A,M=g[A];M===-1?((_&r)===0||(_&u)!==0)&&(g[A]=a1(_,i)):M<=i&&(n.expiredLanes|=_),m&=~_}if(i=$t,r=Ot,r=Ao(n,n===i?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,r===0||n===i&&(zt===2||zt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ft(u),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Is(n,r)){if(i=r&-r,i===n.callbackPriority)return i;switch(u!==null&&Ft(u),_c(r)){case 2:case 8:r=mo;break;case 32:r=qn;break;case 268435456:r=vo;break;default:r=qn}return u=Cm.bind(null,n),r=Lt(r,u),n.callbackPriority=i,n.callbackNode=r,i}return u!==null&&u!==null&&Ft(u),n.callbackPriority=2,n.callbackNode=null,2}function Cm(n,i){if(Re!==0&&Re!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(fl()&&n.callbackNode!==r)return null;var u=Ot;return u=Ao(n,n===$t?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(cm(n,u,i),Tm(n,Te()),n.callbackNode!=null&&n.callbackNode===r?Cm.bind(null,n):null)}function Rm(n,i){if(fl())return null;cm(n,i,!0)}function OA(){GA(function(){(It&6)!==0?Lt(Da,NA):xm()})}function uh(){return pa===0&&(pa=bd()),pa}function Mm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:xo(""+n)}function Dm(n,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,n.id&&r.setAttribute("form",n.id),i.parentNode.insertBefore(r,i),n=new FormData(n),r.parentNode.removeChild(r),n}function kA(n,i,r,u,g){if(i==="submit"&&r&&r.stateNode===g){var m=Mm((g[Ge]||null).action),A=u.submitter;A&&(i=(i=A[Ge]||null)?Mm(i.formAction):A.getAttribute("formAction"),i!==null&&(m=i,A=null));var _=new Mo("action","action",null,u,g);n.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pa!==0){var M=A?Dm(g,A):new FormData(g);Du(r,{pending:!0,data:M,method:g.method,action:m},null,M)}}else typeof m=="function"&&(_.preventDefault(),M=A?Dm(g,A):new FormData(g),Du(r,{pending:!0,data:M,method:g.method,action:m},m,M))},currentTarget:g}]})}}for(var hh=0;hh<Wc.length;hh++){var fh=Wc[hh],PA=fh.toLowerCase(),IA=fh[0].toUpperCase()+fh.slice(1);En(PA,"on"+IA)}En(cg,"onAnimationEnd"),En(ug,"onAnimationIteration"),En(hg,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(J1,"onTransitionRun"),En(tA,"onTransitionStart"),En(eA,"onTransitionCancel"),En(fg,"onTransitionEnd"),Pa("onMouseEnter",["mouseout","mouseover"]),Pa("onMouseLeave",["mouseout","mouseover"]),Pa("onPointerEnter",["pointerout","pointerover"]),Pa("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sr));function Lm(n,i){i=(i&4)!==0;for(var r=0;r<n.length;r++){var u=n[r],g=u.event;u=u.listeners;t:{var m=void 0;if(i)for(var A=u.length-1;0<=A;A--){var _=u[A],M=_.instance,F=_.currentTarget;if(_=_.listener,M!==m&&g.isPropagationStopped())break t;m=_,g.currentTarget=F;try{m(g)}catch(V){el(V)}g.currentTarget=null,m=M}else for(A=0;A<u.length;A++){if(_=u[A],M=_.instance,F=_.currentTarget,_=_.listener,M!==m&&g.isPropagationStopped())break t;m=_,g.currentTarget=F;try{m(g)}catch(V){el(V)}g.currentTarget=null,m=M}}}}function Ct(n,i){var r=i[xc];r===void 0&&(r=i[xc]=new Set);var u=n+"__bubble";r.has(u)||(Nm(i,n,2,!1),r.add(u))}function dh(n,i,r){var u=0;i&&(u|=4),Nm(r,n,u,i)}var pl="_reactListening"+Math.random().toString(36).slice(2);function gh(n){if(!n[pl]){n[pl]=!0,xd.forEach(function(r){r!=="selectionchange"&&(zA.has(r)||dh(r,!1,n),dh(r,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[pl]||(i[pl]=!0,dh("selectionchange",!1,i))}}function Nm(n,i,r,u){switch(nv(i)){case 2:var g=uS;break;case 8:g=hS;break;default:g=Rh}r=g.bind(null,i,r,n),g=void 0,!Ic||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(i,r,{capture:!0,passive:g}):n.addEventListener(i,r,!0):g!==void 0?n.addEventListener(i,r,{passive:g}):n.addEventListener(i,r,!1)}function ph(n,i,r,u,g){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var _=u.stateNode.containerInfo;if(_===g)break;if(A===4)for(A=u.return;A!==null;){var M=A.tag;if((M===3||M===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;_!==null;){if(A=Na(_),A===null)return;if(M=A.tag,M===5||M===6||M===26||M===27){u=m=A;continue t}_=_.parentNode}}u=u.return}Bd(function(){var F=m,V=kc(r),W=[];t:{var H=dg.get(n);if(H!==void 0){var U=Mo,mt=n;switch(n){case"keypress":if(Co(r)===0)break t;case"keydown":case"keyup":U=L1;break;case"focusin":mt="focus",U=jc;break;case"focusout":mt="blur",U=jc;break;case"beforeblur":case"afterblur":U=jc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=k1;break;case cg:case ug:case hg:U=E1;break;case fg:U=I1;break;case"scroll":case"scrollend":U=v1;break;case"wheel":U=F1;break;case"copy":case"cut":case"paste":U=_1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Vd;break;case"toggle":case"beforetoggle":U=j1}var ft=(i&4)!==0,Ht=!ft&&(n==="scroll"||n==="scrollend"),P=ft?H!==null?H+"Capture":null:H;ft=[];for(var k=F,z;k!==null;){var $=k;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||P===null||($=js(k,P),$!=null&&ft.push(Er(k,$,z))),Ht)break;k=k.return}0<ft.length&&(H=new U(H,mt,null,r,V),W.push({event:H,listeners:ft}))}}if((i&7)===0){t:{if(H=n==="mouseover"||n==="pointerover",U=n==="mouseout"||n==="pointerout",H&&r!==Oc&&(mt=r.relatedTarget||r.fromElement)&&(Na(mt)||mt[La]))break t;if((U||H)&&(H=V.window===V?V:(H=V.ownerDocument)?H.defaultView||H.parentWindow:window,U?(mt=r.relatedTarget||r.toElement,U=F,mt=mt?Na(mt):null,mt!==null&&(Ht=o(mt),ft=mt.tag,mt!==Ht||ft!==5&&ft!==27&&ft!==6)&&(mt=null)):(U=null,mt=F),U!==mt)){if(ft=Ud,$="onMouseLeave",P="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ft=Vd,$="onPointerLeave",P="onPointerEnter",k="pointer"),Ht=U==null?H:Bs(U),z=mt==null?H:Bs(mt),H=new ft($,k+"leave",U,r,V),H.target=Ht,H.relatedTarget=z,$=null,Na(V)===F&&(ft=new ft(P,k+"enter",mt,r,V),ft.target=z,ft.relatedTarget=Ht,$=ft),Ht=$,U&&mt)e:{for(ft=U,P=mt,k=0,z=ft;z;z=fs(z))k++;for(z=0,$=P;$;$=fs($))z++;for(;0<k-z;)ft=fs(ft),k--;for(;0<z-k;)P=fs(P),z--;for(;k--;){if(ft===P||P!==null&&ft===P.alternate)break e;ft=fs(ft),P=fs(P)}ft=null}else ft=null;U!==null&&Om(W,H,U,ft,!1),mt!==null&&Ht!==null&&Om(W,Ht,mt,ft,!0)}}t:{if(H=F?Bs(F):window,U=H.nodeName&&H.nodeName.toLowerCase(),U==="select"||U==="input"&&H.type==="file")var at=Zd;else if(Kd(H))if(Jd)at=K1;else{at=X1;var xt=Y1}else U=H.nodeName,!U||U.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Nc(F.elementType)&&(at=Zd):at=W1;if(at&&(at=at(n,F))){Qd(W,at,r,V);break t}xt&&xt(n,H,F),n==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Lc(H,"number",H.value)}switch(xt=F?Bs(F):window,n){case"focusin":(Kd(xt)||xt.contentEditable==="true")&&(Ua=xt,$c=F,Xs=null);break;case"focusout":Xs=$c=Ua=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,og(W,r,V);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":og(W,r,V)}var ot;if(Uc)t:{switch(n){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Ha?Xd(n,r)&&(dt="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(qd&&r.locale!=="ko"&&(Ha||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Ha&&(ot=jd()):(Si=V,zc="value"in Si?Si.value:Si.textContent,Ha=!0)),xt=ml(F,dt),0<xt.length&&(dt=new Gd(dt,n,null,r,V),W.push({event:dt,listeners:xt}),ot?dt.data=ot:(ot=Wd(r),ot!==null&&(dt.data=ot)))),(ot=U1?G1(n,r):V1(n,r))&&(dt=ml(F,"onBeforeInput"),0<dt.length&&(xt=new Gd("onBeforeInput","beforeinput",null,r,V),W.push({event:xt,listeners:dt}),xt.data=ot)),kA(W,n,F,r,V)}Lm(W,i)})}function Er(n,i,r){return{instance:n,listener:i,currentTarget:r}}function ml(n,i){for(var r=i+"Capture",u=[];n!==null;){var g=n,m=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||m===null||(g=js(n,r),g!=null&&u.unshift(Er(n,g,m)),g=js(n,i),g!=null&&u.push(Er(n,g,m))),n.tag===3)return u;n=n.return}return[]}function fs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Om(n,i,r,u,g){for(var m=i._reactName,A=[];r!==null&&r!==u;){var _=r,M=_.alternate,F=_.stateNode;if(_=_.tag,M!==null&&M===u)break;_!==5&&_!==26&&_!==27||F===null||(M=F,g?(F=js(r,m),F!=null&&A.unshift(Er(r,F,M))):g||(F=js(r,m),F!=null&&A.push(Er(r,F,M)))),r=r.return}A.length!==0&&n.push({event:i,listeners:A})}var FA=/\r\n?/g,BA=/\u0000|\uFFFD/g;function km(n){return(typeof n=="string"?n:""+n).replace(FA,`
`).replace(BA,"")}function Pm(n,i){return i=km(i),km(n)===i}function vl(){}function jt(n,i,r,u,g,m){switch(r){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Fa(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Fa(n,""+u);break;case"className":Eo(n,"class",u);break;case"tabIndex":Eo(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(n,r,u);break;case"style":zd(n,u,m);break;case"data":if(i!=="object"){Eo(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||r!=="href")){n.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=xo(""+u),n.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&jt(n,i,"name",g.name,g,null),jt(n,i,"formEncType",g.formEncType,g,null),jt(n,i,"formMethod",g.formMethod,g,null),jt(n,i,"formTarget",g.formTarget,g,null)):(jt(n,i,"encType",g.encType,g,null),jt(n,i,"method",g.method,g,null),jt(n,i,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=xo(""+u),n.setAttribute(r,u);break;case"onClick":u!=null&&(n.onclick=vl);break;case"onScroll":u!=null&&Ct("scroll",n);break;case"onScrollEnd":u!=null&&Ct("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(r=u.__html,r!=null){if(g.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}r=xo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""+u):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":u===!0?n.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,u):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(r,u):n.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(r):n.setAttribute(r,u);break;case"popover":Ct("beforetoggle",n),Ct("toggle",n),So(n,"popover",u);break;case"xlinkActuate":$n(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":$n(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":$n(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":$n(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":$n(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":$n(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":$n(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":$n(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":$n(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":So(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=p1.get(r)||r,So(n,r,u))}}function mh(n,i,r,u,g,m){switch(r){case"style":zd(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(r=u.__html,r!=null){if(g.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"children":typeof u=="string"?Fa(n,u):(typeof u=="number"||typeof u=="bigint")&&Fa(n,""+u);break;case"onScroll":u!=null&&Ct("scroll",n);break;case"onScrollEnd":u!=null&&Ct("scrollend",n);break;case"onClick":u!=null&&(n.onclick=vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Td.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(g=r.endsWith("Capture"),i=r.slice(2,g?r.length-7:void 0),m=n[Ge]||null,m=m!=null?m[r]:null,typeof m=="function"&&n.removeEventListener(i,m,g),typeof u=="function")){typeof m!="function"&&m!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(i,u,g);break t}r in n?n[r]=u:u===!0?n.setAttribute(r,""):So(n,r,u)}}}function Me(n,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",n),Ct("load",n);var u=!1,g=!1,m;for(m in r)if(r.hasOwnProperty(m)){var A=r[m];if(A!=null)switch(m){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:jt(n,i,m,A,r,null)}}g&&jt(n,i,"srcSet",r.srcSet,r,null),u&&jt(n,i,"src",r.src,r,null);return;case"input":Ct("invalid",n);var _=m=A=g=null,M=null,F=null;for(u in r)if(r.hasOwnProperty(u)){var V=r[u];if(V!=null)switch(u){case"name":g=V;break;case"type":A=V;break;case"checked":M=V;break;case"defaultChecked":F=V;break;case"value":m=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,i));break;default:jt(n,i,u,V,r,null)}}Od(n,m,_,M,F,A,g,!1),wo(n);return;case"select":Ct("invalid",n),u=A=m=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":m=_;break;case"defaultValue":A=_;break;case"multiple":u=_;default:jt(n,i,g,_,r,null)}i=m,r=A,n.multiple=!!u,i!=null?za(n,!!u,i,!1):r!=null&&za(n,!!u,r,!0);return;case"textarea":Ct("invalid",n),m=g=u=null;for(A in r)if(r.hasOwnProperty(A)&&(_=r[A],_!=null))switch(A){case"value":u=_;break;case"defaultValue":g=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:jt(n,i,A,_,r,null)}Pd(n,u,g,m),wo(n);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(u=r[M],u!=null))switch(M){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:jt(n,i,M,u,r,null)}return;case"dialog":Ct("beforetoggle",n),Ct("toggle",n),Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":Ct("load",n);break;case"video":case"audio":for(u=0;u<Sr.length;u++)Ct(Sr[u],n);break;case"image":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"embed":case"source":case"link":Ct("error",n),Ct("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in r)if(r.hasOwnProperty(F)&&(u=r[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:jt(n,i,F,u,r,null)}return;default:if(Nc(i)){for(V in r)r.hasOwnProperty(V)&&(u=r[V],u!==void 0&&mh(n,i,V,u,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(u=r[_],u!=null&&jt(n,i,_,u,r,null))}function jA(n,i,r,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,m=null,A=null,_=null,M=null,F=null,V=null;for(U in r){var W=r[U];if(r.hasOwnProperty(U)&&W!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":M=W;default:u.hasOwnProperty(U)||jt(n,i,U,null,u,W)}}for(var H in u){var U=u[H];if(W=r[H],u.hasOwnProperty(H)&&(U!=null||W!=null))switch(H){case"type":m=U;break;case"name":g=U;break;case"checked":F=U;break;case"defaultChecked":V=U;break;case"value":A=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,i));break;default:U!==W&&jt(n,i,H,U,u,W)}}Dc(n,A,_,M,F,V,m,g);return;case"select":U=A=_=H=null;for(m in r)if(M=r[m],r.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":U=M;default:u.hasOwnProperty(m)||jt(n,i,m,null,u,M)}for(g in u)if(m=u[g],M=r[g],u.hasOwnProperty(g)&&(m!=null||M!=null))switch(g){case"value":H=m;break;case"defaultValue":_=m;break;case"multiple":A=m;default:m!==M&&jt(n,i,g,m,u,M)}i=_,r=A,u=U,H!=null?za(n,!!r,H,!1):!!u!=!!r&&(i!=null?za(n,!!r,i,!0):za(n,!!r,r?[]:"",!1));return;case"textarea":U=H=null;for(_ in r)if(g=r[_],r.hasOwnProperty(_)&&g!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:jt(n,i,_,null,u,g)}for(A in u)if(g=u[A],m=r[A],u.hasOwnProperty(A)&&(g!=null||m!=null))switch(A){case"value":H=g;break;case"defaultValue":U=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==m&&jt(n,i,A,g,u,m)}kd(n,H,U);return;case"option":for(var mt in r)if(H=r[mt],r.hasOwnProperty(mt)&&H!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":n.selected=!1;break;default:jt(n,i,mt,null,u,H)}for(M in u)if(H=u[M],U=r[M],u.hasOwnProperty(M)&&H!==U&&(H!=null||U!=null))switch(M){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:jt(n,i,M,H,u,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)H=r[ft],r.hasOwnProperty(ft)&&H!=null&&!u.hasOwnProperty(ft)&&jt(n,i,ft,null,u,H);for(F in u)if(H=u[F],U=r[F],u.hasOwnProperty(F)&&H!==U&&(H!=null||U!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:jt(n,i,F,H,u,U)}return;default:if(Nc(i)){for(var Ht in r)H=r[Ht],r.hasOwnProperty(Ht)&&H!==void 0&&!u.hasOwnProperty(Ht)&&mh(n,i,Ht,void 0,u,H);for(V in u)H=u[V],U=r[V],!u.hasOwnProperty(V)||H===U||H===void 0&&U===void 0||mh(n,i,V,H,u,U);return}}for(var P in r)H=r[P],r.hasOwnProperty(P)&&H!=null&&!u.hasOwnProperty(P)&&jt(n,i,P,null,u,H);for(W in u)H=u[W],U=r[W],!u.hasOwnProperty(W)||H===U||H==null&&U==null||jt(n,i,W,H,u,U)}var vh=null,yh=null;function yl(n){return n.nodeType===9?n:n.ownerDocument}function Im(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zm(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function bh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ah=null;function HA(){var n=window.event;return n&&n.type==="popstate"?n===Ah?!1:(Ah=n,!0):(Ah=null,!1)}var Fm=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(n){return Bm.resolve(null).then(n).catch(VA)}:Fm;function VA(n){setTimeout(function(){throw n})}function zi(n){return n==="head"}function jm(n,i){var r=i,u=0,g=0;do{var m=r.nextSibling;if(n.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"){if(0<u&&8>u){r=u;var A=n.ownerDocument;if(r&1&&wr(A.documentElement),r&2&&wr(A.body),r&4)for(r=A.head,wr(r),A=r.firstChild;A;){var _=A.nextSibling,M=A.nodeName;A[Fs]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&A.rel.toLowerCase()==="stylesheet"||r.removeChild(A),A=_}}if(g===0){n.removeChild(m),Lr(i);return}g--}else r==="$"||r==="$?"||r==="$!"?g++:u=r.charCodeAt(0)-48;else u=0;r=m}while(r);Lr(i)}function Sh(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Sh(r),Tc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function qA(n,i,r,u){for(;n.nodeType===1;){var g=r;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Fs])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=_n(n.nextSibling),n===null)break}return null}function $A(n,i,r){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=_n(n.nextSibling),n===null))return null;return n}function Eh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function YA(n,i){var r=n.ownerDocument;if(n.data!=="$?"||r.readyState==="complete")i();else{var u=function(){i(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function _n(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var wh=null;function Hm(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return n;i--}else r==="/$"&&i++}n=n.previousSibling}return null}function Um(n,i,r){switch(i=yl(r),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function wr(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Tc(n)}var yn=new Map,Gm=new Set;function bl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ri=G.d;G.d={f:XA,r:WA,D:KA,C:QA,L:ZA,m:JA,X:eS,S:tS,M:nS};function XA(){var n=ri.f(),i=ul();return n||i}function WA(n){var i=Oa(n);i!==null&&i.tag===5&&i.type==="form"?cp(i):ri.r(n)}var ds=typeof document>"u"?null:document;function Vm(n,i,r){var u=ds;if(u&&typeof i=="string"&&i){var g=hn(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof r=="string"&&(g+='[crossorigin="'+r+'"]'),Gm.has(g)||(Gm.add(g),n={rel:n,crossOrigin:r,href:i},u.querySelector(g)===null&&(i=u.createElement("link"),Me(i,"link",n),Ae(i),u.head.appendChild(i)))}}function KA(n){ri.D(n),Vm("dns-prefetch",n,null)}function QA(n,i){ri.C(n,i),Vm("preconnect",n,i)}function ZA(n,i,r){ri.L(n,i,r);var u=ds;if(u&&n&&i){var g='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(g+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(g+='[imagesizes="'+hn(r.imageSizes)+'"]')):g+='[href="'+hn(n)+'"]';var m=g;switch(i){case"style":m=gs(n);break;case"script":m=ps(n)}yn.has(m)||(n=p({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:n,as:i},r),yn.set(m,n),u.querySelector(g)!==null||i==="style"&&u.querySelector(_r(m))||i==="script"&&u.querySelector(xr(m))||(i=u.createElement("link"),Me(i,"link",n),Ae(i),u.head.appendChild(i)))}}function JA(n,i){ri.m(n,i);var r=ds;if(r&&n){var u=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+hn(u)+'"][href="'+hn(n)+'"]',m=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ps(n)}if(!yn.has(m)&&(n=p({rel:"modulepreload",href:n},i),yn.set(m,n),r.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xr(m)))return}u=r.createElement("link"),Me(u,"link",n),Ae(u),r.head.appendChild(u)}}}function tS(n,i,r){ri.S(n,i,r);var u=ds;if(u&&n){var g=ka(u).hoistableStyles,m=gs(n);i=i||"default";var A=g.get(m);if(!A){var _={loading:0,preload:null};if(A=u.querySelector(_r(m)))_.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":i},r),(r=yn.get(m))&&_h(n,r);var M=A=u.createElement("link");Ae(M),Me(M,"link",n),M._p=new Promise(function(F,V){M.onload=F,M.onerror=V}),M.addEventListener("load",function(){_.loading|=1}),M.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Al(A,i,u)}A={type:"stylesheet",instance:A,count:1,state:_},g.set(m,A)}}}function eS(n,i){ri.X(n,i);var r=ds;if(r&&n){var u=ka(r).hoistableScripts,g=ps(n),m=u.get(g);m||(m=r.querySelector(xr(g)),m||(n=p({src:n,async:!0},i),(i=yn.get(g))&&xh(n,i),m=r.createElement("script"),Ae(m),Me(m,"link",n),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(g,m))}}function nS(n,i){ri.M(n,i);var r=ds;if(r&&n){var u=ka(r).hoistableScripts,g=ps(n),m=u.get(g);m||(m=r.querySelector(xr(g)),m||(n=p({src:n,async:!0,type:"module"},i),(i=yn.get(g))&&xh(n,i),m=r.createElement("script"),Ae(m),Me(m,"link",n),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(g,m))}}function qm(n,i,r,u){var g=(g=rt.current)?bl(g):null;if(!g)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=gs(r.href),r=ka(g).hoistableStyles,u=r.get(i),u||(u={type:"style",instance:null,count:0,state:null},r.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=gs(r.href);var m=ka(g).hoistableStyles,A=m.get(n);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,A),(m=g.querySelector(_r(n)))&&!m._p&&(A.instance=m,A.state.loading=5),yn.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},yn.set(n,r),m||iS(g,n,r,A.state))),i&&u===null)throw Error(a(528,""));return A}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ps(r),r=ka(g).hoistableScripts,u=r.get(i),u||(u={type:"script",instance:null,count:0,state:null},r.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function gs(n){return'href="'+hn(n)+'"'}function _r(n){return'link[rel="stylesheet"]['+n+"]"}function $m(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function iS(n,i,r,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Me(i,"link",r),Ae(i),n.head.appendChild(i))}function ps(n){return'[src="'+hn(n)+'"]'}function xr(n){return"script[async]"+n}function Ym(n,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+hn(r.href)+'"]');if(u)return i.instance=u,Ae(u),u;var g=p({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ae(u),Me(u,"style",g),Al(u,r.precedence,n),i.instance=u;case"stylesheet":g=gs(r.href);var m=n.querySelector(_r(g));if(m)return i.state.loading|=4,i.instance=m,Ae(m),m;u=$m(r),(g=yn.get(g))&&_h(u,g),m=(n.ownerDocument||n).createElement("link"),Ae(m);var A=m;return A._p=new Promise(function(_,M){A.onload=_,A.onerror=M}),Me(m,"link",u),i.state.loading|=4,Al(m,r.precedence,n),i.instance=m;case"script":return m=ps(r.src),(g=n.querySelector(xr(m)))?(i.instance=g,Ae(g),g):(u=r,(g=yn.get(m))&&(u=p({},r),xh(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),Ae(g),Me(g,"link",u),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Al(u,r.precedence,n));return i.instance}function Al(n,i,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,m=g,A=0;A<u.length;A++){var _=u[A];if(_.dataset.precedence===i)m=_;else if(m!==g)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(n,i.firstChild))}function _h(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function xh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Sl=null;function Xm(n,i,r){if(Sl===null){var u=new Map,g=Sl=new Map;g.set(r,u)}else g=Sl,u=g.get(r),u||(u=new Map,g.set(r,u));if(u.has(n))return u;for(u.set(n,null),r=r.getElementsByTagName(n),g=0;g<r.length;g++){var m=r[g];if(!(m[Fs]||m[Ne]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var A=m.getAttribute(i)||"";A=n+A;var _=u.get(A);_?_.push(m):u.set(A,[m])}}return u}function Wm(n,i,r){n=n.ownerDocument||n,n.head.insertBefore(r,i==="title"?n.querySelector("head > title"):null)}function aS(n,i,r){if(r===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Km(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Tr=null;function sS(){}function rS(n,i,r){if(Tr===null)throw Error(a(475));var u=Tr;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=gs(r.href),m=n.querySelector(_r(g));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=El.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=m,Ae(m);return}m=n.ownerDocument||n,r=$m(r),(g=yn.get(g))&&_h(r,g),m=m.createElement("link"),Ae(m);var A=m;A._p=new Promise(function(_,M){A.onload=_,A.onerror=M}),Me(m,"link",r),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=El.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function oS(){if(Tr===null)throw Error(a(475));var n=Tr;return n.stylesheets&&n.count===0&&Th(n,n.stylesheets),0<n.count?function(i){var r=setTimeout(function(){if(n.stylesheets&&Th(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(r)}}:null}function El(){if(this.count--,this.count===0){if(this.stylesheets)Th(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wl=null;function Th(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wl=new Map,i.forEach(lS,n),wl=null,El.call(n))}function lS(n,i){if(!(i.state.loading&4)){var r=wl.get(n);if(r)var u=r.get(null);else{r=new Map,wl.set(n,r);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<g.length;m++){var A=g[m];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(r.set(A.dataset.precedence,A),u=A)}u&&r.set(null,u)}g=i.instance,A=g.getAttribute("data-precedence"),m=r.get(A)||u,m===u&&r.set(null,g),r.set(A,g),this.count++,u=El.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),m?m.parentNode.insertBefore(g,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var Cr={$$typeof:R,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function cS(n,i,r,u,g,m,A,_){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ec(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.hiddenUpdates=Ec(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=m,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Qm(n,i,r,u,g,m,A,_,M,F,V,W){return n=new cS(n,i,r,A,_,M,F,W),i=1,m===!0&&(i|=24),m=Je(3,null,null,i),n.current=m,m.stateNode=n,i=ou(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:r,cache:i},hu(m),n}function Zm(n){return n?(n=$a,n):$a}function Jm(n,i,r,u,g,m){g=Zm(g),u.context===null?u.context=g:u.pendingContext=g,u=_i(i),u.payload={element:r},m=m===void 0?null:m,m!==null&&(u.callback=m),r=xi(n,u,i),r!==null&&(sn(r,n,i),ir(r,n,i))}function tv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<i?r:i}}function Ch(n,i){tv(n,i),(n=n.alternate)&&tv(n,i)}function ev(n){if(n.tag===13){var i=qa(n,67108864);i!==null&&sn(i,n,67108864),Ch(n,67108864)}}var _l=!0;function uS(n,i,r,u){var g=O.T;O.T=null;var m=G.p;try{G.p=2,Rh(n,i,r,u)}finally{G.p=m,O.T=g}}function hS(n,i,r,u){var g=O.T;O.T=null;var m=G.p;try{G.p=8,Rh(n,i,r,u)}finally{G.p=m,O.T=g}}function Rh(n,i,r,u){if(_l){var g=Mh(u);if(g===null)ph(n,i,u,xl,r),iv(n,u);else if(dS(g,n,i,r,u))u.stopPropagation();else if(iv(n,u),i&4&&-1<fS.indexOf(n)){for(;g!==null;){var m=Oa(g);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var A=Zi(m.pendingLanes);if(A!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;A;){var M=1<<31-ee(A);_.entanglements[1]|=M,A&=~M}On(m),(It&6)===0&&(ll=Te()+500,Ar(0))}}break;case 13:_=qa(m,2),_!==null&&sn(_,m,2),ul(),Ch(m,2)}if(m=Mh(u),m===null&&ph(n,i,u,xl,r),m===g)break;g=m}g!==null&&u.stopPropagation()}else ph(n,i,u,null,r)}}function Mh(n){return n=kc(n),Dh(n)}var xl=null;function Dh(n){if(xl=null,n=Na(n),n!==null){var i=o(n);if(i===null)n=null;else{var r=i.tag;if(r===13){if(n=c(i),n!==null)return n;n=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return xl=n,null}function nv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ki()){case Da:return 2;case mo:return 8;case qn:case bc:return 32;case vo:return 268435456;default:return 32}default:return 32}}var Lh=!1,Fi=null,Bi=null,ji=null,Rr=new Map,Mr=new Map,Hi=[],fS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(n,i){switch(n){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Rr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(i.pointerId)}}function Dr(n,i,r,u,g,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:r,eventSystemFlags:u,nativeEvent:m,targetContainers:[g]},i!==null&&(i=Oa(i),i!==null&&ev(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function dS(n,i,r,u,g){switch(i){case"focusin":return Fi=Dr(Fi,n,i,r,u,g),!0;case"dragenter":return Bi=Dr(Bi,n,i,r,u,g),!0;case"mouseover":return ji=Dr(ji,n,i,r,u,g),!0;case"pointerover":var m=g.pointerId;return Rr.set(m,Dr(Rr.get(m)||null,n,i,r,u,g)),!0;case"gotpointercapture":return m=g.pointerId,Mr.set(m,Dr(Mr.get(m)||null,n,i,r,u,g)),!0}return!1}function av(n){var i=Na(n.target);if(i!==null){var r=o(i);if(r!==null){if(i=r.tag,i===13){if(i=c(r),i!==null){n.blockedOn=i,r1(n.priority,function(){if(r.tag===13){var u=an();u=wc(u);var g=qa(r,u);g!==null&&sn(g,r,u),Ch(r,u)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var r=Mh(n.nativeEvent);if(r===null){r=n.nativeEvent;var u=new r.constructor(r.type,r);Oc=u,r.target.dispatchEvent(u),Oc=null}else return i=Oa(r),i!==null&&ev(i),n.blockedOn=r,!1;i.shift()}return!0}function sv(n,i,r){Tl(n)&&r.delete(i)}function gS(){Lh=!1,Fi!==null&&Tl(Fi)&&(Fi=null),Bi!==null&&Tl(Bi)&&(Bi=null),ji!==null&&Tl(ji)&&(ji=null),Rr.forEach(sv),Mr.forEach(sv)}function Cl(n,i){n.blockedOn===i&&(n.blockedOn=null,Lh||(Lh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,gS)))}var Rl=null;function rv(n){Rl!==n&&(Rl=n,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Rl===n&&(Rl=null);for(var i=0;i<n.length;i+=3){var r=n[i],u=n[i+1],g=n[i+2];if(typeof u!="function"){if(Dh(u||r)===null)continue;break}var m=Oa(r);m!==null&&(n.splice(i,3),i-=3,Du(m,{pending:!0,data:g,method:r.method,action:u},u,g))}}))}function Lr(n){function i(M){return Cl(M,n)}Fi!==null&&Cl(Fi,n),Bi!==null&&Cl(Bi,n),ji!==null&&Cl(ji,n),Rr.forEach(i),Mr.forEach(i);for(var r=0;r<Hi.length;r++){var u=Hi[r];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Hi.length&&(r=Hi[0],r.blockedOn===null);)av(r),r.blockedOn===null&&Hi.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var g=r[u],m=r[u+1],A=g[Ge]||null;if(typeof m=="function")A||rv(r);else if(A){var _=null;if(m&&m.hasAttribute("formAction")){if(g=m,A=m[Ge]||null)_=A.formAction;else if(Dh(g)!==null)continue}else _=A.action;typeof _=="function"?r[u+1]=_:(r.splice(u,3),u-=3),rv(r)}}}function Nh(n){this._internalRoot=n}Ml.prototype.render=Nh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,u=an();Jm(r,u,n,i,null,null)},Ml.prototype.unmount=Nh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Jm(n.current,2,null,n,null,null),ul(),i[La]=null}};function Ml(n){this._internalRoot=n}Ml.prototype.unstable_scheduleHydration=function(n){if(n){var i=wd();n={blockedOn:null,target:n,priority:i};for(var r=0;r<Hi.length&&i!==0&&i<Hi[r].priority;r++);Hi.splice(r,0,n),r===0&&av(n)}};var ov=t.version;if(ov!=="19.1.1")throw Error(a(527,ov,"19.1.1"));G.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=f(i),n=n!==null?d(n):null,n=n===null?null:n.stateNode,n};var pS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{Qi=Dl.inject(pS),te=Dl}catch{}}return Or.createRoot=function(n,i){if(!s(n))throw Error(a(299));var r=!1,u="",g=wp,m=_p,A=xp,_=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(_=i.unstable_transitionCallbacks)),i=Qm(n,1,!1,null,null,r,u,g,m,A,_,null),n[La]=i.current,gh(n),new Nh(i)},Or.hydrateRoot=function(n,i,r){if(!s(n))throw Error(a(299));var u=!1,g="",m=wp,A=_p,_=xp,M=null,F=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(g=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(A=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks),r.formState!==void 0&&(F=r.formState)),i=Qm(n,1,!0,i,r??null,u,g,m,A,_,M,F),i.context=Zm(null),r=i.current,u=an(),u=wc(u),g=_i(u),g.callback=null,xi(r,g,u),r=u,i.current.lanes=r,zs(i,r),On(i),n[La]=i.current,gh(n),new Ml(i)},Or.version="19.1.1",Or}var bv;function xS(){if(bv)return Ih.exports;bv=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Ih.exports=_S(),Ih.exports}var TS=xS();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Av="popstate";function CS(l={}){function t(a,s){let{pathname:o,search:c,hash:h}=a.location;return sf("",{pathname:o,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(a,s){return typeof s=="string"?s:Yr(s)}return MS(t,e,null,l)}function Jt(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function Gn(l,t){if(!l){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RS(){return Math.random().toString(36).substring(2,10)}function Sv(l,t){return{usr:l.state,key:l.key,idx:t}}function sf(l,t,e=null,a){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof t=="string"?Ls(t):t,state:e,key:t&&t.key||a||RS()}}function Yr({pathname:l="/",search:t="",hash:e=""}){return t&&t!=="?"&&(l+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(l+=e.charAt(0)==="#"?e:"#"+e),l}function Ls(l){let t={};if(l){let e=l.indexOf("#");e>=0&&(t.hash=l.substring(e),l=l.substring(0,e));let a=l.indexOf("?");a>=0&&(t.search=l.substring(a),l=l.substring(0,a)),l&&(t.pathname=l)}return t}function MS(l,t,e,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,c=s.history,h="POP",f=null,d=p();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function p(){return(c.state||{idx:null}).idx}function v(){h="POP";let x=p(),w=x==null?null:x-d;d=x,f&&f({action:h,location:E.location,delta:w})}function y(x,w){h="PUSH";let T=sf(E.location,x,w);d=p()+1;let R=Sv(T,d),L=E.createHref(T);try{c.pushState(R,"",L)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(L)}o&&f&&f({action:h,location:E.location,delta:1})}function b(x,w){h="REPLACE";let T=sf(E.location,x,w);d=p();let R=Sv(T,d),L=E.createHref(T);c.replaceState(R,"",L),o&&f&&f({action:h,location:E.location,delta:0})}function S(x){return DS(x)}let E={get action(){return h},get location(){return l(s,c)},listen(x){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Av,v),f=x,()=>{s.removeEventListener(Av,v),f=null}},createHref(x){return t(s,x)},createURL:S,encodeLocation(x){let w=S(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:b,go(x){return c.go(x)}};return E}function DS(l,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(e,"No window.location.(origin|href) available to create URL");let a=typeof l=="string"?l:Yr(l);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=e+a),new URL(a,e)}function I0(l,t,e="/"){return LS(l,t,e,!1)}function LS(l,t,e,a){let s=typeof t=="string"?Ls(t):t,o=di(s.pathname||"/",e);if(o==null)return null;let c=z0(l);NS(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let d=GS(o);h=HS(c[f],d,a)}return h}function z0(l,t=[],e=[],a="",s=!1){let o=(c,h,f=s,d)=>{let p={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(a)&&f)return;Jt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length)}let v=fi([a,p.relativePath]),y=e.concat(p);c.children&&c.children.length>0&&(Jt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),z0(c.children,t,y,v,f)),!(c.path==null&&!c.index)&&t.push({path:v,score:BS(v,c.index),routesMeta:y})};return l.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of F0(c.path))o(c,h,!0,f)}),t}function F0(l){let t=l.split("/");if(t.length===0)return[];let[e,...a]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let c=F0(a.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...c),h.map(f=>l.startsWith("/")&&f===""?"/":f)}function NS(l){l.sort((t,e)=>t.score!==e.score?e.score-t.score:jS(t.routesMeta.map(a=>a.childrenIndex),e.routesMeta.map(a=>a.childrenIndex)))}var OS=/^:[\w-]+$/,kS=3,PS=2,IS=1,zS=10,FS=-2,Ev=l=>l==="*";function BS(l,t){let e=l.split("/"),a=e.length;return e.some(Ev)&&(a+=FS),t&&(a+=PS),e.filter(s=>!Ev(s)).reduce((s,o)=>s+(OS.test(o)?kS:o===""?IS:zS),a)}function jS(l,t){return l.length===t.length&&l.slice(0,-1).every((a,s)=>a===t[s])?l[l.length-1]-t[t.length-1]:0}function HS(l,t,e=!1){let{routesMeta:a}=l,s={},o="/",c=[];for(let h=0;h<a.length;++h){let f=a[h],d=h===a.length-1,p=o==="/"?t:t.slice(o.length)||"/",v=Xl({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),y=f.route;if(!v&&d&&e&&!a[a.length-1].route.index&&(v=Xl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:fi([o,v.pathname]),pathnameBase:YS(fi([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=fi([o,v.pathnameBase]))}return c}function Xl(l,t){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[e,a]=US(l.path,l.caseSensitive,l.end),s=t.match(e);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:a.reduce((d,{paramName:p,isOptional:v},y)=>{if(p==="*"){let S=h[y]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=h[y];return v&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:l}}function US(l,t=!1,e=!0){Gn(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let a=[],s="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(a.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(a.push({paramName:"*"}),s+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":l!==""&&l!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function GS(l){try{return l.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gn(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),l}}function di(l,t){if(t==="/")return l;if(!l.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,a=l.charAt(e);return a&&a!=="/"?null:l.slice(e)||"/"}function VS(l,t="/"){let{pathname:e,search:a="",hash:s=""}=typeof l=="string"?Ls(l):l;return{pathname:e?e.startsWith("/")?e:qS(e,t):t,search:XS(a),hash:WS(s)}}function qS(l,t){let e=t.replace(/\/+$/,"").split("/");return l.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function jh(l,t,e,a){return`Cannot include a '${l}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $S(l){return l.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function B0(l){let t=$S(l);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function j0(l,t,e,a=!1){let s;typeof l=="string"?s=Ls(l):(s={...l},Jt(!s.pathname||!s.pathname.includes("?"),jh("?","pathname","search",s)),Jt(!s.pathname||!s.pathname.includes("#"),jh("#","pathname","hash",s)),Jt(!s.search||!s.search.includes("#"),jh("#","search","hash",s)));let o=l===""||s.pathname==="",c=o?"/":s.pathname,h;if(c==null)h=e;else{let v=t.length-1;if(!a&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),v-=1;s.pathname=y.join("/")}h=v>=0?t[v]:"/"}let f=VS(s,h),d=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var fi=l=>l.join("/").replace(/\/\/+/g,"/"),YS=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),XS=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,WS=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function KS(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var H0=["POST","PUT","PATCH","DELETE"];new Set(H0);var QS=["GET",...H0];new Set(QS);var Ns=N.createContext(null);Ns.displayName="DataRouter";var ec=N.createContext(null);ec.displayName="DataRouterState";N.createContext(!1);var U0=N.createContext({isTransitioning:!1});U0.displayName="ViewTransition";var ZS=N.createContext(new Map);ZS.displayName="Fetchers";var JS=N.createContext(null);JS.displayName="Await";var Vn=N.createContext(null);Vn.displayName="Navigation";var to=N.createContext(null);to.displayName="Location";var yi=N.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var Of=N.createContext(null);Of.displayName="RouteError";function tE(l,{relative:t}={}){Jt(eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:a}=N.useContext(Vn),{hash:s,pathname:o,search:c}=no(l,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:fi([e,o])),a.createHref({pathname:h,search:c,hash:s})}function eo(){return N.useContext(to)!=null}function Wi(){return Jt(eo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(to).location}var G0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V0(l){N.useContext(Vn).static||N.useLayoutEffect(l)}function q0(){let{isDataRoute:l}=N.useContext(yi);return l?dE():eE()}function eE(){Jt(eo(),"useNavigate() may be used only in the context of a <Router> component.");let l=N.useContext(Ns),{basename:t,navigator:e}=N.useContext(Vn),{matches:a}=N.useContext(yi),{pathname:s}=Wi(),o=JSON.stringify(B0(a)),c=N.useRef(!1);return V0(()=>{c.current=!0}),N.useCallback((f,d={})=>{if(Gn(c.current,G0),!c.current)return;if(typeof f=="number"){e.go(f);return}let p=j0(f,JSON.parse(o),s,d.relative==="path");l==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:fi([t,p.pathname])),(d.replace?e.replace:e.push)(p,d.state,d)},[t,e,o,s,l])}N.createContext(null);function no(l,{relative:t}={}){let{matches:e}=N.useContext(yi),{pathname:a}=Wi(),s=JSON.stringify(B0(e));return N.useMemo(()=>j0(l,JSON.parse(s),a,t==="path"),[l,s,a,t])}function nE(l,t){return $0(l,t)}function $0(l,t,e,a,s){Jt(eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(Vn),{matches:c}=N.useContext(yi),h=c[c.length-1],f=h?h.params:{},d=h?h.pathname:"/",p=h?h.pathnameBase:"/",v=h&&h.route;{let T=v&&v.path||"";Y0(d,!v||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=Wi(),b;if(t){let T=typeof t=="string"?Ls(t):t;Jt(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=y;let S=b.pathname||"/",E=S;if(p!=="/"){let T=p.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=I0(l,{pathname:E});Gn(v||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=oE(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:fi([p,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:fi([p,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),c,e,a,s);return t&&w?N.createElement(to.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},w):w}function iE(){let l=fE(),t=KS(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),e=l instanceof Error?l.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",l),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),e?N.createElement("pre",{style:s},e):null,c)}var aE=N.createElement(iE,null),sE=class extends N.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,t){return t.location!==l.location||t.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:t.error,location:t.location,revalidation:l.revalidation||t.revalidation}}componentDidCatch(l,t){this.props.unstable_onError?this.props.unstable_onError(l,t):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?N.createElement(yi.Provider,{value:this.props.routeContext},N.createElement(Of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rE({routeContext:l,match:t,children:e}){let a=N.useContext(Ns);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(yi.Provider,{value:l},e)}function oE(l,t=[],e=null,a=null,s=null){if(l==null){if(!e)return null;if(e.errors)l=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)l=e.matches;else return null}let o=l,c=e?.errors;if(c!=null){let d=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);Jt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let h=!1,f=-1;if(e)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:v,errors:y}=e,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,p,v)=>{let y,b=!1,S=null,E=null;e&&(y=c&&p.route.id?c[p.route.id]:void 0,S=p.route.errorElement||aE,h&&(f<0&&v===0?(Y0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):f===v&&(b=!0,E=p.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,v+1)),w=()=>{let T;return y?T=S:b?T=E:p.route.Component?T=N.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=d,N.createElement(rE,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:e!=null},children:T})};return e&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?N.createElement(sE,{location:e.location,revalidation:e.revalidation,component:S,error:y,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:a}):w()},null)}function kf(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lE(l){let t=N.useContext(Ns);return Jt(t,kf(l)),t}function cE(l){let t=N.useContext(ec);return Jt(t,kf(l)),t}function uE(l){let t=N.useContext(yi);return Jt(t,kf(l)),t}function Pf(l){let t=uE(l),e=t.matches[t.matches.length-1];return Jt(e.route.id,`${l} can only be used on routes that contain a unique "id"`),e.route.id}function hE(){return Pf("useRouteId")}function fE(){let l=N.useContext(Of),t=cE("useRouteError"),e=Pf("useRouteError");return l!==void 0?l:t.errors?.[e]}function dE(){let{router:l}=lE("useNavigate"),t=Pf("useNavigate"),e=N.useRef(!1);return V0(()=>{e.current=!0}),N.useCallback(async(s,o={})=>{Gn(e.current,G0),e.current&&(typeof s=="number"?l.navigate(s):await l.navigate(s,{fromRouteId:t,...o}))},[l,t])}var wv={};function Y0(l,t,e){!t&&!wv[l]&&(wv[l]=!0,Gn(!1,e))}N.memo(gE);function gE({routes:l,future:t,state:e,unstable_onError:a}){return $0(l,void 0,e,a,t)}function X0(l){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pE({basename:l="/",children:t=null,location:e,navigationType:a="POP",navigator:s,static:o=!1}){Jt(!eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=l.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof e=="string"&&(e=Ls(e));let{pathname:f="/",search:d="",hash:p="",state:v=null,key:y="default"}=e,b=N.useMemo(()=>{let S=di(f,c);return S==null?null:{location:{pathname:S,search:d,hash:p,state:v,key:y},navigationType:a}},[c,f,d,p,v,y,a]);return Gn(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:N.createElement(Vn.Provider,{value:h},N.createElement(to.Provider,{children:t,value:b}))}function mE({children:l,location:t}){return nE(rf(l),t)}function rf(l,t=[]){let e=[];return N.Children.forEach(l,(a,s)=>{if(!N.isValidElement(a))return;let o=[...t,s];if(a.type===N.Fragment){e.push.apply(e,rf(a.props.children,o));return}Jt(a.type===X0,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=rf(a.props.children,o)),e.push(c)}),e}var Hl="get",Ul="application/x-www-form-urlencoded";function nc(l){return l!=null&&typeof l.tagName=="string"}function vE(l){return nc(l)&&l.tagName.toLowerCase()==="button"}function yE(l){return nc(l)&&l.tagName.toLowerCase()==="form"}function bE(l){return nc(l)&&l.tagName.toLowerCase()==="input"}function AE(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function SE(l,t){return l.button===0&&(!t||t==="_self")&&!AE(l)}var Ll=null;function EE(){if(Ll===null)try{new FormData(document.createElement("form"),0),Ll=!1}catch{Ll=!0}return Ll}var wE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hh(l){return l!=null&&!wE.has(l)?(Gn(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ul}"`),null):l}function _E(l,t){let e,a,s,o,c;if(yE(l)){let h=l.getAttribute("action");a=h?di(h,t):null,e=l.getAttribute("method")||Hl,s=Hh(l.getAttribute("enctype"))||Ul,o=new FormData(l)}else if(vE(l)||bE(l)&&(l.type==="submit"||l.type==="image")){let h=l.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=l.getAttribute("formaction")||h.getAttribute("action");if(a=f?di(f,t):null,e=l.getAttribute("formmethod")||h.getAttribute("method")||Hl,s=Hh(l.getAttribute("formenctype"))||Hh(h.getAttribute("enctype"))||Ul,o=new FormData(h,l),!EE()){let{name:d,type:p,value:v}=l;if(p==="image"){let y=d?`${d}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else d&&o.append(d,v)}}else{if(nc(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Hl,a=null,s=Ul,c=l}return o&&s==="text/plain"&&(c=o,o=void 0),{action:a,method:e.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function If(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function xE(l,t,e){let a=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return a.pathname==="/"?a.pathname=`_root.${e}`:t&&di(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${e}`,a}async function TE(l,t){if(l.id in t)return t[l.id];try{let e=await import(l.module);return t[l.id]=e,e}catch(e){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CE(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function RE(l,t,e){let a=await Promise.all(l.map(async s=>{let o=t.routes[s.route.id];if(o){let c=await TE(o,e);return c.links?c.links():[]}return[]}));return NE(a.flat(1).filter(CE).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _v(l,t,e,a,s,o){let c=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,h=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>c(f,d)||h(f,d)):o==="data"?t.filter((f,d)=>{let p=a.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ME(l,t,{includeHydrateFallback:e}={}){return DE(l.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function DE(l){return[...new Set(l)]}function LE(l){let t={},e=Object.keys(l).sort();for(let a of e)t[a]=l[a];return t}function NE(l,t){let e=new Set;return new Set(t),l.reduce((a,s)=>{let o=JSON.stringify(LE(s));return e.has(o)||(e.add(o),a.push({key:o,link:s})),a},[])}function W0(){let l=N.useContext(Ns);return If(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function OE(){let l=N.useContext(ec);return If(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var zf=N.createContext(void 0);zf.displayName="FrameworkContext";function K0(){let l=N.useContext(zf);return If(l,"You must render this element inside a <HydratedRouter> element"),l}function kE(l,t){let e=N.useContext(zf),[a,s]=N.useState(!1),[o,c]=N.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:v}=t,y=N.useRef(null);N.useEffect(()=>{if(l==="render"&&c(!0),l==="viewport"){let E=w=>{w.forEach(T=>{c(T.isIntersecting)})},x=new IntersectionObserver(E,{threshold:.5});return y.current&&x.observe(y.current),()=>{x.disconnect()}}},[l]),N.useEffect(()=>{if(a){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[a]);let b=()=>{s(!0)},S=()=>{s(!1),c(!1)};return e?l!=="intent"?[o,y,{}]:[o,y,{onFocus:kr(h,b),onBlur:kr(f,S),onMouseEnter:kr(d,b),onMouseLeave:kr(p,S),onTouchStart:kr(v,b)}]:[!1,y,{}]}function kr(l,t){return e=>{l&&l(e),e.defaultPrevented||t(e)}}function PE({page:l,...t}){let{router:e}=W0(),a=N.useMemo(()=>I0(e.routes,l,e.basename),[e.routes,l,e.basename]);return a?N.createElement(zE,{page:l,matches:a,...t}):null}function IE(l){let{manifest:t,routeModules:e}=K0(),[a,s]=N.useState([]);return N.useEffect(()=>{let o=!1;return RE(l,t,e).then(c=>{o||s(c)}),()=>{o=!0}},[l,t,e]),a}function zE({page:l,matches:t,...e}){let a=Wi(),{manifest:s,routeModules:o}=K0(),{basename:c}=W0(),{loaderData:h,matches:f}=OE(),d=N.useMemo(()=>_v(l,t,f,s,a,"data"),[l,t,f,s,a]),p=N.useMemo(()=>_v(l,t,f,s,a,"assets"),[l,t,f,s,a]),v=N.useMemo(()=>{if(l===a.pathname+a.search+a.hash)return[];let S=new Set,E=!1;if(t.forEach(w=>{let T=s.routes[w.route.id];!T||!T.hasLoader||(!d.some(R=>R.route.id===w.route.id)&&w.route.id in h&&o[w.route.id]?.shouldRevalidate||T.hasClientLoader?E=!0:S.add(w.route.id))}),S.size===0)return[];let x=xE(l,c,"data");return E&&S.size>0&&x.searchParams.set("_routes",t.filter(w=>S.has(w.route.id)).map(w=>w.route.id).join(",")),[x.pathname+x.search]},[c,h,a,s,d,t,l,o]),y=N.useMemo(()=>ME(p,s),[p,s]),b=IE(p);return N.createElement(N.Fragment,null,v.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),y.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),b.map(({key:S,link:E})=>N.createElement("link",{key:S,nonce:e.nonce,...E})))}function FE(...l){return t=>{l.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Q0&&(window.__reactRouterVersion="7.8.2")}catch{}function BE({basename:l,children:t,window:e}){let a=N.useRef();a.current==null&&(a.current=CS({window:e,v5Compat:!0}));let s=a.current,[o,c]=N.useState({action:s.action,location:s.location}),h=N.useCallback(f=>{N.startTransition(()=>c(f))},[c]);return N.useLayoutEffect(()=>s.listen(h),[s,h]),N.createElement(pE,{basename:l,children:t,location:o.location,navigationType:o.action,navigator:s})}var Z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ff=N.forwardRef(function({onClick:t,discover:e="render",prefetch:a="none",relative:s,reloadDocument:o,replace:c,state:h,target:f,to:d,preventScrollReset:p,viewTransition:v,...y},b){let{basename:S}=N.useContext(Vn),E=typeof d=="string"&&Z0.test(d),x,w=!1;if(typeof d=="string"&&E&&(x=d,Q0))try{let X=new URL(window.location.href),J=d.startsWith("//")?new URL(X.protocol+d):new URL(d),tt=di(J.pathname,S);J.origin===X.origin&&tt!=null?d=tt+J.search+J.hash:w=!0}catch{Gn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=tE(d,{relative:s}),[R,L,C]=kE(a,y),B=GE(d,{replace:c,state:h,target:f,preventScrollReset:p,relative:s,viewTransition:v});function j(X){t&&t(X),X.defaultPrevented||B(X)}let q=N.createElement("a",{...y,...C,href:x||T,onClick:w||o?t:j,ref:FE(b,L),target:f,"data-discover":!E&&e==="render"?"true":void 0});return R&&!E?N.createElement(N.Fragment,null,q,N.createElement(PE,{page:T})):q});Ff.displayName="Link";var jE=N.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:a="",end:s=!1,style:o,to:c,viewTransition:h,children:f,...d},p){let v=no(c,{relative:d.relative}),y=Wi(),b=N.useContext(ec),{navigator:S,basename:E}=N.useContext(Vn),x=b!=null&&XE(v)&&h===!0,w=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,T=y.pathname,R=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(T=T.toLowerCase(),R=R?R.toLowerCase():null,w=w.toLowerCase()),R&&E&&(R=di(R,E)||R);const L=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let C=T===w||!s&&T.startsWith(w)&&T.charAt(L)==="/",B=R!=null&&(R===w||!s&&R.startsWith(w)&&R.charAt(w.length)==="/"),j={isActive:C,isPending:B,isTransitioning:x},q=C?t:void 0,X;typeof a=="function"?X=a(j):X=[a,C?"active":null,B?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let J=typeof o=="function"?o(j):o;return N.createElement(Ff,{...d,"aria-current":q,className:X,ref:p,style:J,to:c,viewTransition:h},typeof f=="function"?f(j):f)});jE.displayName="NavLink";var HE=N.forwardRef(({discover:l="render",fetcherKey:t,navigate:e,reloadDocument:a,replace:s,state:o,method:c=Hl,action:h,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:v,...y},b)=>{let S=$E(),E=YE(h,{relative:d}),x=c.toLowerCase()==="get"?"get":"post",w=typeof h=="string"&&Z0.test(h),T=R=>{if(f&&f(R),R.defaultPrevented)return;R.preventDefault();let L=R.nativeEvent.submitter,C=L?.getAttribute("formmethod")||c;S(L||R.currentTarget,{fetcherKey:t,method:C,navigate:e,replace:s,state:o,relative:d,preventScrollReset:p,viewTransition:v})};return N.createElement("form",{ref:b,method:x,action:E,onSubmit:a?f:T,...y,"data-discover":!w&&l==="render"?"true":void 0})});HE.displayName="Form";function UE(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J0(l){let t=N.useContext(Ns);return Jt(t,UE(l)),t}function GE(l,{target:t,replace:e,state:a,preventScrollReset:s,relative:o,viewTransition:c}={}){let h=q0(),f=Wi(),d=no(l,{relative:o});return N.useCallback(p=>{if(SE(p,t)){p.preventDefault();let v=e!==void 0?e:Yr(f)===Yr(d);h(l,{replace:v,state:a,preventScrollReset:s,relative:o,viewTransition:c})}},[f,h,d,e,a,t,l,s,o,c])}var VE=0,qE=()=>`__${String(++VE)}__`;function $E(){let{router:l}=J0("useSubmit"),{basename:t}=N.useContext(Vn),e=hE();return N.useCallback(async(a,s={})=>{let{action:o,method:c,encType:h,formData:f,body:d}=_E(a,t);if(s.navigate===!1){let p=s.fetcherKey||qE();await l.fetch(p,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||c,formEncType:s.encType||h,flushSync:s.flushSync})}else await l.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||c,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[l,t,e])}function YE(l,{relative:t}={}){let{basename:e}=N.useContext(Vn),a=N.useContext(yi);Jt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...no(l||".",{relative:t})},c=Wi();if(l==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(p=>p==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let p=h.toString();o.search=p?`?${p}`:""}}return(!l||l===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:fi([e,o.pathname])),Yr(o)}function XE(l,{relative:t}={}){let e=N.useContext(U0);Jt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=J0("useViewTransitionState"),s=no(l,{relative:t});if(!e.isTransitioning)return!1;let o=di(e.currentLocation.pathname,a)||e.currentLocation.pathname,c=di(e.nextLocation.pathname,a)||e.nextLocation.pathname;return Xl(s.pathname,c)!=null||Xl(s.pathname,o)!=null}const ty=N.createContext(),ic=()=>{const l=N.useContext(ty);if(!l)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return l},WE=({children:l})=>{const[t,e]=N.useState(!1),[a,s]=N.useState(!0),o=N.useRef(null),c=N.useRef(Date.now()),h=()=>{c.current=Date.now(),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{p()},1800*1e3)},f=()=>{t&&h()};N.useEffect(()=>{localStorage.getItem("cipe_auth")==="true"&&(e(!0),h()),s(!1);const b=["mousedown","mousemove","keypress","scroll","touchstart","click"];return b.forEach(S=>{document.addEventListener(S,f,!0)}),()=>{b.forEach(S=>{document.removeEventListener(S,f,!0)}),o.current&&clearTimeout(o.current)}},[t]),N.useEffect(()=>{const y=()=>{localStorage.removeItem("cipe_auth")},b=()=>{};return window.addEventListener("beforeunload",y),document.addEventListener("visibilitychange",b),()=>{window.removeEventListener("beforeunload",y),document.removeEventListener("visibilitychange",b)}},[]);const d=(y,b)=>y==="albi"&&b==="albi2025"?(e(!0),localStorage.setItem("cipe_auth","true"),h(),!0):!1,p=()=>{e(!1),localStorage.removeItem("cipe_auth"),o.current&&clearTimeout(o.current)},v={isAuthenticated:t,isLoading:a,login:d,logout:p};return I.jsx(ty.Provider,{value:v,children:l})},ey="/documentacionAlbi/assets/albibot-BiKSx3Zi.jpeg",KE=()=>{const[l,t]=N.useState(""),[e,a]=N.useState(""),[s,o]=N.useState(""),{login:c}=ic(),h=f=>{f.preventDefault(),o(""),c(l,e)||o("Usuario o contrasea incorrectos")};return I.jsx("div",{className:"login-container",children:I.jsxs("div",{className:"login-box",children:[I.jsxs("div",{className:"login-header",children:[I.jsx("img",{src:ey,alt:"Logo Albibot",className:"login-logo"}),I.jsx("h1",{className:"login-title",children:"Plataforma de Documentacin Albibot"})]}),I.jsxs("form",{onSubmit:h,className:"login-form",children:[I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"username",children:"Usuario"}),I.jsx("input",{type:"text",id:"username",value:l,onChange:f=>t(f.target.value),placeholder:"Ingrese su usuario",required:!0})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"password",children:"Contrasea"}),I.jsx("input",{type:"password",id:"password",value:e,onChange:f=>a(f.target.value),placeholder:"Ingrese su contrasea",required:!0})]}),s&&I.jsx("div",{className:"error-message",children:s}),I.jsx("button",{type:"submit",className:"login-button",children:"Iniciar Sesin"})]})]})})},QE=()=>{const{logout:l}=ic(),[t,e]=N.useState(!1),[a,s]=N.useState(0);N.useEffect(()=>{let f,d;return f=setTimeout(()=>{e(!0),s(300),d=setInterval(()=>{s(v=>v<=1?(l(),0):v-1)},1e3)},15e5),()=>{f&&clearTimeout(f),d&&clearInterval(d)}},[l]);const o=()=>{e(!1),s(0)},c=()=>{l()},h=f=>{const d=Math.floor(f/60),p=f%60;return`${d}:${p.toString().padStart(2,"0")}`};return t?I.jsx("div",{className:"session-warning-overlay",children:I.jsxs("div",{className:"session-warning-modal",children:[I.jsx("div",{className:"warning-header",children:I.jsx("h3",{children:" Sesin por expirar"})}),I.jsxs("div",{className:"warning-content",children:[I.jsxs("p",{children:["Tu sesin expirar en ",I.jsx("strong",{children:h(a)})," por inactividad."]}),I.jsx("p",{children:"Deseas continuar con la sesin?"})]}),I.jsxs("div",{className:"warning-actions",children:[I.jsx("button",{className:"extend-button",onClick:o,children:"Continuar sesin"}),I.jsx("button",{className:"logout-button",onClick:c,children:"Cerrar sesin"})]})]})}):null},ny=N.createContext(),iy=()=>{const l=N.useContext(ny);if(!l)throw new Error("useHighlight debe ser usado dentro de HighlightProvider");return l},ZE=({children:l})=>{const[t,e]=N.useState(()=>{const f=localStorage.getItem("highlightedModules");if(f)try{const d=JSON.parse(f);return new Set(d)}catch(d){return console.error("Error parsing saved highlighted modules:",d),new Set}return new Set}),a=f=>{e(d=>{const p=new Set(d);return p.has(f)?p.delete(f):p.add(f),p})},s=f=>t.has(f),o=()=>{e(new Set)},c=f=>{e(d=>new Set([...d,f]))},h=f=>{e(d=>{const p=new Set(d);return p.delete(f),p})};return N.useEffect(()=>{localStorage.setItem("highlightedModules",JSON.stringify(Array.from(t)))},[t]),I.jsx(ny.Provider,{value:{highlightedModules:Array.from(t),toggleHighlight:a,isHighlighted:s,clearAllHighlights:o,highlightModule:c,unhighlightModule:h},children:l})},JE=()=>{const{highlightedModules:l,clearAllHighlights:t}=iy(),[e,a]=N.useState(!1);return I.jsxs("div",{className:"highlight-manager",children:[I.jsxs("button",{className:"highlight-toggle",onClick:()=>a(!e),title:"Ver mdulos en desarrollo",children:[" ",l.length>0&&`(${l.length})`]}),e&&I.jsxs("div",{className:"highlight-panel",children:[I.jsxs("div",{className:"highlight-header",children:[I.jsx("h3",{children:"Mdulos en Desarrollo"}),I.jsx("button",{className:"clear-all-btn",onClick:t,disabled:l.length===0,children:"Limpiar todo"})]}),l.length>0?I.jsx("div",{className:"highlight-list",children:I.jsx("ul",{children:l.map((s,o)=>I.jsx("li",{children:s},o))})}):I.jsx("div",{className:"highlight-empty",children:I.jsx("p",{children:'No hay mdulos marcados como "en desarrollo"'})})]})]})};/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function of(l,t){(t==null||t>l.length)&&(t=l.length);for(var e=0,a=Array(t);e<t;e++)a[e]=l[e];return a}function tw(l){if(Array.isArray(l))return l}function ew(l){if(Array.isArray(l))return of(l)}function nw(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}function iw(l,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,ay(a.key),a)}}function aw(l,t,e){return t&&iw(l.prototype,t),Object.defineProperty(l,"prototype",{writable:!1}),l}function Gl(l,t){var e=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!e){if(Array.isArray(l)||(e=Bf(l))||t){e&&(l=e);var a=0,s=function(){};return{s,n:function(){return a>=l.length?{done:!0}:{done:!1,value:l[a++]}},e:function(f){throw f},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,c=!0,h=!1;return{s:function(){e=e.call(l)},n:function(){var f=e.next();return c=f.done,f},e:function(f){h=!0,o=f},f:function(){try{c||e.return==null||e.return()}finally{if(h)throw o}}}}function Nt(l,t,e){return(t=ay(t))in l?Object.defineProperty(l,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):l[t]=e,l}function sw(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function rw(l,t){var e=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(e!=null){var a,s,o,c,h=[],f=!0,d=!1;try{if(o=(e=e.call(l)).next,t===0){if(Object(e)!==e)return;f=!1}else for(;!(f=(a=o.call(e)).done)&&(h.push(a.value),h.length!==t);f=!0);}catch(p){d=!0,s=p}finally{try{if(!f&&e.return!=null&&(c=e.return(),Object(c)!==c))return}finally{if(d)throw s}}return h}}function ow(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xv(l,t){var e=Object.keys(l);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(l);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(l,s).enumerable})),e.push.apply(e,a)}return e}function Z(l){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?xv(Object(e),!0).forEach(function(a){Nt(l,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(e)):xv(Object(e)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(e,a))})}return l}function ac(l,t){return tw(l)||rw(l,t)||Bf(l,t)||ow()}function Cn(l){return ew(l)||sw(l)||Bf(l)||lw()}function cw(l,t){if(typeof l!="object"||!l)return l;var e=l[Symbol.toPrimitive];if(e!==void 0){var a=e.call(l,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(l)}function ay(l){var t=cw(l,"string");return typeof t=="symbol"?t:t+""}function Wl(l){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(l)}function Bf(l,t){if(l){if(typeof l=="string")return of(l,t);var e={}.toString.call(l).slice(8,-1);return e==="Object"&&l.constructor&&(e=l.constructor.name),e==="Map"||e==="Set"?Array.from(l):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?of(l,t):void 0}}var Tv=function(){},jf={},sy={},ry=null,oy={mark:Tv,measure:Tv};try{typeof window<"u"&&(jf=window),typeof document<"u"&&(sy=document),typeof MutationObserver<"u"&&(ry=MutationObserver),typeof performance<"u"&&(oy=performance)}catch{}var uw=jf.navigator||{},Cv=uw.userAgent,Rv=Cv===void 0?"":Cv,qi=jf,Yt=sy,Mv=ry,Nl=oy;qi.document;var bi=!!Yt.documentElement&&!!Yt.head&&typeof Yt.addEventListener=="function"&&typeof Yt.createElement=="function",ly=~Rv.indexOf("MSIE")||~Rv.indexOf("Trident/"),Uh,hw=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,fw=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Slab Press|Slab|Whiteboard)?.*/i,cy={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"}},dw={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},uy=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],Le="classic",io="duotone",hy="sharp",fy="sharp-duotone",dy="chisel",gy="etch",py="jelly",my="jelly-duo",vy="jelly-fill",yy="notdog",by="notdog-duo",Ay="slab",Sy="slab-press",Ey="thumbprint",wy="whiteboard",gw="Classic",pw="Duotone",mw="Sharp",vw="Sharp Duotone",yw="Chisel",bw="Etch",Aw="Jelly",Sw="Jelly Duo",Ew="Jelly Fill",ww="Notdog",_w="Notdog Duo",xw="Slab",Tw="Slab Press",Cw="Thumbprint",Rw="Whiteboard",_y=[Le,io,hy,fy,dy,gy,py,my,vy,yy,by,Ay,Sy,Ey,wy];Uh={},Nt(Nt(Nt(Nt(Nt(Nt(Nt(Nt(Nt(Nt(Uh,Le,gw),io,pw),hy,mw),fy,vw),dy,yw),gy,bw),py,Aw),my,Sw),vy,Ew),yy,ww),Nt(Nt(Nt(Nt(Nt(Uh,by,_w),Ay,xw),Sy,Tw),Ey,Cw),wy,Rw);var Mw={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"}},Dw={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"}},Lw=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),Nw={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},whiteboard:{semibold:"fawsb"}},xy=["fak","fa-kit","fakd","fa-kit-duotone"],Dv={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Ow=["kit"],kw="kit",Pw="kit-duotone",Iw="Kit",zw="Kit Duotone";Nt(Nt({},kw,Iw),Pw,zw);var Fw={kit:{"fa-kit":"fak"}},Bw={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},jw={kit:{fak:"fa-kit"}},Lv={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Gh,Ol={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Hw=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],Uw="classic",Gw="duotone",Vw="sharp",qw="sharp-duotone",$w="chisel",Yw="etch",Xw="jelly",Ww="jelly-duo",Kw="jelly-fill",Qw="notdog",Zw="notdog-duo",Jw="slab",t2="slab-press",e2="thumbprint",n2="whiteboard",i2="Classic",a2="Duotone",s2="Sharp",r2="Sharp Duotone",o2="Chisel",l2="Etch",c2="Jelly",u2="Jelly Duo",h2="Jelly Fill",f2="Notdog",d2="Notdog Duo",g2="Slab",p2="Slab Press",m2="Thumbprint",v2="Whiteboard";Gh={},Nt(Nt(Nt(Nt(Nt(Nt(Nt(Nt(Nt(Nt(Gh,Uw,i2),Gw,a2),Vw,s2),qw,r2),$w,o2),Yw,l2),Xw,c2),Ww,u2),Kw,h2),Qw,f2),Nt(Nt(Nt(Nt(Nt(Gh,Zw,d2),Jw,g2),t2,p2),e2,m2),n2,v2);var y2="kit",b2="kit-duotone",A2="Kit",S2="Kit Duotone";Nt(Nt({},y2,A2),b2,S2);var E2={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"}},w2={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"]},lf={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"}},_2=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],Ty=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr"].concat(Hw,_2),x2=["solid","regular","light","thin","duotone","brands","semibold"],Cy=[1,2,3,4,5,6,7,8,9,10],T2=Cy.concat([11,12,13,14,15,16,17,18,19,20]),C2=["aw","fw","pull-left","pull-right"],R2=[].concat(Cn(Object.keys(w2)),x2,C2,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Ol.GROUP,Ol.SWAP_OPACITY,Ol.PRIMARY,Ol.SECONDARY]).concat(Cy.map(function(l){return"".concat(l,"x")})).concat(T2.map(function(l){return"w-".concat(l)})),M2={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},gi="___FONT_AWESOME___",cf=16,Ry="fa",My="svg-inline--fa",wa="data-fa-i2svg",uf="data-fa-pseudo-element",D2="data-fa-pseudo-element-pending",Hf="data-prefix",Uf="data-icon",Nv="fontawesome-i2svg",L2="async",N2=["HTML","HEAD","STYLE","SCRIPT"],Dy=["::before","::after",":before",":after"],Ly=(function(){try{return!0}catch{return!1}})();function ao(l){return new Proxy(l,{get:function(e,a){return a in e?e[a]:e[Le]}})}var Ny=Z({},cy);Ny[Le]=Z(Z(Z(Z({},{"fa-duotone":"duotone"}),cy[Le]),Dv.kit),Dv["kit-duotone"]);var O2=ao(Ny),hf=Z({},Nw);hf[Le]=Z(Z(Z(Z({},{duotone:"fad"}),hf[Le]),Lv.kit),Lv["kit-duotone"]);var Ov=ao(hf),ff=Z({},lf);ff[Le]=Z(Z({},ff[Le]),jw.kit);var Gf=ao(ff),df=Z({},E2);df[Le]=Z(Z({},df[Le]),Fw.kit);ao(df);var k2=hw,Oy="fa-layers-text",P2=fw,I2=Z({},Mw);ao(I2);var z2=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Vh=dw,F2=[].concat(Cn(Ow),Cn(R2)),Gr=qi.FontAwesomeConfig||{};function B2(l){var t=Yt.querySelector("script["+l+"]");if(t)return t.getAttribute(l)}function j2(l){return l===""?!0:l==="false"?!1:l==="true"?!0:l}if(Yt&&typeof Yt.querySelector=="function"){var H2=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];H2.forEach(function(l){var t=ac(l,2),e=t[0],a=t[1],s=j2(B2(e));s!=null&&(Gr[a]=s)})}var ky={styleDefault:"solid",familyDefault:Le,cssPrefix:Ry,replacementClass:My,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Gr.familyPrefix&&(Gr.cssPrefix=Gr.familyPrefix);var Rs=Z(Z({},ky),Gr);Rs.autoReplaceSvg||(Rs.observeMutations=!1);var ut={};Object.keys(ky).forEach(function(l){Object.defineProperty(ut,l,{enumerable:!0,set:function(e){Rs[l]=e,Vr.forEach(function(a){return a(ut)})},get:function(){return Rs[l]}})});Object.defineProperty(ut,"familyPrefix",{enumerable:!0,set:function(t){Rs.cssPrefix=t,Vr.forEach(function(e){return e(ut)})},get:function(){return Rs.cssPrefix}});qi.FontAwesomeConfig=ut;var Vr=[];function U2(l){return Vr.push(l),function(){Vr.splice(Vr.indexOf(l),1)}}var ms=cf,Un={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function G2(l){if(!(!l||!bi)){var t=Yt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=l;for(var e=Yt.head.childNodes,a=null,s=e.length-1;s>-1;s--){var o=e[s],c=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(a=o)}return Yt.head.insertBefore(t,a),l}}var V2="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function kv(){for(var l=12,t="";l-- >0;)t+=V2[Math.random()*62|0];return t}function Os(l){for(var t=[],e=(l||[]).length>>>0;e--;)t[e]=l[e];return t}function Vf(l){return l.classList?Os(l.classList):(l.getAttribute("class")||"").split(" ").filter(function(t){return t})}function Py(l){return"".concat(l).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function q2(l){return Object.keys(l||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(Py(l[e]),'" ')},"").trim()}function sc(l){return Object.keys(l||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(l[e].trim(),";")},"")}function qf(l){return l.size!==Un.size||l.x!==Un.x||l.y!==Un.y||l.rotate!==Un.rotate||l.flipX||l.flipY}function $2(l){var t=l.transform,e=l.containerWidth,a=l.iconWidth,s={transform:"translate(".concat(e/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),c="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),h="rotate(".concat(t.rotate," 0 0)"),f={transform:"".concat(o," ").concat(c," ").concat(h)},d={transform:"translate(".concat(a/2*-1," -256)")};return{outer:s,inner:f,path:d}}function Y2(l){var t=l.transform,e=l.width,a=e===void 0?cf:e,s=l.height,o=s===void 0?cf:s,c="";return ly?c+="translate(".concat(t.x/ms-a/2,"em, ").concat(t.y/ms-o/2,"em) "):c+="translate(calc(-50% + ".concat(t.x/ms,"em), calc(-50% + ").concat(t.y/ms,"em)) "),c+="scale(".concat(t.size/ms*(t.flipX?-1:1),", ").concat(t.size/ms*(t.flipY?-1:1),") "),c+="rotate(".concat(t.rotate,"deg) "),c}var X2=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function Iy(){var l=Ry,t=My,e=ut.cssPrefix,a=ut.replacementClass,s=X2;if(e!==l||a!==t){var o=new RegExp("\\.".concat(l,"\\-"),"g"),c=new RegExp("\\--".concat(l,"\\-"),"g"),h=new RegExp("\\.".concat(t),"g");s=s.replace(o,".".concat(e,"-")).replace(c,"--".concat(e,"-")).replace(h,".".concat(a))}return s}var Pv=!1;function qh(){ut.autoAddCss&&!Pv&&(G2(Iy()),Pv=!0)}var W2={mixout:function(){return{dom:{css:Iy,insertCss:qh}}},hooks:function(){return{beforeDOMElementCreation:function(){qh()},beforeI2svg:function(){qh()}}}},pi=qi||{};pi[gi]||(pi[gi]={});pi[gi].styles||(pi[gi].styles={});pi[gi].hooks||(pi[gi].hooks={});pi[gi].shims||(pi[gi].shims=[]);var Tn=pi[gi],zy=[],Fy=function(){Yt.removeEventListener("DOMContentLoaded",Fy),Kl=1,zy.map(function(t){return t()})},Kl=!1;bi&&(Kl=(Yt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Yt.readyState),Kl||Yt.addEventListener("DOMContentLoaded",Fy));function K2(l){bi&&(Kl?setTimeout(l,0):zy.push(l))}function so(l){var t=l.tag,e=l.attributes,a=e===void 0?{}:e,s=l.children,o=s===void 0?[]:s;return typeof l=="string"?Py(l):"<".concat(t," ").concat(q2(a),">").concat(o.map(so).join(""),"</").concat(t,">")}function Iv(l,t,e){if(l&&l[t]&&l[t][e])return{prefix:t,iconName:e,icon:l[t][e]}}var $h=function(t,e,a,s){var o=Object.keys(t),c=o.length,h=e,f,d,p;for(a===void 0?(f=1,p=t[o[0]]):(f=0,p=a);f<c;f++)d=o[f],p=h(p,t[d],d,t);return p};function By(l){return Cn(l).length!==1?null:l.codePointAt(0).toString(16)}function zv(l){return Object.keys(l).reduce(function(t,e){var a=l[e],s=!!a.icon;return s?t[a.iconName]=a.icon:t[e]=a,t},{})}function gf(l,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=e.skipHooks,s=a===void 0?!1:a,o=zv(t);typeof Tn.hooks.addPack=="function"&&!s?Tn.hooks.addPack(l,zv(t)):Tn.styles[l]=Z(Z({},Tn.styles[l]||{}),o),l==="fas"&&gf("fa",t)}var Xr=Tn.styles,Q2=Tn.shims,jy=Object.keys(Gf),Z2=jy.reduce(function(l,t){return l[t]=Object.keys(Gf[t]),l},{}),$f=null,Hy={},Uy={},Gy={},Vy={},qy={};function J2(l){return~F2.indexOf(l)}function t_(l,t){var e=t.split("-"),a=e[0],s=e.slice(1).join("-");return a===l&&s!==""&&!J2(s)?s:null}var $y=function(){var t=function(o){return $h(Xr,function(c,h,f){return c[f]=$h(h,o,{}),c},{})};Hy=t(function(s,o,c){if(o[3]&&(s[o[3]]=c),o[2]){var h=o[2].filter(function(f){return typeof f=="number"});h.forEach(function(f){s[f.toString(16)]=c})}return s}),Uy=t(function(s,o,c){if(s[c]=c,o[2]){var h=o[2].filter(function(f){return typeof f=="string"});h.forEach(function(f){s[f]=c})}return s}),qy=t(function(s,o,c){var h=o[2];return s[c]=c,h.forEach(function(f){s[f]=c}),s});var e="far"in Xr||ut.autoFetchSvg,a=$h(Q2,function(s,o){var c=o[0],h=o[1],f=o[2];return h==="far"&&!e&&(h="fas"),typeof c=="string"&&(s.names[c]={prefix:h,iconName:f}),typeof c=="number"&&(s.unicodes[c.toString(16)]={prefix:h,iconName:f}),s},{names:{},unicodes:{}});Gy=a.names,Vy=a.unicodes,$f=rc(ut.styleDefault,{family:ut.familyDefault})};U2(function(l){$f=rc(l.styleDefault,{family:ut.familyDefault})});$y();function Yf(l,t){return(Hy[l]||{})[t]}function e_(l,t){return(Uy[l]||{})[t]}function ya(l,t){return(qy[l]||{})[t]}function Yy(l){return Gy[l]||{prefix:null,iconName:null}}function n_(l){var t=Vy[l],e=Yf("fas",l);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function $i(){return $f}var Xy=function(){return{prefix:null,iconName:null,rest:[]}};function i_(l){var t=Le,e=jy.reduce(function(a,s){return a[s]="".concat(ut.cssPrefix,"-").concat(s),a},{});return _y.forEach(function(a){(l.includes(e[a])||l.some(function(s){return Z2[a].includes(s)}))&&(t=a)}),t}function rc(l){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.family,a=e===void 0?Le:e,s=O2[a][l];if(a===io&&!l)return"fad";var o=Ov[a][l]||Ov[a][s],c=l in Tn.styles?l:null,h=o||c||null;return h}function a_(l){var t=[],e=null;return l.forEach(function(a){var s=t_(ut.cssPrefix,a);s?e=s:a&&t.push(a)}),{iconName:e,rest:t}}function Fv(l){return l.sort().filter(function(t,e,a){return a.indexOf(t)===e})}var Bv=Ty.concat(xy);function oc(l){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.skipLookups,a=e===void 0?!1:e,s=null,o=Fv(l.filter(function(b){return Bv.includes(b)})),c=Fv(l.filter(function(b){return!Bv.includes(b)})),h=o.filter(function(b){return s=b,!uy.includes(b)}),f=ac(h,1),d=f[0],p=d===void 0?null:d,v=i_(o),y=Z(Z({},a_(c)),{},{prefix:rc(p,{family:v})});return Z(Z(Z({},y),l_({values:l,family:v,styles:Xr,config:ut,canonical:y,givenPrefix:s})),s_(a,s,y))}function s_(l,t,e){var a=e.prefix,s=e.iconName;if(l||!a||!s)return{prefix:a,iconName:s};var o=t==="fa"?Yy(s):{},c=ya(a,s);return s=o.iconName||c||s,a=o.prefix||a,a==="far"&&!Xr.far&&Xr.fas&&!ut.autoFetchSvg&&(a="fas"),{prefix:a,iconName:s}}var r_=_y.filter(function(l){return l!==Le||l!==io}),o_=Object.keys(lf).filter(function(l){return l!==Le}).map(function(l){return Object.keys(lf[l])}).flat();function l_(l){var t=l.values,e=l.family,a=l.canonical,s=l.givenPrefix,o=s===void 0?"":s,c=l.styles,h=c===void 0?{}:c,f=l.config,d=f===void 0?{}:f,p=e===io,v=t.includes("fa-duotone")||t.includes("fad"),y=d.familyDefault==="duotone",b=a.prefix==="fad"||a.prefix==="fa-duotone";if(!p&&(v||y||b)&&(a.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),!a.prefix&&r_.includes(e)){var S=Object.keys(h).find(function(x){return o_.includes(x)});if(S||d.autoFetchSvg){var E=Lw.get(e).defaultShortPrefixId;a.prefix=E,a.iconName=ya(a.prefix,a.iconName)||a.iconName}}return(a.prefix==="fa"||o==="fa")&&(a.prefix=$i()||"fas"),a}var c_=(function(){function l(){nw(this,l),this.definitions={}}return aw(l,[{key:"add",value:function(){for(var e=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var c=s.reduce(this._pullDefinitions,{});Object.keys(c).forEach(function(h){e.definitions[h]=Z(Z({},e.definitions[h]||{}),c[h]),gf(h,c[h]);var f=Gf[Le][h];f&&gf(f,c[h]),$y()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,a){var s=a.prefix&&a.iconName&&a.icon?{0:a}:a;return Object.keys(s).map(function(o){var c=s[o],h=c.prefix,f=c.iconName,d=c.icon,p=d[2];e[h]||(e[h]={}),p.length>0&&p.forEach(function(v){typeof v=="string"&&(e[h][v]=d)}),e[h][f]=d}),e}}])})(),jv=[],As={},ws={},u_=Object.keys(ws);function h_(l,t){var e=t.mixoutsTo;return jv=l,As={},Object.keys(ws).forEach(function(a){u_.indexOf(a)===-1&&delete ws[a]}),jv.forEach(function(a){var s=a.mixout?a.mixout():{};if(Object.keys(s).forEach(function(c){typeof s[c]=="function"&&(e[c]=s[c]),Wl(s[c])==="object"&&Object.keys(s[c]).forEach(function(h){e[c]||(e[c]={}),e[c][h]=s[c][h]})}),a.hooks){var o=a.hooks();Object.keys(o).forEach(function(c){As[c]||(As[c]=[]),As[c].push(o[c])})}a.provides&&a.provides(ws)}),e}function pf(l,t){for(var e=arguments.length,a=new Array(e>2?e-2:0),s=2;s<e;s++)a[s-2]=arguments[s];var o=As[l]||[];return o.forEach(function(c){t=c.apply(null,[t].concat(a))}),t}function _a(l){for(var t=arguments.length,e=new Array(t>1?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];var s=As[l]||[];s.forEach(function(o){o.apply(null,e)})}function Yi(){var l=arguments[0],t=Array.prototype.slice.call(arguments,1);return ws[l]?ws[l].apply(null,t):void 0}function mf(l){l.prefix==="fa"&&(l.prefix="fas");var t=l.iconName,e=l.prefix||$i();if(t)return t=ya(e,t)||t,Iv(Wy.definitions,e,t)||Iv(Tn.styles,e,t)}var Wy=new c_,f_=function(){ut.autoReplaceSvg=!1,ut.observeMutations=!1,_a("noAuto")},d_={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return bi?(_a("beforeI2svg",t),Yi("pseudoElements2svg",t),Yi("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.autoReplaceSvgRoot;ut.autoReplaceSvg===!1&&(ut.autoReplaceSvg=!0),ut.observeMutations=!0,K2(function(){p_({autoReplaceSvgRoot:e}),_a("watch",t)})}},g_={icon:function(t){if(t===null)return null;if(Wl(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ya(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],a=rc(t[0]);return{prefix:a,iconName:ya(a,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(ut.cssPrefix,"-"))>-1||t.match(k2))){var s=oc(t.split(" "),{skipLookups:!0});return{prefix:s.prefix||$i(),iconName:ya(s.prefix,s.iconName)||s.iconName}}if(typeof t=="string"){var o=$i();return{prefix:o,iconName:ya(o,t)||t}}}},cn={noAuto:f_,config:ut,dom:d_,parse:g_,library:Wy,findIconDefinition:mf,toHtml:so},p_=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.autoReplaceSvgRoot,a=e===void 0?Yt:e;(Object.keys(Tn.styles).length>0||ut.autoFetchSvg)&&bi&&ut.autoReplaceSvg&&cn.dom.i2svg({node:a})};function lc(l,t){return Object.defineProperty(l,"abstract",{get:t}),Object.defineProperty(l,"html",{get:function(){return l.abstract.map(function(a){return so(a)})}}),Object.defineProperty(l,"node",{get:function(){if(bi){var a=Yt.createElement("div");return a.innerHTML=l.html,a.children}}}),l}function m_(l){var t=l.children,e=l.main,a=l.mask,s=l.attributes,o=l.styles,c=l.transform;if(qf(c)&&e.found&&!a.found){var h=e.width,f=e.height,d={x:h/f/2,y:.5};s.style=sc(Z(Z({},o),{},{"transform-origin":"".concat(d.x+c.x/16,"em ").concat(d.y+c.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function v_(l){var t=l.prefix,e=l.iconName,a=l.children,s=l.attributes,o=l.symbol,c=o===!0?"".concat(t,"-").concat(ut.cssPrefix,"-").concat(e):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Z(Z({},s),{},{id:c}),children:a}]}]}function y_(l){var t=["aria-label","aria-labelledby","title","role"];return t.some(function(e){return e in l})}function Xf(l){var t=l.icons,e=t.main,a=t.mask,s=l.prefix,o=l.iconName,c=l.transform,h=l.symbol,f=l.maskId,d=l.extra,p=l.watchable,v=p===void 0?!1:p,y=a.found?a:e,b=y.width,S=y.height,E=[ut.replacementClass,o?"".concat(ut.cssPrefix,"-").concat(o):""].filter(function(C){return d.classes.indexOf(C)===-1}).filter(function(C){return C!==""||!!C}).concat(d.classes).join(" "),x={children:[],attributes:Z(Z({},d.attributes),{},{"data-prefix":s,"data-icon":o,class:E,role:d.attributes.role||"img",viewBox:"0 0 ".concat(b," ").concat(S)})};!y_(d.attributes)&&!d.attributes["aria-hidden"]&&(x.attributes["aria-hidden"]="true"),v&&(x.attributes[wa]="");var w=Z(Z({},x),{},{prefix:s,iconName:o,main:e,mask:a,maskId:f,transform:c,symbol:h,styles:Z({},d.styles)}),T=a.found&&e.found?Yi("generateAbstractMask",w)||{children:[],attributes:{}}:Yi("generateAbstractIcon",w)||{children:[],attributes:{}},R=T.children,L=T.attributes;return w.children=R,w.attributes=L,h?v_(w):m_(w)}function Hv(l){var t=l.content,e=l.width,a=l.height,s=l.transform,o=l.extra,c=l.watchable,h=c===void 0?!1:c,f=Z(Z({},o.attributes),{},{class:o.classes.join(" ")});h&&(f[wa]="");var d=Z({},o.styles);qf(s)&&(d.transform=Y2({transform:s,width:e,height:a}),d["-webkit-transform"]=d.transform);var p=sc(d);p.length>0&&(f.style=p);var v=[];return v.push({tag:"span",attributes:f,children:[t]}),v}function b_(l){var t=l.content,e=l.extra,a=Z(Z({},e.attributes),{},{class:e.classes.join(" ")}),s=sc(e.styles);s.length>0&&(a.style=s);var o=[];return o.push({tag:"span",attributes:a,children:[t]}),o}var Yh=Tn.styles;function vf(l){var t=l[0],e=l[1],a=l.slice(4),s=ac(a,1),o=s[0],c=null;return Array.isArray(o)?c={tag:"g",attributes:{class:"".concat(ut.cssPrefix,"-").concat(Vh.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ut.cssPrefix,"-").concat(Vh.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(ut.cssPrefix,"-").concat(Vh.PRIMARY),fill:"currentColor",d:o[1]}}]}:c={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:t,height:e,icon:c}}var A_={found:!1,width:512,height:512};function S_(l,t){!Ly&&!ut.showMissingIcons&&l&&console.error('Icon with name "'.concat(l,'" and prefix "').concat(t,'" is missing.'))}function yf(l,t){var e=t;return t==="fa"&&ut.styleDefault!==null&&(t=$i()),new Promise(function(a,s){if(e==="fa"){var o=Yy(l)||{};l=o.iconName||l,t=o.prefix||t}if(l&&t&&Yh[t]&&Yh[t][l]){var c=Yh[t][l];return a(vf(c))}S_(l,t),a(Z(Z({},A_),{},{icon:ut.showMissingIcons&&l?Yi("missingIconAbstract")||{}:{}}))})}var Uv=function(){},bf=ut.measurePerformance&&Nl&&Nl.mark&&Nl.measure?Nl:{mark:Uv,measure:Uv},Br='FA "7.0.1"',E_=function(t){return bf.mark("".concat(Br," ").concat(t," begins")),function(){return Ky(t)}},Ky=function(t){bf.mark("".concat(Br," ").concat(t," ends")),bf.measure("".concat(Br," ").concat(t),"".concat(Br," ").concat(t," begins"),"".concat(Br," ").concat(t," ends"))},Wf={begin:E_,end:Ky},Vl=function(){};function Gv(l){var t=l.getAttribute?l.getAttribute(wa):null;return typeof t=="string"}function w_(l){var t=l.getAttribute?l.getAttribute(Hf):null,e=l.getAttribute?l.getAttribute(Uf):null;return t&&e}function __(l){return l&&l.classList&&l.classList.contains&&l.classList.contains(ut.replacementClass)}function x_(){if(ut.autoReplaceSvg===!0)return ql.replace;var l=ql[ut.autoReplaceSvg];return l||ql.replace}function T_(l){return Yt.createElementNS("http://www.w3.org/2000/svg",l)}function C_(l){return Yt.createElement(l)}function Qy(l){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.ceFn,a=e===void 0?l.tag==="svg"?T_:C_:e;if(typeof l=="string")return Yt.createTextNode(l);var s=a(l.tag);Object.keys(l.attributes||[]).forEach(function(c){s.setAttribute(c,l.attributes[c])});var o=l.children||[];return o.forEach(function(c){s.appendChild(Qy(c,{ceFn:a}))}),s}function R_(l){var t=" ".concat(l.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var ql={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(s){e.parentNode.insertBefore(Qy(s),e)}),e.getAttribute(wa)===null&&ut.keepOriginalSource){var a=Yt.createComment(R_(e));e.parentNode.replaceChild(a,e)}else e.remove()},nest:function(t){var e=t[0],a=t[1];if(~Vf(e).indexOf(ut.replacementClass))return ql.replace(t);var s=new RegExp("".concat(ut.cssPrefix,"-.*"));if(delete a[0].attributes.id,a[0].attributes.class){var o=a[0].attributes.class.split(" ").reduce(function(h,f){return f===ut.replacementClass||f.match(s)?h.toSvg.push(f):h.toNode.push(f),h},{toNode:[],toSvg:[]});a[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}var c=a.map(function(h){return so(h)}).join(`
`);e.setAttribute(wa,""),e.innerHTML=c}};function Vv(l){l()}function Zy(l,t){var e=typeof t=="function"?t:Vl;if(l.length===0)e();else{var a=Vv;ut.mutateApproach===L2&&(a=qi.requestAnimationFrame||Vv),a(function(){var s=x_(),o=Wf.begin("mutate");l.map(s),o(),e()})}}var Kf=!1;function Jy(){Kf=!0}function Af(){Kf=!1}var Ql=null;function qv(l){if(Mv&&ut.observeMutations){var t=l.treeCallback,e=t===void 0?Vl:t,a=l.nodeCallback,s=a===void 0?Vl:a,o=l.pseudoElementsCallback,c=o===void 0?Vl:o,h=l.observeMutationsRoot,f=h===void 0?Yt:h;Ql=new Mv(function(d){if(!Kf){var p=$i();Os(d).forEach(function(v){if(v.type==="childList"&&v.addedNodes.length>0&&!Gv(v.addedNodes[0])&&(ut.searchPseudoElements&&c(v.target),e(v.target)),v.type==="attributes"&&v.target.parentNode&&ut.searchPseudoElements&&c([v.target],!0),v.type==="attributes"&&Gv(v.target)&&~z2.indexOf(v.attributeName))if(v.attributeName==="class"&&w_(v.target)){var y=oc(Vf(v.target)),b=y.prefix,S=y.iconName;v.target.setAttribute(Hf,b||p),S&&v.target.setAttribute(Uf,S)}else __(v.target)&&s(v.target)})}}),bi&&Ql.observe(f,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function M_(){Ql&&Ql.disconnect()}function D_(l){var t=l.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(a,s){var o=s.split(":"),c=o[0],h=o.slice(1);return c&&h.length>0&&(a[c]=h.join(":").trim()),a},{})),e}function L_(l){var t=l.getAttribute("data-prefix"),e=l.getAttribute("data-icon"),a=l.innerText!==void 0?l.innerText.trim():"",s=oc(Vf(l));return s.prefix||(s.prefix=$i()),t&&e&&(s.prefix=t,s.iconName=e),s.iconName&&s.prefix||(s.prefix&&a.length>0&&(s.iconName=e_(s.prefix,l.innerText)||Yf(s.prefix,By(l.innerText))),!s.iconName&&ut.autoFetchSvg&&l.firstChild&&l.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=l.firstChild.data)),s}function N_(l){var t=Os(l.attributes).reduce(function(e,a){return e.name!=="class"&&e.name!=="style"&&(e[a.name]=a.value),e},{});return t}function O_(){return{iconName:null,prefix:null,transform:Un,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function $v(l){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},e=L_(l),a=e.iconName,s=e.prefix,o=e.rest,c=N_(l),h=pf("parseNodeAttributes",{},l),f=t.styleParser?D_(l):[];return Z({iconName:a,prefix:s,transform:Un,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:f,attributes:c}},h)}var k_=Tn.styles;function tb(l){var t=ut.autoReplaceSvg==="nest"?$v(l,{styleParser:!1}):$v(l);return~t.extra.classes.indexOf(Oy)?Yi("generateLayersText",l,t):Yi("generateSvgReplacementMutation",l,t)}function P_(){return[].concat(Cn(xy),Cn(Ty))}function Yv(l){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!bi)return Promise.resolve();var e=Yt.documentElement.classList,a=function(v){return e.add("".concat(Nv,"-").concat(v))},s=function(v){return e.remove("".concat(Nv,"-").concat(v))},o=ut.autoFetchSvg?P_():uy.concat(Object.keys(k_));o.includes("fa")||o.push("fa");var c=[".".concat(Oy,":not([").concat(wa,"])")].concat(o.map(function(p){return".".concat(p,":not([").concat(wa,"])")})).join(", ");if(c.length===0)return Promise.resolve();var h=[];try{h=Os(l.querySelectorAll(c))}catch{}if(h.length>0)a("pending"),s("complete");else return Promise.resolve();var f=Wf.begin("onTree"),d=h.reduce(function(p,v){try{var y=tb(v);y&&p.push(y)}catch(b){Ly||b.name==="MissingIcon"&&console.error(b)}return p},[]);return new Promise(function(p,v){Promise.all(d).then(function(y){Zy(y,function(){a("active"),a("complete"),s("pending"),typeof t=="function"&&t(),f(),p()})}).catch(function(y){f(),v(y)})})}function I_(l){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;tb(l).then(function(e){e&&Zy([e],t)})}function z_(l){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(t||{}).icon?t:mf(t||{}),s=e.mask;return s&&(s=(s||{}).icon?s:mf(s||{})),l(a,Z(Z({},e),{},{mask:s}))}}var F_=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.transform,s=a===void 0?Un:a,o=e.symbol,c=o===void 0?!1:o,h=e.mask,f=h===void 0?null:h,d=e.maskId,p=d===void 0?null:d,v=e.classes,y=v===void 0?[]:v,b=e.attributes,S=b===void 0?{}:b,E=e.styles,x=E===void 0?{}:E;if(t){var w=t.prefix,T=t.iconName,R=t.icon;return lc(Z({type:"icon"},t),function(){return _a("beforeDOMElementCreation",{iconDefinition:t,params:e}),Xf({icons:{main:vf(R),mask:f?vf(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:T,transform:Z(Z({},Un),s),symbol:c,maskId:p,extra:{attributes:S,styles:x,classes:y}})})}},B_={mixout:function(){return{icon:z_(F_)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Yv,e.nodeCallback=I_,e}}},provides:function(t){t.i2svg=function(e){var a=e.node,s=a===void 0?Yt:a,o=e.callback,c=o===void 0?function(){}:o;return Yv(s,c)},t.generateSvgReplacementMutation=function(e,a){var s=a.iconName,o=a.prefix,c=a.transform,h=a.symbol,f=a.mask,d=a.maskId,p=a.extra;return new Promise(function(v,y){Promise.all([yf(s,o),f.iconName?yf(f.iconName,f.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(b){var S=ac(b,2),E=S[0],x=S[1];v([e,Xf({icons:{main:E,mask:x},prefix:o,iconName:s,transform:c,symbol:h,maskId:d,extra:p,watchable:!0})])}).catch(y)})},t.generateAbstractIcon=function(e){var a=e.children,s=e.attributes,o=e.main,c=e.transform,h=e.styles,f=sc(h);f.length>0&&(s.style=f);var d;return qf(c)&&(d=Yi("generateAbstractTransformGrouping",{main:o,transform:c,containerWidth:o.width,iconWidth:o.width})),a.push(d||o.icon),{children:a,attributes:s}}}},j_={mixout:function(){return{layer:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.classes,o=s===void 0?[]:s;return lc({type:"layer"},function(){_a("beforeDOMElementCreation",{assembler:e,params:a});var c=[];return e(function(h){Array.isArray(h)?h.map(function(f){c=c.concat(f.abstract)}):c=c.concat(h.abstract)}),[{tag:"span",attributes:{class:["".concat(ut.cssPrefix,"-layers")].concat(Cn(o)).join(" ")},children:c}]})}}}},H_={mixout:function(){return{counter:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a.title;var s=a.classes,o=s===void 0?[]:s,c=a.attributes,h=c===void 0?{}:c,f=a.styles,d=f===void 0?{}:f;return lc({type:"counter",content:e},function(){return _a("beforeDOMElementCreation",{content:e,params:a}),b_({content:e.toString(),extra:{attributes:h,styles:d,classes:["".concat(ut.cssPrefix,"-layers-counter")].concat(Cn(o))}})})}}}},U_={mixout:function(){return{text:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.transform,o=s===void 0?Un:s,c=a.classes,h=c===void 0?[]:c,f=a.attributes,d=f===void 0?{}:f,p=a.styles,v=p===void 0?{}:p;return lc({type:"text",content:e},function(){return _a("beforeDOMElementCreation",{content:e,params:a}),Hv({content:e,transform:Z(Z({},Un),o),extra:{attributes:d,styles:v,classes:["".concat(ut.cssPrefix,"-layers-text")].concat(Cn(h))}})})}}},provides:function(t){t.generateLayersText=function(e,a){var s=a.transform,o=a.extra,c=null,h=null;if(ly){var f=parseInt(getComputedStyle(e).fontSize,10),d=e.getBoundingClientRect();c=d.width/f,h=d.height/f}return Promise.resolve([e,Hv({content:e.innerHTML,width:c,height:h,transform:s,extra:o,watchable:!0})])}}},eb=new RegExp('"',"ug"),Xv=[1105920,1112319],Wv=Z(Z(Z(Z({},{FontAwesome:{normal:"fas",400:"fas"}}),Dw),M2),Bw),Sf=Object.keys(Wv).reduce(function(l,t){return l[t.toLowerCase()]=Wv[t],l},{}),G_=Object.keys(Sf).reduce(function(l,t){var e=Sf[t];return l[t]=e[900]||Cn(Object.entries(e))[0][1],l},{});function V_(l){var t=l.replace(eb,"");return By(Cn(t)[0]||"")}function q_(l){var t=l.getPropertyValue("font-feature-settings").includes("ss01"),e=l.getPropertyValue("content"),a=e.replace(eb,""),s=a.codePointAt(0),o=s>=Xv[0]&&s<=Xv[1],c=a.length===2?a[0]===a[1]:!1;return o||c||t}function $_(l,t){var e=l.replace(/^['"]|['"]$/g,"").toLowerCase(),a=parseInt(t),s=isNaN(a)?"normal":a;return(Sf[e]||{})[s]||G_[e]}function Kv(l,t){var e="".concat(D2).concat(t.replace(":","-"));return new Promise(function(a,s){if(l.getAttribute(e)!==null)return a();var o=Os(l.children),c=o.filter(function(B){return B.getAttribute(uf)===t})[0],h=qi.getComputedStyle(l,t),f=h.getPropertyValue("font-family"),d=f.match(P2),p=h.getPropertyValue("font-weight"),v=h.getPropertyValue("content");if(c&&!d)return l.removeChild(c),a();if(d&&v!=="none"&&v!==""){var y=h.getPropertyValue("content"),b=$_(f,p),S=V_(y),E=d[0].startsWith("FontAwesome"),x=q_(h),w=Yf(b,S),T=w;if(E){var R=n_(S);R.iconName&&R.prefix&&(w=R.iconName,b=R.prefix)}if(w&&!x&&(!c||c.getAttribute(Hf)!==b||c.getAttribute(Uf)!==T)){l.setAttribute(e,T),c&&l.removeChild(c);var L=O_(),C=L.extra;C.attributes[uf]=t,yf(w,b).then(function(B){var j=Xf(Z(Z({},L),{},{icons:{main:B,mask:Xy()},prefix:b,iconName:T,extra:C,watchable:!0})),q=Yt.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?l.insertBefore(q,l.firstChild):l.appendChild(q),q.outerHTML=j.map(function(X){return so(X)}).join(`
`),l.removeAttribute(e),a()}).catch(s)}else a()}else a()})}function Y_(l){return Promise.all([Kv(l,"::before"),Kv(l,"::after")])}function X_(l){return l.parentNode!==document.head&&!~N2.indexOf(l.tagName.toUpperCase())&&!l.getAttribute(uf)&&(!l.parentNode||l.parentNode.tagName!=="svg")}var W_=function(t){return!!t&&Dy.some(function(e){return t.includes(e)})},K_=function(t){if(!t)return[];var e=new Set,a=t.split(/,(?![^()]*\))/).map(function(f){return f.trim()});a=a.flatMap(function(f){return f.includes("(")?f:f.split(",").map(function(d){return d.trim()})});var s=Gl(a),o;try{for(s.s();!(o=s.n()).done;){var c=o.value;if(W_(c)){var h=Dy.reduce(function(f,d){return f.replace(d,"")},c);h!==""&&h!=="*"&&e.add(h)}}}catch(f){s.e(f)}finally{s.f()}return e};function Qv(l){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(bi){var e;if(t)e=l;else if(ut.searchPseudoElementsFullScan)e=l.querySelectorAll("*");else{var a=new Set,s=Gl(document.styleSheets),o;try{for(s.s();!(o=s.n()).done;){var c=o.value;try{var h=Gl(c.cssRules),f;try{for(h.s();!(f=h.n()).done;){var d=f.value,p=K_(d.selectorText),v=Gl(p),y;try{for(v.s();!(y=v.n()).done;){var b=y.value;a.add(b)}}catch(E){v.e(E)}finally{v.f()}}}catch(E){h.e(E)}finally{h.f()}}catch(E){ut.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(c.href," (").concat(E.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(E){s.e(E)}finally{s.f()}if(!a.size)return;var S=Array.from(a).join(", ");try{e=l.querySelectorAll(S)}catch{}}return new Promise(function(E,x){var w=Os(e).filter(X_).map(Y_),T=Wf.begin("searchPseudoElements");Jy(),Promise.all(w).then(function(){T(),Af(),E()}).catch(function(){T(),Af(),x()})})}}var Q_={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Qv,e}}},provides:function(t){t.pseudoElements2svg=function(e){var a=e.node,s=a===void 0?Yt:a;ut.searchPseudoElements&&Qv(s)}}},Zv=!1,Z_={mixout:function(){return{dom:{unwatch:function(){Jy(),Zv=!0}}}},hooks:function(){return{bootstrap:function(){qv(pf("mutationObserverCallbacks",{}))},noAuto:function(){M_()},watch:function(e){var a=e.observeMutationsRoot;Zv?Af():qv(pf("mutationObserverCallbacks",{observeMutationsRoot:a}))}}}},Jv=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(a,s){var o=s.toLowerCase().split("-"),c=o[0],h=o.slice(1).join("-");if(c&&h==="h")return a.flipX=!0,a;if(c&&h==="v")return a.flipY=!0,a;if(h=parseFloat(h),isNaN(h))return a;switch(c){case"grow":a.size=a.size+h;break;case"shrink":a.size=a.size-h;break;case"left":a.x=a.x-h;break;case"right":a.x=a.x+h;break;case"up":a.y=a.y-h;break;case"down":a.y=a.y+h;break;case"rotate":a.rotate=a.rotate+h;break}return a},e)},J_={mixout:function(){return{parse:{transform:function(e){return Jv(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,a){var s=a.getAttribute("data-fa-transform");return s&&(e.transform=Jv(s)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var a=e.main,s=e.transform,o=e.containerWidth,c=e.iconWidth,h={transform:"translate(".concat(o/2," 256)")},f="translate(".concat(s.x*32,", ").concat(s.y*32,") "),d="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),p="rotate(".concat(s.rotate," 0 0)"),v={transform:"".concat(f," ").concat(d," ").concat(p)},y={transform:"translate(".concat(c/2*-1," -256)")},b={outer:h,inner:v,path:y};return{tag:"g",attributes:Z({},b.outer),children:[{tag:"g",attributes:Z({},b.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:Z(Z({},a.icon.attributes),b.path)}]}]}}}},Xh={x:0,y:0,width:"100%",height:"100%"};function t0(l){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return l.attributes&&(l.attributes.fill||t)&&(l.attributes.fill="black"),l}function tx(l){return l.tag==="g"?l.children:[l]}var ex={hooks:function(){return{parseNodeAttributes:function(e,a){var s=a.getAttribute("data-fa-mask"),o=s?oc(s.split(" ").map(function(c){return c.trim()})):Xy();return o.prefix||(o.prefix=$i()),e.mask=o,e.maskId=a.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var a=e.children,s=e.attributes,o=e.main,c=e.mask,h=e.maskId,f=e.transform,d=o.width,p=o.icon,v=c.width,y=c.icon,b=$2({transform:f,containerWidth:v,iconWidth:d}),S={tag:"rect",attributes:Z(Z({},Xh),{},{fill:"white"})},E=p.children?{children:p.children.map(t0)}:{},x={tag:"g",attributes:Z({},b.inner),children:[t0(Z({tag:p.tag,attributes:Z(Z({},p.attributes),b.path)},E))]},w={tag:"g",attributes:Z({},b.outer),children:[x]},T="mask-".concat(h||kv()),R="clip-".concat(h||kv()),L={tag:"mask",attributes:Z(Z({},Xh),{},{id:T,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S,w]},C={tag:"defs",children:[{tag:"clipPath",attributes:{id:R},children:tx(y)},L]};return a.push(C,{tag:"rect",attributes:Z({fill:"currentColor","clip-path":"url(#".concat(R,")"),mask:"url(#".concat(T,")")},Xh)}),{children:a,attributes:s}}}},nx={provides:function(t){var e=!1;qi.matchMedia&&(e=qi.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var a=[],s={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};a.push({tag:"path",attributes:Z(Z({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var c=Z(Z({},o),{},{attributeName:"opacity"}),h={tag:"circle",attributes:Z(Z({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||h.children.push({tag:"animate",attributes:Z(Z({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Z(Z({},c),{},{values:"1;0;1;1;0;1;"})}),a.push(h),a.push({tag:"path",attributes:Z(Z({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Z(Z({},c),{},{values:"1;0;0;0;0;1;"})}]}),e||a.push({tag:"path",attributes:Z(Z({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Z(Z({},c),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:a}}}},ix={hooks:function(){return{parseNodeAttributes:function(e,a){var s=a.getAttribute("data-fa-symbol"),o=s===null?!1:s===""?!0:s;return e.symbol=o,e}}}},ax=[W2,B_,j_,H_,U_,Q_,Z_,J_,ex,nx,ix];h_(ax,{mixoutsTo:cn});cn.noAuto;var sx=cn.config;cn.library;cn.dom;var nb=cn.parse;cn.findIconDefinition;cn.toHtml;var rx=cn.icon;cn.layer;cn.text;cn.counter;function ox(l){return l=l-0,l===l}function ib(l){return ox(l)?l:(l=l.replaceAll(/[_-]+(.)?/g,(t,e)=>e?e.toUpperCase():""),l.charAt(0).toLowerCase()+l.slice(1))}function lx(l){return l.charAt(0).toUpperCase()+l.slice(1)}var vs=new Map,cx=1e3;function ux(l){if(vs.has(l))return vs.get(l);const t={};let e=0;const a=l.length;for(;e<a;){const s=l.indexOf(";",e),o=s===-1?a:s,c=l.slice(e,o).trim();if(c){const h=c.indexOf(":");if(h>0){const f=c.slice(0,h).trim(),d=c.slice(h+1).trim();if(f&&d){const p=ib(f);t[p.startsWith("webkit")?lx(p):p]=d}}}e=o+1}if(vs.size===cx){const s=vs.keys().next().value;s&&vs.delete(s)}return vs.set(l,t),t}function ab(l,t,e={}){if(typeof t=="string")return t;const a=(t.children||[]).map(d=>ab(l,d)),s=t.attributes||{},o={};for(const[d,p]of Object.entries(s))switch(!0){case d==="class":{o.className=p,delete s.class;break}case d==="style":{o.style=ux(String(p));break}case d.startsWith("aria-"):case d.startsWith("data-"):{o[d.toLowerCase()]=p;break}default:o[ib(d)]=p}const{style:c,"aria-label":h,...f}=e;return c&&(o.style=o.style?{...o.style,...c}:c),h&&(o["aria-label"]=h,o["aria-hidden"]="false"),l(t.tag,{...f,...o},...a)}var e0=(l,t)=>{const e=N.useId();return l||(t?e:void 0)},hx=class{constructor(l="react-fontawesome"){this.enabled=!1;let t=!1;try{t=typeof process<"u"&&!1}catch{}this.scope=l,this.enabled=t}log(...l){this.enabled&&console.log(`[${this.scope}]`,...l)}warn(...l){this.enabled&&console.warn(`[${this.scope}]`,...l)}error(...l){this.enabled&&console.error(`[${this.scope}]`,...l)}},fx="searchPseudoElementsFullScan"in sx?"7.0.0":"6.0.0",dx=Number.parseInt(fx)>=7,oi={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},gx={left:"fa-pull-left",right:"fa-pull-right"},px={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},mx={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},li={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function vx(l){const{beat:t,fade:e,beatFade:a,bounce:s,shake:o,spin:c,spinPulse:h,spinReverse:f,pulse:d,fixedWidth:p,inverse:v,border:y,flip:b,size:S,rotation:E,pull:x,swapOpacity:w,rotateBy:T,widthAuto:R,className:L}=l,C=[];return L&&C.push(...L.split(" ")),t&&C.push(oi.beat),e&&C.push(oi.fade),a&&C.push(oi.beatFade),s&&C.push(oi.bounce),o&&C.push(oi.shake),c&&C.push(oi.spin),f&&C.push(oi.spinReverse),h&&C.push(oi.spinPulse),d&&C.push(oi.pulse),p&&C.push(li.fixedWidth),v&&C.push(li.inverse),y&&C.push(li.border),b===!0&&C.push(li.flip),(b==="horizontal"||b==="both")&&C.push(li.flipHorizontal),(b==="vertical"||b==="both")&&C.push(li.flipVertical),S!=null&&C.push(mx[S]),E!=null&&E!==0&&C.push(px[E]),x!=null&&C.push(gx[x]),w&&C.push(li.swapOpacity),dx&&(T&&C.push(li.rotateBy),R&&C.push(li.widthAuto)),C}var yx=l=>typeof l=="object"&&"icon"in l&&!!l.icon;function n0(l){if(l)return yx(l)?l:nb.icon(l)}function bx(l){return Object.keys(l)}var i0=new hx("FontAwesomeIcon"),sb={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},Ax=new Set(Object.keys(sb)),hi=P0.forwardRef((l,t)=>{const e={...sb,...l},{icon:a,mask:s,symbol:o,title:c,titleId:h,maskId:f,transform:d}=e,p=e0(f,!!s),v=e0(h,!!c),y=n0(a);if(!y)return i0.error("Icon lookup is undefined",a),null;const b=vx(e),S=typeof d=="string"?nb.transform(d):d,E=n0(s),x=rx(y,{...b.length>0&&{classes:b},...S&&{transform:S},...E&&{mask:E},symbol:o,title:c,titleId:v,maskId:p});if(!x)return i0.error("Could not find icon",y),null;const{abstract:w}=x,T={ref:t};for(const R of bx(e))Ax.has(R)||(T[R]=e[R]);return Sx(w[0],T)});hi.displayName="FontAwesomeIcon";var Sx=ab.bind(null,P0.createElement);/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Ex={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]},wx={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M415.9 210.5c12.2-3.3 25 2.5 30.5 13.8L465 261.9c10.3 1.4 20.4 4.2 29.9 8.1l35-23.3c10.5-7 24.4-5.6 33.3 3.3l19.2 19.2c8.9 8.9 10.3 22.9 3.3 33.3l-23.3 34.9c1.9 4.7 3.6 9.6 5 14.7 1.4 5.1 2.3 10.1 3 15.2l37.7 18.6c11.3 5.6 17.1 18.4 13.8 30.5l-7 26.2c-3.3 12.1-14.6 20.3-27.2 19.5l-42-2.7c-6.3 8.1-13.6 15.6-21.9 22l2.7 41.9c.8 12.6-7.4 24-19.5 27.2l-26.2 7c-12.2 3.3-24.9-2.5-30.5-13.8l-18.6-37.6c-10.3-1.4-20.4-4.2-29.9-8.1l-35 23.3c-10.5 7-24.4 5.6-33.3-3.3l-19.2-19.2c-8.9-8.9-10.3-22.8-3.3-33.3l23.3-35c-1.9-4.7-3.6-9.6-5-14.7s-2.3-10.2-3-15.2l-37.7-18.6c-11.3-5.6-17-18.4-13.8-30.5l7-26.2c3.3-12.1 14.6-20.3 27.2-19.5l41.9 2.7c6.3-8.1 13.6-15.6 21.9-22l-2.7-41.8c-.8-12.6 7.4-24 19.5-27.2l26.2-7zM448.4 340a44 44 0 1 0 .1 88 44 44 0 1 0 -.1-88zM224.9-45.5l26.2 7c12.1 3.3 20.3 14.7 19.5 27.2l-2.7 41.8c8.3 6.4 15.6 13.8 21.9 22l42-2.7c12.5-.8 23.9 7.4 27.2 19.5l7 26.2c3.2 12.1-2.5 24.9-13.8 30.5l-37.7 18.6c-.7 5.1-1.7 10.2-3 15.2s-3.1 10-5 14.7l23.3 35c7 10.5 5.6 24.4-3.3 33.3L307.3 262c-8.9 8.9-22.8 10.3-33.3 3.3L239 242c-9.5 3.9-19.6 6.7-29.9 8.1l-18.6 37.6c-5.6 11.3-18.4 17-30.5 13.8l-26.2-7c-12.2-3.3-20.3-14.7-19.5-27.2l2.7-41.9c-8.3-6.4-15.6-13.8-21.9-22l-42 2.7c-12.5 .8-23.9-7.4-27.2-19.5l-7-26.2c-3.2-12.1 2.5-24.9 13.8-30.5l37.7-18.6c.7-5.1 1.7-10.1 3-15.2 1.4-5.1 3-10 5-14.7L55.1 46.5c-7-10.5-5.6-24.4 3.3-33.3L77.6-6c8.9-8.9 22.8-10.3 33.3-3.3l35 23.3c9.5-3.9 19.6-6.7 29.9-8.1l18.6-37.6c5.6-11.3 18.3-17 30.5-13.8zM192.4 84a44 44 0 1 0 0 88 44 44 0 1 0 0-88z"]},_x=wx,xx={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M311.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L243.2 256 73.9 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},Tx={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M311.4 32l8.6 0c35.3 0 64 28.7 64 64l0 352c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l8.6 0C83.6 12.9 104.3 0 128 0L256 0c23.7 0 44.4 12.9 55.4 32zM248 112c13.3 0 24-10.7 24-24s-10.7-24-24-24L136 64c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0zM128 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm32 0c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zm0 128c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zM96 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},Cx={prefix:"fas",iconName:"building",icon:[384,512,[127970,61687],"f1ad","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zM176 352l32 0c17.7 0 32 14.3 32 32l0 80-96 0 0-80c0-17.7 14.3-32 32-32zM96 112c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM240 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM96 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm144-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z"]},Rx={prefix:"fas",iconName:"laptop-code",icon:[640,512,[],"f5fc","M64 96c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 240-64 0 0-240-384 0 0 240-64 0 0-240zM0 403.2C0 392.6 8.6 384 19.2 384l601.6 0c10.6 0 19.2 8.6 19.2 19.2 0 42.4-34.4 76.8-76.8 76.8L76.8 480C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},Mx={prefix:"fas",iconName:"handshake",icon:[576,512,[129309,62662,"handshake-alt","handshake-simple"],"f2b5","M268.9 85.2L152.3 214.8c-4.6 5.1-4.4 13 .5 17.9 30.5 30.5 80 30.5 110.5 0l31.8-31.8c4.2-4.2 9.5-6.5 14.9-6.9 6.8-.6 13.8 1.7 19 6.9L505.6 376 576 320 576 32 464 96 440.2 80.1C424.4 69.6 405.9 64 386.9 64l-70.4 0c-1.1 0-2.3 0-3.4 .1-16.9 .9-32.8 8.5-44.2 21.1zM116.6 182.7L223.4 64 183.8 64c-25.5 0-49.9 10.1-67.9 28.1L112 96 0 32 0 320 156.4 450.3c23 19.2 52 29.7 81.9 29.7l15.7 0-7-7c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l41 41 9 0c19.1 0 37.8-4.3 54.8-12.3L359 441c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l32 32 17.5-17.5c8.9-8.9 11.5-21.8 7.6-33.1l-137.9-136.8-14.9 14.9c-49.3 49.3-129.1 49.3-178.4 0-23-23-23.9-59.9-2.2-84z"]},Dx={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},Lx=Dx,Nx={prefix:"fas",iconName:"bullhorn",icon:[512,512,[128226,128363],"f0a1","M461.2 18.9C472.7 24 480 35.4 480 48l0 416c0 12.6-7.3 24-18.8 29.1s-24.8 3.2-34.3-5.1l-46.6-40.7c-43.6-38.1-98.7-60.3-156.4-63l0 95.7c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-96C57.3 384 0 326.7 0 256S57.3 128 128 128l84.5 0c61.8-.2 121.4-22.7 167.9-63.3l46.6-40.7c9.4-8.3 22.9-10.2 34.3-5.1zM224 320l0 .2c70.3 2.7 137.8 28.5 192 73.4l0-275.3c-54.2 44.9-121.7 70.7-192 73.4L224 320z"]},Ox={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},kx={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},Px=kx,Ix={prefix:"fas",iconName:"download",icon:[448,512,[],"f019","M256 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 210.7-41.4-41.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 242.7 256 32zM64 320c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-46.9 0-56.6 56.6c-31.2 31.2-81.9 31.2-113.1 0L110.9 320 64 320zm304 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},zx={prefix:"fas",iconName:"file-pdf",icon:[576,512,[],"f1c1","M96 0C60.7 0 32 28.7 32 64l0 384c0 35.3 28.7 64 64 64l80 0 0-112c0-35.3 28.7-64 64-64l176 0 0-165.5c0-17-6.7-33.3-18.7-45.3L290.7 18.7C278.7 6.7 262.5 0 245.5 0L96 0zM357.5 176L264 176c-13.3 0-24-10.7-24-24L240 58.5 357.5 176zM240 380c-11 0-20 9-20 20l0 128c0 11 9 20 20 20s20-9 20-20l0-28 12 0c33.1 0 60-26.9 60-60s-26.9-60-60-60l-32 0zm32 80l-12 0 0-40 12 0c11 0 20 9 20 20s-9 20-20 20zm96-80c-11 0-20 9-20 20l0 128c0 11 9 20 20 20l32 0c28.7 0 52-23.3 52-52l0-64c0-28.7-23.3-52-52-52l-32 0zm20 128l0-88 12 0c6.6 0 12 5.4 12 12l0 64c0 6.6-5.4 12-12 12l-12 0zm88-108l0 128c0 11 9 20 20 20s20-9 20-20l0-44 28 0c11 0 20-9 20-20s-9-20-20-20l-28 0 0-24 28 0c11 0 20-9 20-20s-9-20-20-20l-48 0c-11 0-20 9-20 20z"]},Fx={prefix:"fas",iconName:"arrow-left",icon:[512,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]};const Bx=()=>I.jsx(hi,{icon:Fx,size:"sm"}),jx=()=>{const l=Wi(),t=q0(),{logout:e}=ic(),a=()=>{t(-1)};return I.jsxs("header",{className:"header",children:[I.jsxs("div",{className:"header-top",children:[I.jsx("div",{className:"header-left",children:I.jsx("div",{className:"logo-container albibot-logo",children:I.jsx("img",{src:ey,alt:"Logo Albibot",className:"logo-image"})})}),I.jsx("div",{className:"header-right",children:I.jsxs("h1",{className:"main-title",children:[I.jsx("span",{className:"title-line-1",children:"Plataforma de Documentacin Albibot"}),I.jsx("span",{className:"title-line-2",children:"Estructuracin y Operacin Negocio Tecnolgico"})]})})]}),I.jsxs("nav",{className:"header-nav",children:[I.jsxs("div",{className:"nav-tabs",children:[l.pathname!=="/"&&I.jsx("button",{className:"back-button",onClick:a,title:"Volver atrs",children:I.jsx(Bx,{})}),I.jsx(Ff,{to:"/",className:`nav-tab ${l.pathname==="/"?"active":""}`,children:"Plataforma Albibot"})]}),I.jsxs("div",{className:"nav-actions",children:[I.jsx(JE,{}),I.jsx("button",{className:"logout-button",onClick:e,title:"Cerrar sesin",children:"Cerrar Sesin"})]})]})]})},Hx=({percentage:l,size:t=60,strokeWidth:e=6})=>{const a=(t-e)/2,s=a*2*Math.PI,o=s,c=s-l/100*s,h=b=>b===0?"#6c757d":b<=25?"#ffc107":b<=50?"#a4d65e":b<=75?"#6bbf47":"#28a745",f=b=>b<=40?"size-small":b<=60?"size-medium":"size-large",d=b=>b===0?"color-0":b<=25?"color-25":b<=50?"color-50":b<=75?"color-75":"color-100",p=h(l),v=f(t),y=d(l);return I.jsxs("div",{className:`progress-circle-container ${v} ${y}`,children:[I.jsxs("svg",{className:"progress-circle",viewBox:`0 0 ${t} ${t}`,style:{width:"100%",height:"100%"},children:[I.jsx("circle",{cx:t/2,cy:t/2,r:a,fill:"none",stroke:"#e9ecef",strokeWidth:e}),I.jsx("circle",{cx:t/2,cy:t/2,r:a,fill:"none",stroke:p,strokeWidth:e,strokeLinecap:"round",strokeDasharray:o,strokeDashoffset:c,className:"progress-stroke"})]}),I.jsxs("div",{className:"progress-text",children:[l,"%"]})]})},rb=N.createContext(),Ux=()=>{const l=N.useContext(rb);if(!l)throw new Error("useProgress must be used within a ProgressProvider");return l},Gx=({children:l})=>{const[t,e]=N.useState(()=>{const c=localStorage.getItem("moduleProgress");if(c)try{return JSON.parse(c)}catch(h){console.error("Error parsing saved progress:",h)}return{"hub-integraciones":0,"call-center":0,"atenciones-ministerio":0,autoatencion:25,whatsapp:0,emergencia:0,"evaluacion-riesgo":0,derivaciones:0,"acompanamiento-legal":0,"apoyo-psicosocial":0,prestaciones:0,monitoreo:0,configuracion:0,"agentes-ia":50,mensajeria:0,seguridad:0,coexiste:0,"gestion-interna":0,opa:0,"transformacion-estrategica":0}}),a=(c,h)=>{e(f=>{const d={...f,[c]:h};return localStorage.setItem("moduleProgress",JSON.stringify(d)),d})},s=c=>t[c]||0;N.useEffect(()=>{localStorage.setItem("moduleProgress",JSON.stringify(t))},[t]);const o={moduleProgress:t,updateProgress:a,getProgress:s};return I.jsx(rb.Provider,{value:o,children:l})},Vx=({onDocumentSelect:l})=>{const[t,e]=N.useState(null),[a,s]=N.useState(null),{getProgress:o,updateProgress:c}=Ux(),{isHighlighted:h,toggleHighlight:f}=iy(),d=w=>w.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),p=(w,T)=>{w.preventDefault(),w.stopPropagation(),f(T)},v=(w,T)=>{w.preventDefault(),w.stopPropagation(),s(a===T?null:T)},y=(w,T)=>{c(w,T),s(null)},b=()=>{s(null)},S=[{id:"corporativo",title:"Corporativo",icon:Cx,submenu:["Escrituras constitucin","Directorios / Poderes","Pacto de accionistas","Registro de accionistas","Estructura de empresas","Participaciones","Incentivos/opciones a gtes","Ofertas a inversionistas","Definicin abogado","Contador y plan ctas","Definicin Banco","Seleccin Gerentes"]},{id:"marketing",title:"Marketing",icon:Nx,submenu:["BD de prospectos Latam","Anlisis de competencia","Instituc. mayores desafos","Sitios web","Estrategias marketing digital","Imagen corporativa","Posicionamiento de marca","Participacin en seminarios","Poltica de referidos","Agencia de medios","Artculos de prensa","Relato (Transf digital)","Catlogo de servicios","Catlogo de productos","Videos usuarios/ayudas"]},{id:"plataformas",title:"Plataformas",icon:Rx,submenu:["Diseos de mdulos/sistema","Construccin de mdulos","Primeras instalaciones","Documentacin","Respaldos","Actualizacin currculos","Empaquetamiento software","Referencias por segmento","Versiones marca blanca","U/X","Manuales de configuracin","Manuales de instalacin","Poltica seguridad de datos","Metodologas","Performance","Mesa de ayuda","Medios pago internacionales","Operacin de plataformas"]},{id:"selling",title:"Selling package/ Plan",icon:Tx,submenu:["Propuestas tipo","Esquema de ofertas","Definicin de pricing","Problemtica segmento/pas","Casos con resultados","Testimonios","Demos por segmento / pas","Videos promocionales","Cronogramas tipo","Plan comercial","Contratacin vendedores","CRM prospectos/ventas","Gestin de proyectos","Compensation package"]},{id:"alianzas",title:"Alianzas",icon:Mx,submenu:["Influencers seg/pas","Negociacin Agentes","Negociacin Integradores","Negociacin distribuidores","Autoridades","Gremios","Joint Ventures Ues, IP, CFT","Retail / Comercio Electrnico","1ros clientes por industria","Bancos, Cajas, empresas","Distribuidoras"]},{id:"ventas",title:"Ventas",icon:Ex,submenu:["Reclutar vendedores","Coordinacin reuniones","Demos/material","Analizar alternat. solucin","Generar propuestas","Reuniones con autoridades","Polticas pblicas","Generacin pipeline","Adm ciclo vtas por cliente","Reuniones de avance","Cierre de negocios","Formalizacin de contratos","Administracin Proyecto","Seguimiento y alertas","Asegurar satisfaccin","Generar testimoniales"]},{id:"operaciones",title:"Operaciones",icon:_x,submenu:["Plan de ventas","Flujo de caja","Financiamiento","Nuevas inversiones","Informes tipo","Directorios formales","Gestin pipeline ventas","Control de proyectos","Satisfaccin de clientes","Reuniones de avance","Registro Propiedad Intelectual","Registro de marcas","Contratos tipo (NDA; Agente...)","Contrato HR (IP, Non compet..)","Oficina y su operacin"]}],E=w=>{e(t===w?null:w)},x=(w,T)=>{const R=`${w.toLowerCase().replace(/\s+/g,"-")}-${T.toLowerCase().replace(/\s+/g,"-")}.pdf`;l(R,T),e(null)};return I.jsx("nav",{className:"main-menu",children:I.jsxs("div",{className:"menu-container",children:[I.jsx("h2",{className:"menu-title",children:"Estructuracin y Operacin Negocio Tecnolgico"}),I.jsx("div",{className:"menu-grid",children:S.map(w=>{const T=d(w.title),R=o(T),L=h(T);return I.jsxs("div",{className:"menu-item",children:[I.jsx("div",{className:`menu-card ${L?"highlighted":""}`,children:I.jsxs("div",{className:"card-content",children:[I.jsx("div",{className:"card-icon",children:I.jsx(hi,{icon:w.icon,className:"fa-icon"})}),I.jsxs("div",{className:"card-main",children:[I.jsxs("div",{className:"card-header",children:[I.jsx("h3",{className:"card-title",children:w.title}),I.jsx("button",{className:`status-tag ${L?"active":""}`,onClick:C=>p(C,T),title:L?"Quitar de desarrollo":"Marcar en desarrollo",children:L?"En desarrollo":""})]}),I.jsx("p",{className:"card-description",children:"Estructuracin y operacin del negocio tecnolgico"}),I.jsxs("div",{className:"card-footer",children:[I.jsxs("button",{className:"menu-button",onClick:()=>E(w.id),children:[I.jsx("span",{className:"menu-text",children:"Ver opciones"}),I.jsx("span",{className:"dropdown-arrow",children:t===w.id?"":""})]}),I.jsx("div",{className:"card-progress",children:I.jsx("div",{className:"progress-circle-container",onClick:C=>v(C,T),title:"Click para ajustar progreso",children:I.jsx(Hx,{percentage:R,size:50,strokeWidth:4})})})]})]})]})}),t===w.id&&I.jsx("div",{className:"submenu",children:w.submenu.map((C,B)=>I.jsxs("button",{className:"submenu-item",onClick:()=>x(w.title,C),children:[I.jsx(hi,{icon:zx,className:"submenu-icon"}),C]},B))}),a===T&&I.jsxs("div",{className:"progress-dropdown",children:[I.jsxs("div",{className:"progress-dropdown-header",children:[I.jsx("span",{children:"Ajustar Progreso"}),I.jsx("button",{className:"progress-dropdown-close",onClick:b,title:"Cerrar",children:""})]}),I.jsx("div",{className:"progress-dropdown-options",children:[0,25,50,75,100].map(C=>I.jsxs("button",{className:`progress-dropdown-option ${R===C?"active":""}`,onClick:()=>y(T,C),children:[C,"%"]},C))})]})]},w.id)})})]})})},je=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ef=[.001,0,0,.001,0,0],Wh=1.35,rn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Hn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ob="pdfjs_internal_editor_",At={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},lb={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Pe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},qr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},oe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ys={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ro={ERRORS:0,WARNINGS:1,INFOS:5},Wr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},kl={moveTo:0,lineTo:1,curveTo:2,closePath:3},cb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let cc=ro.WARNINGS;function qx(l){Number.isInteger(l)&&(cc=l)}function $x(){return cc}function uc(l){cc>=ro.INFOS&&console.log(`Info: ${l}`)}function St(l){cc>=ro.WARNINGS&&console.log(`Warning: ${l}`)}function Ut(l){throw new Error(l)}function me(l,t){l||Ut(t)}function Yx(l){switch(l?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Qf(l,t=null,e=null){if(!l)return null;if(e&&typeof l=="string"&&(e.addDefaultProtocol&&l.startsWith("www.")&&l.match(/\./g)?.length>=2&&(l=`http://${l}`),e.tryConvertEncoding))try{l=Zx(l)}catch{}const a=t?URL.parse(l,t):URL.parse(l);return Yx(a)?a:null}function Zf(l,t,e=!1){const a=URL.parse(l);return a?(a.hash=t,a.href):e&&Qf(l,"http://example.com")?l.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Rt(l,t,e,a=!1){return Object.defineProperty(l,t,{value:e,enumerable:!a,configurable:!0,writable:!1}),e}const Ra=(function(){function t(e,a){this.message=e,this.name=a}return t.prototype=new Error,t.constructor=t,t})();class a0 extends Ra{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Kh extends Ra{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Zl extends Ra{constructor(t){super(t,"InvalidPDFException")}}class Kr extends Ra{constructor(t,e,a){super(t,"ResponseException"),this.status=e,this.missing=a}}class Xx extends Ra{constructor(t){super(t,"FormatError")}}class mi extends Ra{constructor(t){super(t,"AbortException")}}function ub(l){(typeof l!="object"||l?.length===void 0)&&Ut("Invalid argument for bytesToString");const t=l.length,e=8192;if(t<e)return String.fromCharCode.apply(null,l);const a=[];for(let s=0;s<t;s+=e){const o=Math.min(s+e,t),c=l.subarray(s,o);a.push(String.fromCharCode.apply(null,c))}return a.join("")}function oo(l){typeof l!="string"&&Ut("Invalid argument for stringToBytes");const t=l.length,e=new Uint8Array(t);for(let a=0;a<t;++a)e[a]=l.charCodeAt(a)&255;return e}function Wx(l){return String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255)}function Kx(){const l=new Uint8Array(4);return l[0]=1,new Uint32Array(l.buffer,0,1)[0]===1}function Qx(){try{return new Function(""),!0}catch{return!1}}class xe{static get isLittleEndian(){return Rt(this,"isLittleEndian",Kx())}static get isEvalSupported(){return Rt(this,"isEvalSupported",Qx())}static get isOffscreenCanvasSupported(){return Rt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Rt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Rt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Rt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Qh=Array.from(Array(256).keys(),l=>l.toString(16).padStart(2,"0"));class ct{static makeHexColor(t,e,a){return`#${Qh[t]}${Qh[e]}${Qh[a]}`}static scaleMinMax(t,e){let a;t[0]?(t[0]<0&&(a=e[0],e[0]=e[2],e[2]=a),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(a=e[1],e[1]=e[3],e[3]=a),e[1]*=t[3],e[3]*=t[3]):(a=e[0],e[0]=e[1],e[1]=a,a=e[2],e[2]=e[3],e[3]=a,t[1]<0&&(a=e[1],e[1]=e[3],e[3]=a),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(a=e[0],e[0]=e[2],e[2]=a),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,a=0){const s=t[a],o=t[a+1];t[a]=s*e[0]+o*e[2]+e[4],t[a+1]=s*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,a=0){const s=e[0],o=e[1],c=e[2],h=e[3],f=e[4],d=e[5];for(let p=0;p<6;p+=2){const v=t[a+p],y=t[a+p+1];t[a+p]=v*s+y*c+f,t[a+p+1]=v*o+y*h+d}}static applyInverseTransform(t,e){const a=t[0],s=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(a*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-a*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,a){const s=e[0],o=e[1],c=e[2],h=e[3],f=e[4],d=e[5],p=t[0],v=t[1],y=t[2],b=t[3];let S=s*p+f,E=S,x=s*y+f,w=x,T=h*v+d,R=T,L=h*b+d,C=L;if(o!==0||c!==0){const B=o*p,j=o*y,q=c*v,X=c*b;S+=q,w+=q,x+=X,E+=X,T+=B,C+=B,L+=j,R+=j}a[0]=Math.min(a[0],S,x,E,w),a[1]=Math.min(a[1],T,L,R,C),a[2]=Math.max(a[2],S,x,E,w),a[3]=Math.max(a[3],T,L,R,C)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const a=t[0],s=t[1],o=t[2],c=t[3],h=a**2+s**2,f=a*o+s*c,d=o**2+c**2,p=(h+d)/2,v=Math.sqrt(p**2-(h*d-f**2));e[0]=Math.sqrt(p+v||1),e[1]=Math.sqrt(p-v||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const a=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(a>s)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>c?null:[a,o,s,c]}static pointBoundingBox(t,e,a){a[0]=Math.min(a[0],t),a[1]=Math.min(a[1],e),a[2]=Math.max(a[2],t),a[3]=Math.max(a[3],e)}static rectBoundingBox(t,e,a,s,o){o[0]=Math.min(o[0],t,a),o[1]=Math.min(o[1],e,s),o[2]=Math.max(o[2],t,a),o[3]=Math.max(o[3],e,s)}static#t(t,e,a,s,o,c,h,f,d,p){if(d<=0||d>=1)return;const v=1-d,y=d*d,b=y*d,S=v*(v*(v*t+3*d*e)+3*y*a)+b*s,E=v*(v*(v*o+3*d*c)+3*y*h)+b*f;p[0]=Math.min(p[0],S),p[1]=Math.min(p[1],E),p[2]=Math.max(p[2],S),p[3]=Math.max(p[3],E)}static#e(t,e,a,s,o,c,h,f,d,p,v,y){if(Math.abs(d)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,a,s,o,c,h,f,-v/p,y);return}const b=p**2-4*v*d;if(b<0)return;const S=Math.sqrt(b),E=2*d;this.#t(t,e,a,s,o,c,h,f,(-p+S)/E,y),this.#t(t,e,a,s,o,c,h,f,(-p-S)/E,y)}static bezierBoundingBox(t,e,a,s,o,c,h,f,d){d[0]=Math.min(d[0],t,h),d[1]=Math.min(d[1],e,f),d[2]=Math.max(d[2],t,h),d[3]=Math.max(d[3],e,f),this.#e(t,a,o,h,e,s,c,f,3*(-t+3*(a-o)+h),6*(t-2*a+o),3*(a-t),d),this.#e(t,a,o,h,e,s,c,f,3*(-e+3*(s-c)+f),6*(e-2*s+c),3*(s-e),d)}}function Zx(l){return decodeURIComponent(escape(l))}let Zh=null,s0=null;function hb(l){return Zh||(Zh=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,s0=new Map([["","t"]])),l.replaceAll(Zh,(t,e,a)=>e?e.normalize("NFKC"):s0.get(a))}function Jf(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const l=new Uint8Array(32);return crypto.getRandomValues(l),ub(l)}const td="pdfjs_internal_id_";function Jx(l,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[a,s,...o]=e;if(!l(a)&&!Number.isInteger(a)||!t(s))return!1;const c=o.length;let h=!0;switch(s.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;h=!1;break;default:return!1}for(const f of o)if(!(typeof f=="number"||h&&f===null))return!1;return!0}function Ie(l,t,e){return Math.min(Math.max(l,t),e)}function fb(l){return Uint8Array.prototype.toBase64?l.toBase64():btoa(ub(l))}function tT(l){return Uint8Array.fromBase64?Uint8Array.fromBase64(l):oo(atob(l))}typeof Promise.try!="function"&&(Promise.try=function(l,...t){return new Promise(e=>{e(l(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(l){return l.reduce((t,e)=>t+e,0)});const ci="http://www.w3.org/2000/svg";class xa{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function ks(l,t="text"){if(jr(l,document.baseURI)){const e=await fetch(l);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,a)=>{const s=new XMLHttpRequest;s.open("GET",l,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}a(new Error(s.statusText))}},s.send(null)})}class lo{constructor({viewBox:t,userUnit:e,scale:a,rotation:s,offsetX:o=0,offsetY:c=0,dontFlip:h=!1}){this.viewBox=t,this.userUnit=e,this.scale=a,this.rotation=s,this.offsetX=o,this.offsetY=c,a*=e;const f=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let p,v,y,b;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,v=0,y=0,b=1;break;case 90:p=0,v=1,y=1,b=0;break;case 270:p=0,v=-1,y=-1,b=0;break;case 0:p=1,v=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(y=-y,b=-b);let S,E,x,w;p===0?(S=Math.abs(d-t[1])*a+o,E=Math.abs(f-t[0])*a+c,x=(t[3]-t[1])*a,w=(t[2]-t[0])*a):(S=Math.abs(f-t[0])*a+o,E=Math.abs(d-t[1])*a+c,x=(t[2]-t[0])*a,w=(t[3]-t[1])*a),this.transform=[p*a,v*a,y*a,b*a,S-p*a*f-y*a*d,E-v*a*f-b*a*d],this.width=x,this.height=w}get rawDims(){const t=this.viewBox;return Rt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:a=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new lo({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:a,offsetY:s,dontFlip:o})}convertToViewportPoint(t,e){const a=[t,e];return ct.applyTransform(a,this.transform),a}convertToViewportRectangle(t){const e=[t[0],t[1]];ct.applyTransform(e,this.transform);const a=[t[2],t[3]];return ct.applyTransform(a,this.transform),[e[0],e[1],a[0],a[1]]}convertToPdfPoint(t,e){const a=[t,e];return ct.applyInverseTransform(a,this.transform),a}}class hc extends Ra{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function co(l){const t=l.length;let e=0;for(;e<t&&l[e].trim()==="";)e++;return l.substring(e,e+5).toLowerCase()==="data:"}function fc(l){return typeof l=="string"&&/\.pdf$/i.test(l)}function db(l){return[l]=l.split(/[#?]/,1),l.substring(l.lastIndexOf("/")+1)}function gb(l,t="document.pdf"){if(typeof l!="string")return t;if(co(l))return St('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const a=(h=>{try{return new URL(h)}catch{try{return new URL(decodeURIComponent(h))}catch{try{return new URL(h,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(h),"https://foo.bar")}catch{return null}}}}})(l);if(!a)return t;const s=h=>{try{let f=decodeURIComponent(h);return f.includes("/")?(f=f.split("/").at(-1),f.test(/^\.pdf$/i)?f:h):f}catch{return h}},o=/\.pdf$/i,c=a.pathname.split("/").at(-1);if(o.test(c))return s(c);if(a.searchParams.size>0){const h=Array.from(a.searchParams.values()).reverse();for(const d of h)if(o.test(d))return s(d);const f=Array.from(a.searchParams.keys()).reverse();for(const d of f)if(o.test(d))return s(d)}if(a.hash){const f=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(a.hash);if(f)return s(f[0])}return t}class r0{started=Object.create(null);times=[];time(t){t in this.started&&St(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||St(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:a}of this.times)e=Math.max(a.length,e);for(const{name:a,start:s,end:o}of this.times)t.push(`${a.padEnd(e)} ${o-s}ms
`);return t.join("")}}function jr(l,t){const e=t?URL.parse(l,t):URL.parse(l);return e?.protocol==="http:"||e?.protocol==="https:"}function Sn(l){l.preventDefault()}function ce(l){l.preventDefault(),l.stopPropagation()}function eT(l){console.log("Deprecated API usage: "+l)}class ed{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const a=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const d=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let v=parseInt(e[9],10)||0;return v=v>=0&&v<=59?v:0,d==="-"?(c+=p,h+=v):d==="+"&&(c-=p,h-=v),new Date(Date.UTC(a,s,o,c,h,f))}}function pb(l,{scale:t=1,rotation:e=0}){const{width:a,height:s}=l.attributes.style,o=[0,0,parseInt(a),parseInt(s)];return new lo({viewBox:o,userUnit:1,scale:t,rotation:e})}function nd(l){if(l.startsWith("#")){const t=parseInt(l.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return l.startsWith("rgb(")?l.slice(4,-1).split(",").map(t=>parseInt(t)):l.startsWith("rgba(")?l.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(St(`Not a valid color format: "${l}"`),[0,0,0])}function nT(l){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of l.keys()){t.style.color=e;const a=window.getComputedStyle(t).color;l.set(e,nd(a))}t.remove()}function Zt(l){const{a:t,b:e,c:a,d:s,e:o,f:c}=l.getTransform();return[t,e,a,s,o,c]}function In(l){const{a:t,b:e,c:a,d:s,e:o,f:c}=l.getTransform().invertSelf();return[t,e,a,s,o,c]}function Xi(l,t,e=!1,a=!0){if(t instanceof lo){const{pageWidth:s,pageHeight:o}=t.rawDims,{style:c}=l,h=xe.isCSSRoundSupported,f=`var(--total-scale-factor) * ${s}px`,d=`var(--total-scale-factor) * ${o}px`,p=h?`round(down, ${f}, var(--scale-round-x))`:`calc(${f})`,v=h?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(c.width=p,c.height=v):(c.width=v,c.height=p)}a&&l.setAttribute("data-main-rotation",t.rotation)}class Rn{constructor(){const{pixelRatio:t}=Rn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,a,s,o=-1){let c=1/0,h=1/0,f=1/0;a=Rn.capPixels(a,o),a>0&&(c=Math.sqrt(a/(t*e))),s!==-1&&(h=s/t,f=s/e);const d=Math.min(c,h,f);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const a=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,a):a}return t}}const Jl=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class $r{#t=null;#e=null;#n;#i=null;#s=null;#a=null;static#o=null;constructor(t){this.#n=t,$r.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",Sn,{signal:e}),t.addEventListener("pointerdown",$r.#r,{signal:e});const a=this.#i=document.createElement("div");a.className="buttons",t.append(a);const s=this.#n.toolbarPosition;if(s){const{style:o}=t,c=this.#n._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#r(t){t.stopPropagation()}#h(t){this.#n._focusEventsAllowed=!1,ce(t)}#l(t){this.#n._focusEventsAllowed=!0,ce(t)}#f(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Sn,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#n,a=document.createElement("button");a.className="delete",a.tabIndex=0,a.setAttribute("data-l10n-id",$r.#o[t]),this.#f(a),a.addEventListener("click",s=>{e.delete()},{signal:e._signal}),this.#i.append(a)}get#u(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#i.append(e,this.#u),this.#s=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#f(e),this.#i.append(e,this.#u)}async addEditSignatureButton(t){const e=this.#a=await t.renderEditButton(this.#n);this.#f(e),this.#i.append(e,this.#u)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(t){this.#a&&(this.#a.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class iT{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Sn,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#a(),t}#s(t,e){let a=0,s=0;for(const o of t){const c=o.y+o.height;if(c<a)continue;const h=o.x+(e?o.width:0);if(c>a){s=h,a=c;continue}e?h>s&&(s=h):h<s&&(s=h)}return[e?1-s:s,a]}show(t,e,a){const[s,o]=this.#s(e,a),{style:c}=this.#e||=this.#i();t.append(this.#e),c.insetInlineEnd=`${100*s}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#a(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const a=this.#n._signal;t.addEventListener("contextmenu",Sn,{signal:a}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:a}),this.#t.append(t)}}function mb(l,t,e){for(const a of e)t.addEventListener(a,l[a].bind(l))}class aT{#t=0;get id(){return`${ob}${this.#t++}`}}class id{#t=Jf();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const o=s.decode().then(()=>(a.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0]===0));return Rt(this,"_isSVGFittingCanvas",o)}async#i(t,e){this.#n||=new Map;let a=this.#n.get(t);if(a===null)return null;if(a?.bitmap)return a.refCounter+=1,a;try{a||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let s;if(typeof e=="string"?(a.url=e,s=await ks(e,"blob")):e instanceof File?s=a.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const o=id._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((d,p)=>{h.onload=()=>{a.bitmap=h,a.isSvg=!0,d()},c.onload=async()=>{const v=a.svgUrl=c.result;h.src=await o?`${v}#svgView(preserveAspectRatio(none))`:v},h.onerror=c.onerror=p});c.readAsDataURL(s),await f}else a.bitmap=await createImageBitmap(s);a.refCounter=1}catch(s){St(s),a=null}return this.#n.set(t,a),a&&this.#n.set(a.id,a),a}async getFromFile(t){const{lastModified:e,name:a,size:s,type:o}=t;return this.#i(`${e}_${a}_${s}_${o}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const a=await e;return this.#i(t,a)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:a}=e;return delete e.blobPromise,this.getFromBlob(e.id,a)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let a=this.#n.get(t);if(a?.bitmap)return a.refCounter+=1,a;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),a={bitmap:s.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,a),this.#n.set(a.id,a),a}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:a}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(a.width,a.height);s.getContext("bitmaprenderer").transferFromImageBitmap(a),e.blobPromise=s.convertToBlob()}a.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class sT{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:a,mustExec:s,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(s&&t(),this.#e)return;const f={cmd:t,undo:e,post:a,type:o};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(f);return}if(c&&this.#t[this.#i].type===o){h&&(f.undo=this.#t[this.#i].undo),this.#t[this.#i]=f;return}const d=this.#i+1;d===this.#n?this.#t.splice(0,1):(this.#i=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(f)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class uo{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=xe.platform;for(const[a,s,o={}]of t)for(const c of a){const h=c.startsWith("mac+");e&&h?(this.callbacks.set(c.slice(4),{callback:s,options:o}),this.allKeys.add(c.split("+").at(-1))):!e&&!h&&(this.callbacks.set(c,{callback:s,options:o}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const a=this.callbacks.get(this.#t(e));if(!a)return;const{callback:s,options:{bubbles:o=!1,args:c=[],checker:h=null}}=a;h&&!h(t,e)||(s.bind(t,...c,e)(),o||ce(e))}}class ad{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return nT(t),Rt(this,"_colors",t)}convert(t){const e=nd(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[a,s]of this._colors)if(s.every((o,c)=>o===e[c]))return ad._colorsMapping.get(a);return e}getHexCode(t){const e=this._colors.get(t);return e?ct.makeHexColor(...e):t}}class vi{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#s=null;#a=null;#o=null;#r=new sT;#h=null;#l=null;#f=0;#u=new Set;#d=null;#g=null;#p=new Set;_editorUndoBar=null;#c=!1;#m=!1;#v=!1;#y=null;#A=null;#S=null;#E=null;#x=!1;#C=null;#M=new aT;#w=!1;#R=!1;#T=null;#L=null;#N=null;#O=null;#j=null;#_=At.NONE;#b=new Set;#z=null;#F=null;#G=null;#V=null;#q={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#k=null;#P=null;#U=null;#W=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=vi.prototype,e=c=>c.#P.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),a=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Rt(this,"_keyboardManager",new uo([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],t.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:a}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&c.#P.contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&c.#P.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,a,s,o,c,h,f,d,p,v,y,b,S,E){const x=this._signal=this.#t.signal;this.#P=t,this.#U=e,this.#W=a,this.#s=s,this.#F=o,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:x}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),c._on("setpreference",this.onSetPreference.bind(this),{signal:x}),c._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:x}),this.#at(),this.#lt(),this.#Q(),this.#a=h.annotationStorage,this.#y=h.filterFactory,this.#G=f,this.#E=d||null,this.#c=p,this.#m=v,this.#v=y,this.#j=b||null,this.viewParameters={realScale:xa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=E!==!1}destroy(){this.#I?.resolve(),this.#I=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#O?.clear(),this.#e=null,this.#b.clear(),this.#r.destroy(),this.#s?.destroy(),this.#F?.destroy(),this.#C?.hide(),this.#C=null,this.#N?.destroy(),this.#N=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#k&&(clearTimeout(this.#k),this.#k=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#j}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Rt(this,"hcmFilter",this.#G?this.#y.addHCMFilter(this.#G.foreground,this.#G.background):"none")}get direction(){return Rt(this,"direction",getComputedStyle(this.#P).direction)}get highlightColors(){return Rt(this,"highlightColors",this.#E?new Map(this.#E.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColorNames(){return Rt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=t}setMainHighlightColorPicker(t){this.#N=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#P.focus()}findParent(t,e){for(const a of this.#i.values()){const{x:s,y:o,width:c,height:h}=a.div.getBoundingClientRect();if(t>=s&&t<=s+c&&e>=o&&e<=o+h)return a}return null}disableUserSelect(t=!1){this.#U.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*xa.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Y({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#K(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const a of this.#i.values())if(a.hasTextLayer(t))return a;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:a,anchorOffset:s,focusNode:o,focusOffset:c}=e,h=e.toString(),d=this.#Y(e).closest(".textLayer"),p=this.getSelectionBoxes(d);if(!p)return;e.empty();const v=this.#K(d),y=this.#_===At.NONE,b=()=>{v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:a,anchorOffset:s,focusNode:o,focusOffset:c,text:h}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(At.HIGHLIGHT,b);return}b()}#nt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const a=this.#Y(t).closest(".textLayer"),s=this.getSelectionBoxes(a);s&&(this.#C||=new iT(this),this.#C.show(a,s,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}a11yAlert(t,e=null){const a=this.#W;a&&(a.setAttribute("data-l10n-id",t),e?a.setAttribute("data-l10n-args",JSON.stringify(e)):a.removeAttribute("data-l10n-args"))}#it(){const t=document.getSelection();if(!t||t.isCollapsed){this.#z&&(this.#C?.hide(),this.#z=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#z)return;const s=this.#Y(t).closest(".textLayer");if(!s){this.#z&&(this.#C?.hide(),this.#z=null,this.#D({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#z=e,this.#D({hasSelectedText:!0}),!(this.#_!==At.HIGHLIGHT&&this.#_!==At.NONE)&&(this.#_===At.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#_===At.HIGHLIGHT?this.#K(s):null;o?.toggleDrawing();const c=new AbortController,h=this.combinedSignal(c),f=d=>{d.type==="pointerup"&&d.button!==0||(c.abort(),o?.toggleDrawing(!0),d.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("blur",f,{signal:h})}}#X(t=""){this.#_===At.HIGHLIGHT?this.highlightSelection(t):this.#c&&this.#nt()}#at(){document.addEventListener("selectionchange",this.#it.bind(this),{signal:this._signal})}#st(){if(this.#S)return;this.#S=new AbortController;const t=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#rt(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#b)if(e.div.contains(t)){this.#L=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#L)return;const[t,e]=this.#L;this.#L=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#Q(){if(this.#T)return;this.#T=new AbortController;const t=this.combinedSignal(this.#T);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ot(){this.#T?.abort(),this.#T=null}#Z(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#J(){this.#h?.abort(),this.#h=null}#lt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Q(),this.#Z()}removeEditListeners(){this.#ot(),this.#J()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const a of this.#g)if(a.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const a of this.#g)if(a.isHandlingMimeForPasting(e.type)){a.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const a of this.#b){const s=a.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const c of this.#g)if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let a=e.getData("application/pdfjs");if(!a)return;try{a=JSON.parse(a)}catch(o){St(`paste: "${o.message}".`);return}if(!Array.isArray(a))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const f of a){const d=await s.deserialize(f);if(!d)return;o.push(d)}const c=()=>{for(const f of o)this.#tt(f);this.#et(o)},h=()=>{for(const f of o)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(o){St(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==At.NONE&&!this.isEditorHandlingKeyboard&&vi._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#X("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#D(t){Object.entries(t).some(([a,s])=>this.#q[a]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#q,t)}),this.#_===At.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#B([[Mt.HIGHLIGHT_FREE,!0]]))}#B(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#st(),this.#Z(),this.#D({isEditing:this.#_!==At.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:this.#r.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#rt(),this.#J(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#g){this.#g=t;for(const e of this.#g)this.#B(e.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#f)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#i.set(t.pageIndex,t),this.#w?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,a=!1,s=!1){if(this.#_!==t&&!(this.#I&&(await this.#I.promise,!this.#I))){if(this.#I=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#_=t,t===At.NONE){this.setEditingState(!1),this.#ut(),this._editorUndoBar?.hide(),this.#I.resolve();return}t===At.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#ct(),this.unselectAll();for(const o of this.#i.values())o.updateMode(t);if(!e){a&&this.addNewEditorFromKeyboard(),this.#I.resolve();return}for(const o of this.#n.values())o.annotationElementId===e||o.id===e?(this.setSelected(o),s&&o.enterInEditMode()):o.unselect();this.#I.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#g){switch(t){case Mt.CREATE:this.currentLayer.addNewEditor(e);return;case Mt.HIGHLIGHT_DEFAULT_COLOR:this.#N?.updateColor(e);break;case Mt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#V||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const a of this.#b)a.updateParams(t,e);for(const a of this.#g)a.updateDefaultParams(t,e)}}showAllEditors(t,e,a=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#V?.get(Mt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#B([[Mt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ct(){if(!this.#w){this.#w=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ut(){if(this.unselectAll(),this.#w){this.#w=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const a of this.#n.values())a.pageIndex===t&&e.push(a);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#O?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#tt(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#B(t.propertiesToUpdate))}get#ht(){let t=null;for(t of this.#b);return t}updateUI(t){this.#ht===t&&this.#B(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#B(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#b.has(t)){this.#b.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#b.add(t),t.select(),this.#B(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#l?.commitOrRemove();for(const e of this.#b)e!==t&&e.unselect();this.#b.clear(),this.#b.add(t),t.select(),this.#B(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#b.has(t)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(t){t.unselect(),this.#b.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#r.undo(),this.#D({hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()}),this._editorUndoBar?.hide()}redo(){this.#r.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#r.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(t){this.#r.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}cleanUndoStack(t){this.#r.cleanType(t)}#$(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#b],a=()=>{this._editorUndoBar?.show(s,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},s=()=>{for(const o of e)this.#tt(o)};this.addCommands({cmd:a,undo:s,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#et(t){for(const e of this.#b)e.unselect();this.#b.clear();for(const e of t)e.isEmpty()||(this.#b.add(e),e.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#b)t.commit();this.#et(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#_!==At.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const t of this.#b)t.unselect();this.#b.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,a=!1){if(a||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[s,o]=this.#H,c=[...this.#b],h=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const f of c)this.#n.has(f.id)&&(f.translateInPage(s,o),f.translationDone())},undo:()=>{for(const f of c)this.#n.has(f.id)&&(f.translateInPage(-s,-o),f.translationDone())},mustExec:!1})},h);for(const f of c)f.translateInPage(t,e),f.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#d=new Map;for(const t of this.#b)this.#d.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#d)return!1;this.disableUserSelect(!1);const t=this.#d;this.#d=null;let e=!1;for(const[{x:s,y:o,pageIndex:c},h]of t)h.newX=s,h.newY=o,h.newPageIndex=c,e||=s!==h.savedX||o!==h.savedY||c!==h.savedPageIndex;if(!e)return!1;const a=(s,o,c,h)=>{if(this.#n.has(s.id)){const f=this.#i.get(h);f?s._setParentAndPosition(f,o,c):(s.pageIndex=h,s.x=o,s.y=c)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:c,newPageIndex:h}]of t)a(s,o,c,h)},undo:()=>{for(const[s,{savedX:o,savedY:c,savedPageIndex:h}]of t)a(s,o,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#d)for(const a of this.#d.keys())a.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#_}get imageManager(){return Rt(this,"imageManager",new id)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,p=e.rangeCount;d<p;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:a,y:s,width:o,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(d,p,v,y)=>({x:(p-s)/c,y:1-(d+v-a)/o,width:y/c,height:v/o});break;case"180":h=(d,p,v,y)=>({x:1-(d+v-a)/o,y:1-(p+y-s)/c,width:v/o,height:y/c});break;case"270":h=(d,p,v,y)=>({x:1-(p+y-s)/c,y:(d-a)/o,width:y/c,height:v/o});break;default:h=(d,p,v,y)=>({x:(d-a)/o,y:(p-s)/c,width:v/o,height:y/c});break}const f=[];for(let d=0,p=e.rangeCount;d<p;d++){const v=e.getRangeAt(d);if(!v.collapsed)for(const{x:y,y:b,width:S,height:E}of v.getClientRects())S===0||E===0||f.push(h(y,b,S,E))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const a=this.#a.getRawValue(e);a&&(this.#_===At.NONE&&!a.hasBeenModified||a.renderAnnotationElement(t))}setMissingCanvas(t,e,a){const s=this.#O?.get(t);s&&(s.setCanvas(e,a),this.#O.delete(t))}addMissingCanvas(t,e){(this.#O||=new Map).set(t,e)}}class Bn{#t=null;#e=!1;#n=null;#i=null;#s=null;#a=null;#o=!1;#r=null;#h=null;#l=null;#f=null;#u=!1;static#d=null;static _l10n=null;constructor(t){this.#h=t,this.#u=t._uiManager.useNewAltTextFlow,Bn.#d||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Bn._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",Bn.#d.missing),e.setAttribute("data-l10n-id",Bn.#d["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const a=this.#h._uiManager._signal;t.addEventListener("contextmenu",Sn,{signal:a}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:a});const s=o=>{o.preventDefault(),this.#h._uiManager.editAltText(this.#h),this.#u&&this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",s,{capture:!0,signal:a}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#o=!0,s(o))},{signal:a}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#f=await Bn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#r?.remove(),this.#r=null;return}if(!this.#r){const e=this.#r=document.createElement("div");e.className="noAltTextBadge",this.#h.div.append(e)}this.#r.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#f),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#f}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:a,textWithDisclaimer:s,cancel:o=!1}){a&&(this.#l=a,this.#f=s),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#n.disabled=!t)}shown(){this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#r?.remove(),this.#r=null}async#p(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Bn.#d[this.#g]),this.#i?.setAttribute("data-l10n-id",Bn.#d[`${this.#g}-label`]),!this.#t){this.#s?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#s;if(!e){this.#s=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#h.id}`;const s=100,o=this.#h._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#s.classList.add("show"),this.#h._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#s?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#h.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class ho{#t;#e=!1;#n=null;#i;#s;#a;#o;#r=null;#h;#l=null;#f;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:a=null,onPinchStart:s=null,onPinching:o=null,onPinchEnd:c=null,signal:h}){this.#t=t,this.#n=a,this.#i=e,this.#s=s,this.#a=o,this.#o=c,this.#f=new AbortController,this.#h=AbortSignal.any([h,this.#f.signal]),t.addEventListener("touchstart",this.#d.bind(this),{passive:!1,signal:this.#h})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Rn.pixelRatio}#d(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#r)return;const s=this.#r=new AbortController,o=AbortSignal.any([this.#h,s.signal]),c=this.#t,h={capture:!0,signal:o,passive:!1},f=d=>{d.pointerType==="touch"&&(this.#r?.abort(),this.#r=null)};c.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(ce(d),f(d))},h),c.addEventListener("pointerup",f,h),c.addEventListener("pointercancel",f,h);return}if(!this.#u){this.#u=new AbortController;const s=AbortSignal.any([this.#h,this.#u.signal]),o=this.#t,c={signal:s,capture:!1,passive:!1};o.addEventListener("touchmove",this.#g.bind(this),c);const h=this.#p.bind(this);o.addEventListener("touchend",h,c),o.addEventListener("touchcancel",h,c),c.capture=!0,o.addEventListener("pointerdown",ce,c),o.addEventListener("pointermove",ce,c),o.addEventListener("pointercancel",ce,c),o.addEventListener("pointerup",ce,c),this.#s?.()}if(ce(t),t.touches.length!==2||this.#n?.()){this.#l=null;return}let[e,a]=t.touches;e.identifier>a.identifier&&([e,a]=[a,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:a.screenX,touch1Y:a.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;ce(t);let[e,a]=t.touches;e.identifier>a.identifier&&([e,a]=[a,e]);const{screenX:s,screenY:o}=e,{screenX:c,screenY:h}=a,f=this.#l,{touch0X:d,touch0Y:p,touch1X:v,touch1Y:y}=f,b=v-d,S=y-p,E=c-s,x=h-o,w=Math.hypot(E,x)||1,T=Math.hypot(b,S)||1;if(!this.#e&&Math.abs(T-w)<=ho.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(f.touch0X=s,f.touch0Y=o,f.touch1X=c,f.touch1Y=h,!this.#e){this.#e=!0;return}const R=[(s+c)/2,(o+h)/2];this.#a?.(R,T,w)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#l&&(ce(t),this.#l=null,this.#e=!1))}destroy(){this.#f?.abort(),this.#f=null,this.#r?.abort(),this.#r=null}}class ht{#t=null;#e=null;#n=null;#i=!1;#s=null;#a="";#o=!1;#r=null;#h=null;#l=null;#f=null;#u="";#d=!1;#g=null;#p=!1;#c=!1;#m=!1;#v=null;#y=0;#A=0;#S=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#C=ht._zIndex++;static _borderLineWidth=-1;static _colorManager=new ad;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ht.prototype._resizeWithKeyboard,e=vi.TRANSLATE_SMALL,a=vi.TRANSLATE_BIG;return Rt(this,"_resizerKeyboardManager",new uo([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,a]}],[["Escape","mac+Escape"],ht.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,s],this.pageTranslation=[o,c];const[h,f]=this.parentDimensions;this.x=t.x/h,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Rt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new rT({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ht._l10n??=t,ht._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ht._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);ht._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ut("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(t){this.#x=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#U(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#d?this.#d=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,a,s){const[o,c]=this.parentDimensions;[a,s]=this.screenToPageTranslation(a,s),this.x=(t+a)/o,this.y=(e+s)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[a,s]=this.parentDimensions;this.setAt(t*a,e*s,this.width*a,this.height*s),this._onTranslated()}#M([t,e],a,s){[a,s]=this.screenToPageTranslation(a,s),this.x+=a/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#g||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#g||=[this.x,this.y,this.width,this.height];const{div:a,parentDimensions:[s,o]}=this;if(this.x+=t/s,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:v,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,v,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:h}=this;const[f,d]=this.getBaseTranslation();c+=f,h+=d;const{style:p}=a;p.left=`${(100*c).toFixed(2)}%`,p.top=`${(100*h).toFixed(2)}%`,this._onTranslating(c,h),a.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#g&&(this.#g[0]!==this.x||this.#g[1]!==this.y)}get _hasBeenResized(){return!!this.#g&&(this.#g[2]!==this.width||this.#g[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:a}=ht,s=a/t,o=a/e;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[a,s]}=this;let{x:o,y:c,width:h,height:f}=this;if(h*=a,f*=s,o*=a,c*=s,this._mustFixPosition)switch(t){case 0:o=Ie(o,0,a-h),c=Ie(c,0,s-f);break;case 90:o=Ie(o,0,a-f),c=Ie(c,h,s);break;case 180:o=Ie(o,h,a),c=Ie(c,f,s);break;case 270:o=Ie(o,f,a),c=Ie(c,0,s-h);break}this.x=o/=a,this.y=c/=s;const[d,p]=this.getBaseTranslation();o+=d,c+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#w(t,e,a){switch(a){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return ht.#w(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return ht.#w(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,a]=this.pageDimensions;return[0,-e/a,a/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,a]=this.pageDimensions;return[0,e/a,-a/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,a]}=this;return[e*t,a*t]}setDims(t,e){const[a,s]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*t/a).toFixed(2)}%`,this.#o||(o.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:a}=t,s=a.endsWith("%"),o=!this.#o&&e.endsWith("%");if(s&&o)return;const[c,h]=this.parentDimensions;s||(t.width=`${(100*parseFloat(a)/c).toFixed(2)}%`),!this.#o&&!o&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#r)return;this.#r=document.createElement("div"),this.#r.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const a of t){const s=document.createElement("div");this.#r.append(s),s.classList.add("resizer",a),s.setAttribute("data-resizer-name",a),s.addEventListener("pointerdown",this.#L.bind(this,a),{signal:e}),s.addEventListener("contextmenu",Sn,{signal:e}),s.tabIndex=-1}this.div.prepend(this.#r)}#L(t,e){e.preventDefault();const{isMac:a}=xe.platform;if(e.button!==0||e.ctrlKey&&a)return;this.#n?.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,this.#h=[e.screenX,e.screenY];const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#j.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",ce,{passive:!1,signal:c}),window.addEventListener("contextmenu",Sn,{signal:c}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=h,this.div.style.cursor=f,this.#O()};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}#N(t,e,a,s){this.width=a,this.height=s,this.x=t,this.y=e;const[o,c]=this.parentDimensions;this.setDims(o*a,c*s),this.fixAndSetPosition(),this._onResized()}_onResized(){}#O(){if(!this.#l)return;const{savedX:t,savedY:e,savedWidth:a,savedHeight:s}=this.#l;this.#l=null;const o=this.x,c=this.y,h=this.width,f=this.height;o===t&&c===e&&h===a&&f===s||this.addCommands({cmd:this.#N.bind(this,o,c,h,f),undo:this.#N.bind(this,t,e,a,s),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#j(t,e){const[a,s]=this.parentDimensions,o=this.x,c=this.y,h=this.width,f=this.height,d=ht.MIN_SIZE/a,p=ht.MIN_SIZE/s,v=this.#R(this.rotation),y=(O,G)=>[v[0]*O+v[2]*G,v[1]*O+v[3]*G],b=this.#R(360-this.rotation),S=(O,G)=>[b[0]*O+b[2]*G,b[1]*O+b[3]*G];let E,x,w=!1,T=!1;switch(t){case"topLeft":w=!0,E=(O,G)=>[0,0],x=(O,G)=>[O,G];break;case"topMiddle":E=(O,G)=>[O/2,0],x=(O,G)=>[O/2,G];break;case"topRight":w=!0,E=(O,G)=>[O,0],x=(O,G)=>[0,G];break;case"middleRight":T=!0,E=(O,G)=>[O,G/2],x=(O,G)=>[0,G/2];break;case"bottomRight":w=!0,E=(O,G)=>[O,G],x=(O,G)=>[0,0];break;case"bottomMiddle":E=(O,G)=>[O/2,G],x=(O,G)=>[O/2,0];break;case"bottomLeft":w=!0,E=(O,G)=>[0,G],x=(O,G)=>[O,0];break;case"middleLeft":T=!0,E=(O,G)=>[0,G/2],x=(O,G)=>[O,G/2];break}const R=E(h,f),L=x(h,f);let C=y(...L);const B=ht._round(o+C[0]),j=ht._round(c+C[1]);let q=1,X=1,J,tt;if(e.fromKeyboard)({deltaX:J,deltaY:tt}=e);else{const{screenX:O,screenY:G}=e,[et,bt]=this.#h;[J,tt]=this.screenToPageTranslation(O-et,G-bt),this.#h[0]=O,this.#h[1]=G}if([J,tt]=S(J/a,tt/s),w){const O=Math.hypot(h,f);q=X=Math.max(Math.min(Math.hypot(L[0]-R[0]-J,L[1]-R[1]-tt)/O,1/h,1/f),d/h,p/f)}else T?q=Ie(Math.abs(L[0]-R[0]-J),d,1)/h:X=Ie(Math.abs(L[1]-R[1]-tt),p,1)/f;const lt=ht._round(h*q),pt=ht._round(f*X);C=y(...x(lt,pt));const st=B-C[0],yt=j-C[1];this.#g||=[this.x,this.y,this.width,this.height],this.width=lt,this.height=pt,this.x=st,this.y=yt,this.setDims(a*lt,s*pt),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#c)return this._editToolbar;this._editToolbar=new $r(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,a]of t)await this._editToolbar.addButton(e,a);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(Bn.initialize(ht._l10n),this.#n=new Bn(this),this.#t&&(this.#n.data=this.#t,this.#t=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#V();const[e,a]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*a/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/a).toFixed(2)}%`);const[s,o]=this.getInitialTranslation();return this.translate(s,o),mb(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new ho({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#_.bind(this),onPinching:this.#b.bind(this),onPinchEnd:this.#z.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#_(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#b(t,e,a){let o=.7*(a/e)+1-.7;if(o===1)return;const c=this.#R(this.rotation),h=(B,j)=>[c[0]*B+c[2]*j,c[1]*B+c[3]*j],[f,d]=this.parentDimensions,p=this.x,v=this.y,y=this.width,b=this.height,S=ht.MIN_SIZE/f,E=ht.MIN_SIZE/d;o=Math.max(Math.min(o,1/y,1/b),S/y,E/b);const x=ht._round(y*o),w=ht._round(b*o);if(x===y&&w===b)return;this.#g||=[p,v,y,b];const T=h(y/2,b/2),R=ht._round(p+T[0]),L=ht._round(v+T[1]),C=h(x/2,w/2);this.x=R-C[0],this.y=L-C[1],this.width=x,this.height=w,this.setDims(f*x,d*w),this.fixAndSetPosition(),this._onResizing()}#z(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#O()}pointerdown(t){const{isMac:e}=xe.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#d=!0,this._isDraggable){this.#G(t);return}this.#F(t)}#F(t){const{isMac:e}=xe.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#G(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let a=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s),c={capture:!0,passive:!1,signal:o},h=d=>{s.abort(),this.#s=null,this.#d=!1,this._uiManager.endDragSession()||this.#F(d),a&&this._onStopDragging()};e&&(this.#y=t.clientX,this.#A=t.clientY,this.#s=t.pointerId,this.#a=t.pointerType,window.addEventListener("pointermove",d=>{a||(a=!0,this._onStartDragging());const{clientX:p,clientY:v,pointerId:y}=d;if(y!==this.#s){ce(d);return}const[b,S]=this.screenToPageTranslation(p-this.#y,v-this.#A);this.#y=p,this.#A=v,this._uiManager.dragSelectedEditors(b,S)},c),window.addEventListener("touchmove",ce,c),window.addEventListener("pointerdown",d=>{d.pointerType===this.#a&&(this.#E||d.isPrimary)&&h(d),ce(d)},c));const f=d=>{if(!this.#s||this.#s===d.pointerId){h(d);return}ce(d)};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,a){t.changeParent(this),this.x=e,this.y=a,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,a=this.rotation){const s=this.parentScale,[o,c]=this.pageDimensions,[h,f]=this.pageTranslation,d=t/s,p=e/s,v=this.x*o,y=this.y*c,b=this.width*o,S=this.height*c;switch(a){case 0:return[v+d+h,c-y-p-S+f,v+d+b+h,c-y-p+f];case 90:return[v+p+h,c-y+d+f,v+p+S+h,c-y+d+b+f];case 180:return[v-d-b+h,c-y+p+f,v-d+h,c-y+p+S+f];case 270:return[v-p-S+h,c-y-d-b+f,v-p+h,c-y-d+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[a,s,o,c]=t,h=o-a,f=c-s;switch(this.rotation){case 0:return[a,e-c,h,f];case 90:return[a,e-s,f,h];case 180:return[o,e-s,h,f];case 270:return[o,e-c,f,h];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#c=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#c=!1,!0):!1}isInEditMode(){return this.#c}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:a,right:s}=this.getClientDimensions(),{innerHeight:o,innerWidth:c}=window;return e<c&&s>0&&t<o&&a>0}#V(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#V()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){Ut("An editor must be serializable")}static async deserialize(t,e,a){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:a,annotationElementId:t.annotationElementId});s.rotation=t.rotation,s.#t=t.accessibilityData,s._isCopy=t.isCopy||!1;const[o,c]=s.pageDimensions,[h,f,d,p]=s.getRectInCurrentCoords(t.rect,c);return s.x=h/o,s.y=f/c,s.width=d/o,s.height=p/c,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#U(),this.removeEditToolbar(),this.#S){for(const t of this.#S.values())clearTimeout(t);this.#S=null}this.parent=null,this.#E?.destroy(),this.#E=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#r.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#r.children;if(!this.#e){this.#e=Array.from(e);const c=this.#q.bind(this),h=this.#H.bind(this),f=this._uiManager._signal;for(const d of this.#e){const p=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",c,{signal:f}),d.addEventListener("blur",h,{signal:f}),d.addEventListener("focus",this.#k.bind(this,p),{signal:f}),d.setAttribute("data-l10n-id",ht._l10nResizer[p])}}const a=this.#e[0];let s=0;for(const c of e){if(c===a)break;s++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==s){if(o<s)for(let h=0;h<s-o;h++)this.#r.append(this.#r.firstChild);else if(o>s)for(let h=0;h<o-s;h++)this.#r.firstChild.before(this.#r.lastChild);let c=0;for(const h of e){const d=this.#e[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",ht._l10nResizer[d])}}this.#P(0),this.#m=!0,this.#r.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#q(t){ht._resizerKeyboardManager.exec(this,t)}#H(t){this.#m&&t.relatedTarget?.parentNode!==this.#r&&this.#U()}#k(t){this.#u=this.#m?t:""}#P(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#m&&this.#j(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#U(){this.#m=!1,this.#P(-1),this.#O()}_stopResizingWithKeyboard(){this.#U(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#r?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#o=!0;const a=t/e,{style:s}=this.div;s.aspectRatio=a,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#S||=new Map;const{action:a}=t;let s=this.#S.get(a);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),this.#S.delete(a),this.#S.size===0&&(this.#S=null)},ht._telemetryTimeout),this.#S.set(a,s);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const a=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),a.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class rT extends ht{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const o0=3285377520,bn=4294901760,zn=65535;class vb{constructor(t){this.h1=t?t&4294967295:o0,this.h2=t?t&4294967295:o0}update(t){let e,a;if(typeof t=="string"){e=new Uint8Array(t.length*2),a=0;for(let E=0,x=t.length;E<x;E++){const w=t.charCodeAt(E);w<=255?e[a++]=w:(e[a++]=w>>>8,e[a++]=w&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),a=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=a>>2,o=a-s*4,c=new Uint32Array(e.buffer,0,s);let h=0,f=0,d=this.h1,p=this.h2;const v=3432918353,y=461845907,b=v&zn,S=y&zn;for(let E=0;E<s;E++)E&1?(h=c[E],h=h*v&bn|h*b&zn,h=h<<15|h>>>17,h=h*y&bn|h*S&zn,d^=h,d=d<<13|d>>>19,d=d*5+3864292196):(f=c[E],f=f*v&bn|f*b&zn,f=f<<15|f>>>17,f=f*y&bn|f*S&zn,p^=f,p=p<<13|p>>>19,p=p*5+3864292196);switch(h=0,o){case 3:h^=e[s*4+2]<<16;case 2:h^=e[s*4+1]<<8;case 1:h^=e[s*4],h=h*v&bn|h*b&zn,h=h<<15|h>>>17,h=h*y&bn|h*S&zn,s&1?d^=h:p^=h}this.h1=d,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&bn|t*36045&zn,e=e*4283543511&bn|((e<<16|t>>>16)*2950163797&bn)>>>16,t^=e>>>1,t=t*444984403&bn|t*60499&zn,e=e*3301882366&bn|((e<<16|t>>>16)*3120437893&bn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const wf=Object.freeze({map:null,hash:"",transfer:void 0});class sd{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const a=this.#n.get(t);return a===void 0?e:Object.assign(e,a)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof ht)return;this.onAnnotationEditor(null)}}setValue(t,e){const a=this.#n.get(t);let s=!1;if(a!==void 0)for(const[o,c]of Object.entries(e))a[o]!==c&&(s=!0,a[o]=c);else s=!0,this.#n.set(t,e);s&&this.#i(),e instanceof ht&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new yb(this)}get serializable(){if(this.#n.size===0)return wf;const t=new Map,e=new vb,a=[],s=Object.create(null);let o=!1;for(const[c,h]of this.#n){const f=h instanceof ht?h.serialize(!1,s):h;f&&(t.set(c,f),e.update(`${c}:${JSON.stringify(f)}`),o||=!!f.bitmap)}if(o)for(const c of t.values())c.bitmap&&a.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:a}:wf}get editorStats(){let t=null;const e=new Map;for(const a of this.#n.values()){if(!(a instanceof ht))continue;const s=a.telemetryFinalData;if(!s)continue;const{type:o}=s;e.has(o)||e.set(o,Object.getPrototypeOf(a).constructor),t||=Object.create(null);const c=t[o]||=new Map;for(const[h,f]of Object.entries(s)){if(h==="type")continue;let d=c.get(h);d||(d=new Map,c.set(h,d));const p=d.get(f)??0;d.set(f,p+1)}}for(const[a,s]of e)t[a]=s.computeTelemetryFinalData(t[a]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof ht)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class yb extends sd{#t;constructor(t){super();const{map:e,hash:a,transfer:s}=t.serializable,o=structuredClone(e,s?{transfer:s}:null);this.#t={map:o,hash:a,transfer:s}}get print(){Ut("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Rt(this,"modifiedIds",{ids:new Set,hash:""})}}class oT{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:a}){if(!(!t||this.#t.has(t.loadedName))){if(me(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:o,style:c}=t,h=new FontFace(s,o,c);this.addNativeFontFace(h);try{await h.load(),this.#t.add(s),a?.(t)}catch{St(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}Ut("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const a=t.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(s){throw St(`Failed to load font '${a.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const s=this._queueLoadingCallback(a);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Rt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Rt(this,"isSyncFontLoadingSupported",je||xe.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(me(!s.done,"completeRequest() cannot be called twice."),s.done=!0;a.length>0&&a[0].done;){const o=a.shift();setTimeout(o.callback,0)}}const{loadingRequests:a}=this,s={done:!1,complete:e,callback:t};return a.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Rt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function a(L,C){return L.charCodeAt(C)<<24|L.charCodeAt(C+1)<<16|L.charCodeAt(C+2)<<8|L.charCodeAt(C+3)&255}function s(L,C,B,j){const q=L.substring(0,C),X=L.substring(C+B);return q+j+X}let o,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let d=0;function p(L,C){if(++d>30){St("Load test font never loaded."),C();return}if(f.font="30px "+L,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(p.bind(null,L,C))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=s(y,976,v.length,v);const S=16,E=1482184792;let x=a(y,S);for(o=0,c=v.length-3;o<c;o+=4)x=x-E+a(v,o)|0;o<v.length&&(x=x-E+a(v+"XXX",o)|0),y=s(y,S,4,Wx(x));const w=`url(data:font/opentype;base64,${btoa(y)});`,T=`@font-face {font-family:"${v}";src:${w}}`;this.insertRule(T);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const L of[t.loadedName,v]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=L,R.append(C)}this._document.body.append(R),p(v,()=>{R.remove(),e.complete()})}}class lT{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const a in t)this[a]=t[a];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${fb(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const a=this.loadedName+"_path_"+e;let s;try{s=t.get(a)}catch(c){St(`getPathGenerator - ignoring character: "${c}".`)}const o=new Path2D(s||"");return this.fontExtraProperties||t.delete(a),this.compiledGlyphs[e]=o}}function cT(l){if(l instanceof URL)return l.href;if(typeof l=="string"){if(je)return l;const t=URL.parse(l,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function uT(l){if(je&&typeof Buffer<"u"&&l instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength)return l;if(typeof l=="string")return oo(l);if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)||typeof l=="object"&&!isNaN(l?.length))return new Uint8Array(l);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Pl(l){if(typeof l!="string")return null;if(l.endsWith("/"))return l;throw new Error(`Invalid factory url: "${l}" must include trailing slash.`)}const _f=l=>typeof l=="object"&&Number.isInteger(l?.num)&&l.num>=0&&Number.isInteger(l?.gen)&&l.gen>=0,hT=l=>typeof l=="object"&&typeof l?.name=="string",bb=Jx.bind(null,_f,hT);class fT{#t=new Map;#e=Promise.resolve();postMessage(t,e){const a={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[s]of this.#t)s.call(this,a)})}addEventListener(t,e,a=null){let s=null;if(a?.signal instanceof AbortSignal){const{signal:o}=a;if(o.aborted){St("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);s=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}this.#t.set(e,s)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Il={DATA:1,ERROR:2},pe={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function l0(){}function We(l){if(l instanceof mi||l instanceof Zl||l instanceof a0||l instanceof Kr||l instanceof Kh)return l;switch(l instanceof Error||typeof l=="object"&&l!==null||Ut('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new mi(l.message);case"InvalidPDFException":return new Zl(l.message);case"PasswordException":return new a0(l.message,l.code);case"ResponseException":return new Kr(l.message,l.status,l.missing);case"UnknownErrorException":return new Kh(l.message,l.details)}return new Kh(l.message,l.toString())}class Hr{#t=new AbortController;constructor(t,e,a){this.sourceName=t,this.targetName=e,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),a.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const a=t.callbackId,s=this.callbackCapabilities[a];if(!s)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],t.callback===Il.DATA)s.resolve(t.data);else if(t.callback===Il.ERROR)s.reject(We(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const a=this.sourceName,s=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(c){o.postMessage({sourceName:a,targetName:s,callback:Il.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:a,targetName:s,callback:Il.ERROR,callbackId:t.callbackId,reason:We(c)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const a=this.actionHandler;if(a[t])throw new Error(`There is already an actionName called "${t}"`);a[t]=e}send(t,e,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},a)}sendWithPromise(t,e,a){const s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},a)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,e,a,s){const o=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:d=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:d,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:t,streamId:o,data:e,desiredSize:d.desiredSize},s),p.promise},pull:d=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,f.postMessage({sourceName:c,targetName:h,stream:pe.PULL,streamId:o,desiredSize:d.desiredSize}),p.promise},cancel:d=>{me(d instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:pe.CANCEL,streamId:o,reason:We(d)}),p.promise}},a)}#n(t){const e=t.streamId,a=this.sourceName,s=t.sourceName,o=this.comObj,c=this,h=this.actionHandler[t.action],f={enqueue(d,p=1,v){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:a,targetName:s,stream:pe.ENQUEUE,streamId:e,chunk:d},v)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:a,targetName:s,stream:pe.CLOSE,streamId:e}),delete c.streamSinks[e])},error(d){me(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:a,targetName:s,stream:pe.ERROR,streamId:e,reason:We(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,Promise.try(h,t.data,f).then(function(){o.postMessage({sourceName:a,targetName:s,stream:pe.START_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:a,targetName:s,stream:pe.START_COMPLETE,streamId:e,reason:We(d)})})}#i(t){const e=t.streamId,a=this.sourceName,s=t.sourceName,o=this.comObj,c=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case pe.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(We(t.reason));break;case pe.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(We(t.reason));break;case pe.PULL:if(!h){o.postMessage({sourceName:a,targetName:s,stream:pe.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,Promise.try(h.onPull||l0).then(function(){o.postMessage({sourceName:a,targetName:s,stream:pe.PULL_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:a,targetName:s,stream:pe.PULL_COMPLETE,streamId:e,reason:We(d)})});break;case pe.ENQUEUE:if(me(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case pe.CLOSE:if(me(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#s(c,e);break;case pe.ERROR:me(c,"error should have stream controller"),c.controller.error(We(t.reason)),this.#s(c,e);break;case pe.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(We(t.reason)),this.#s(c,e);break;case pe.CANCEL:if(!h)break;const f=We(t.reason);Promise.try(h.onCancel||l0,f).then(function(){o.postMessage({sourceName:a,targetName:s,stream:pe.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:a,targetName:s,stream:pe.CANCEL_COMPLETE,streamId:e,reason:We(d)})}),h.sinkCapability.reject(f),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#s(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class Ab{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(t,e);return{canvas:a,context:a.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,a){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||a<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=a}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ut("Abstract method `_createCanvas` called.")}}class dT extends Ab{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const a=this._document.createElement("canvas");return a.width=t,a.height=e,a}}class Sb{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(a=>({cMapData:a,isCompressed:this.isCompressed})).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Ut("Abstract method `_fetch` called.")}}class c0 extends Sb{async _fetch(t){const e=await ks(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):oo(e)}}class Eb{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,a,s,o){return"none"}destroy(t=!1){}}class gT extends Eb{#t;#e;#n;#i;#s;#a;#o=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#s=e}get#r(){return this.#e||=new Map}get#h(){return this.#a||=new Map}get#l(){if(!this.#n){const t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const a=this.#s.createElementNS(ci,"svg");a.setAttribute("width",0),a.setAttribute("height",0),this.#n=this.#s.createElementNS(ci,"defs"),t.append(a),a.append(this.#n),this.#s.body.append(t)}return this.#n}#f(t){if(t.length===1){const f=t[0],d=new Array(256);for(let v=0;v<256;v++)d[v]=f[v]/255;const p=d.join(",");return[p,p,p]}const[e,a,s]=t,o=new Array(256),c=new Array(256),h=new Array(256);for(let f=0;f<256;f++)o[f]=e[f]/255,c[f]=a[f]/255,h[f]=s[f]/255;return[o.join(","),c.join(","),h.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#s.URL;e!==this.#s.baseURI&&(co(e)?St('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Zf(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#r.get(t);if(e)return e;const[a,s,o]=this.#f(t),c=t.length===1?a:`${a}${s}${o}`;if(e=this.#r.get(c),e)return this.#r.set(t,e),e;const h=`g_${this.#i}_transfer_map_${this.#o++}`,f=this.#u(h);this.#r.set(t,f),this.#r.set(c,f);const d=this.#p(h);return this.#m(a,s,o,d),f}addHCMFilter(t,e){const a=`${t}-${e}`,s="base";let o=this.#h.get(s);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#h.set(s,o)),!t||!e))return o.url;const c=this.#y(t);t=ct.makeHexColor(...c);const h=this.#y(e);if(e=ct.makeHexColor(...h),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const f=new Array(256);for(let b=0;b<=255;b++){const S=b/255;f[b]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const d=f.join(","),p=`g_${this.#i}_hcm_filter`,v=o.filter=this.#p(p);this.#m(d,d,d,v),this.#g(v);const y=(b,S)=>{const E=c[b]/255,x=h[b]/255,w=new Array(S+1);for(let T=0;T<=S;T++)w[T]=E+T/S*(x-E);return w.join(",")};return this.#m(y(0,5),y(1,5),y(2,5),v),o.url=this.#u(p),o.url}addAlphaFilter(t){let e=this.#r.get(t);if(e)return e;const[a]=this.#f([t]),s=`alpha_${a}`;if(e=this.#r.get(s),e)return this.#r.set(t,e),e;const o=`g_${this.#i}_alpha_map_${this.#o++}`,c=this.#u(o);this.#r.set(t,c),this.#r.set(s,c);const h=this.#p(o);return this.#v(a,h),c}addLuminosityFilter(t){let e=this.#r.get(t||"luminosity");if(e)return e;let a,s;if(t?([a]=this.#f([t]),s=`luminosity_${a}`):s="luminosity",e=this.#r.get(s),e)return this.#r.set(t,e),e;const o=`g_${this.#i}_luminosity_map_${this.#o++}`,c=this.#u(o);this.#r.set(t,c),this.#r.set(s,c);const h=this.#p(o);return this.#d(h),t&&this.#v(a,h),c}addHighlightHCMFilter(t,e,a,s,o){const c=`${e}-${a}-${s}-${o}`;let h=this.#h.get(t);if(h?.key===c||(h?(h.filter?.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},this.#h.set(t,h)),!e||!a))return h.url;const[f,d]=[e,a].map(this.#y.bind(this));let p=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),v=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[y,b]=[s,o].map(this.#y.bind(this));v<p&&([p,v,y,b]=[v,p,b,y]),this.#l.style.color="";const S=(w,T,R)=>{const L=new Array(256),C=(v-p)/R,B=w/255,j=(T-w)/(255*R);let q=0;for(let X=0;X<=R;X++){const J=Math.round(p+X*C),tt=B+X*j;for(let lt=q;lt<=J;lt++)L[lt]=tt;q=J+1}for(let X=q;X<256;X++)L[X]=L[q-1];return L.join(",")},E=`g_${this.#i}_hcm_${t}_filter`,x=h.filter=this.#p(E);return this.#g(x),this.#m(S(y[0],b[0],5),S(y[1],b[1],5),S(y[2],b[2],5),x),h.url=this.#u(E),h.url}destroy(t=!1){t&&this.#a?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#a?.clear(),this.#a=null,this.#o=0)}#d(t){const e=this.#s.createElementNS(ci,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#s.createElementNS(ci,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#s.createElementNS(ci,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#c(t,e,a){const s=this.#s.createElementNS(ci,e);s.setAttribute("type","discrete"),s.setAttribute("tableValues",a),t.append(s)}#m(t,e,a,s){const o=this.#s.createElementNS(ci,"feComponentTransfer");s.append(o),this.#c(o,"feFuncR",t),this.#c(o,"feFuncG",e),this.#c(o,"feFuncB",a)}#v(t,e){const a=this.#s.createElementNS(ci,"feComponentTransfer");e.append(a),this.#c(a,"feFuncA",t)}#y(t){return this.#l.style.color=t,nd(getComputedStyle(this.#l).getPropertyValue("color"))}}class wb{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(a=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Ut("Abstract method `_fetch` called.")}}class u0 extends wb{async _fetch(t){const e=await ks(t,"arraybuffer");return new Uint8Array(e)}}class _b{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(a=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Ut("Abstract method `_fetch` called.")}}class h0 extends _b{async _fetch(t){const e=await ks(t,"arraybuffer");return new Uint8Array(e)}}je&&St("Please use the `legacy` build in Node.js environments.");async function rd(l){const e=await process.getBuiltinModule("fs").promises.readFile(l);return new Uint8Array(e)}class pT extends Eb{}class mT extends Ab{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class vT extends Sb{async _fetch(t){return rd(t)}}class yT extends wb{async _fetch(t){return rd(t)}}class bT extends _b{async _fetch(t){return rd(t)}}const De={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xf(l,t){if(!t)return;const e=t[2]-t[0],a=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,a),l.clip(s)}class od{isModifyingCurrentTransform(){return!1}getPattern(){Ut("Abstract method `getPattern` called.")}}class AT extends od{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)e.addColorStop(a[0],a[1]);return e}getPattern(t,e,a,s){let o;if(s===De.STROKE||s===De.FILL){const c=e.current.getClippedPathBoundingBox(s,Zt(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,d=e.cachedCanvases.getCanvas("pattern",h,f),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-c[0],-c[1]),a=ct.transform(a,[1,0,0,1,c[0],c[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),xf(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(d.canvas,"no-repeat");const v=new DOMMatrix(a);o.setTransform(v)}else xf(t,this._bbox),o=this._createGradient(t);return o}}function Jh(l,t,e,a,s,o,c,h){const f=t.coords,d=t.colors,p=l.data,v=l.width*4;let y;f[e+1]>f[a+1]&&(y=e,e=a,a=y,y=o,o=c,c=y),f[a+1]>f[s+1]&&(y=a,a=s,s=y,y=c,c=h,h=y),f[e+1]>f[a+1]&&(y=e,e=a,a=y,y=o,o=c,c=y);const b=(f[e]+t.offsetX)*t.scaleX,S=(f[e+1]+t.offsetY)*t.scaleY,E=(f[a]+t.offsetX)*t.scaleX,x=(f[a+1]+t.offsetY)*t.scaleY,w=(f[s]+t.offsetX)*t.scaleX,T=(f[s+1]+t.offsetY)*t.scaleY;if(S>=T)return;const R=d[o],L=d[o+1],C=d[o+2],B=d[c],j=d[c+1],q=d[c+2],X=d[h],J=d[h+1],tt=d[h+2],lt=Math.round(S),pt=Math.round(T);let st,yt,O,G,et,bt,D,Y;for(let Q=lt;Q<=pt;Q++){if(Q<x){const Et=Q<S?0:(S-Q)/(S-x);st=b-(b-E)*Et,yt=R-(R-B)*Et,O=L-(L-j)*Et,G=C-(C-q)*Et}else{let Et;Q>T?Et=1:x===T?Et=0:Et=(x-Q)/(x-T),st=E-(E-w)*Et,yt=B-(B-X)*Et,O=j-(j-J)*Et,G=q-(q-tt)*Et}let K;Q<S?K=0:Q>T?K=1:K=(S-Q)/(S-T),et=b-(b-w)*K,bt=R-(R-X)*K,D=L-(L-J)*K,Y=C-(C-tt)*K;const nt=Math.round(Math.min(st,et)),vt=Math.round(Math.max(st,et));let rt=v*Q+nt*4;for(let Et=nt;Et<=vt;Et++)K=(st-Et)/(st-et),K<0?K=0:K>1&&(K=1),p[rt++]=yt-(yt-bt)*K|0,p[rt++]=O-(O-D)*K|0,p[rt++]=G-(G-Y)*K|0,p[rt++]=255}}function ST(l,t,e){const a=t.coords,s=t.colors;let o,c;switch(t.type){case"lattice":const h=t.verticesPerRow,f=Math.floor(a.length/h)-1,d=h-1;for(o=0;o<f;o++){let p=o*h;for(let v=0;v<d;v++,p++)Jh(l,e,a[p],a[p+1],a[p+h],s[p],s[p+1],s[p+h]),Jh(l,e,a[p+h+1],a[p+1],a[p+h],s[p+h+1],s[p+1],s[p+h])}break;case"triangles":for(o=0,c=a.length;o<c;o+=3)Jh(l,e,a[o],a[o+1],a[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}class ET extends od{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,a){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-h,p=Math.ceil(this._bounds[3])-f,v=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),b=d/v,S=p/y,E={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/b,scaleY:1/S},x=v+4,w=y+4,T=a.getCanvas("mesh",x,w),R=T.context,L=R.createImageData(v,y);if(e){const B=L.data;for(let j=0,q=B.length;j<q;j+=4)B[j]=e[0],B[j+1]=e[1],B[j+2]=e[2],B[j+3]=255}for(const B of this._figures)ST(L,B,E);return R.putImageData(L,2,2),{canvas:T.canvas,offsetX:h-2*b,offsetY:f-2*S,scaleX:b,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(t,e,a,s){xf(t,this._bbox);const o=new Float32Array(2);if(s===De.SHADING)ct.singularValueDecompose2dScale(Zt(t),o);else if(this.matrix){ct.singularValueDecompose2dScale(this.matrix,o);const[h,f]=o;ct.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=h,o[1]*=f}else ct.singularValueDecompose2dScale(e.baseTransform,o);const c=this._createMeshCanvas(o,s===De.SHADING?null:this._background,e.cachedCanvases);return s!==De.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class wT extends od{getPattern(){return"hotpink"}}function _T(l){switch(l[0]){case"RadialAxial":return new AT(l);case"Mesh":return new ET(l);case"Dummy":return new wT}throw new Error(`Unknown IR type: ${l[0]}`)}const f0={COLORED:1,UNCOLORED:2};class ld{static MAX_PATTERN_SIZE=3e3;constructor(t,e,a,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=a,this.baseTransform=s}createPatternCanvas(t){const{bbox:e,operatorList:a,paintType:s,tilingType:o,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:d}=this;f=Math.abs(f),d=Math.abs(d),uc("TilingType: "+o);const p=e[0],v=e[1],y=e[2],b=e[3],S=y-p,E=b-v,x=new Float32Array(2);ct.singularValueDecompose2dScale(this.matrix,x);const[w,T]=x;ct.singularValueDecompose2dScale(this.baseTransform,x);const R=w*x[0],L=T*x[1];let C=S,B=E,j=!1,q=!1;const X=Math.ceil(f*R),J=Math.ceil(d*L),tt=Math.ceil(S*R),lt=Math.ceil(E*L);X>=tt?C=f:j=!0,J>=lt?B=d:q=!0;const pt=this.getSizeAndScale(C,this.ctx.canvas.width,R),st=this.getSizeAndScale(B,this.ctx.canvas.height,L),yt=t.cachedCanvases.getCanvas("pattern",pt.size,st.size),O=yt.context,G=h.createCanvasGraphics(O);if(G.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(G,s,c),O.translate(-pt.scale*p,-st.scale*v),G.transform(pt.scale,0,0,st.scale,0,0),O.save(),this.clipBbox(G,p,v,y,b),G.baseTransform=Zt(G.ctx),G.executeOperatorList(a),G.endDrawing(),O.restore(),j||q){const et=yt.canvas;j&&(C=f),q&&(B=d);const bt=this.getSizeAndScale(C,this.ctx.canvas.width,R),D=this.getSizeAndScale(B,this.ctx.canvas.height,L),Y=bt.size,Q=D.size,K=t.cachedCanvases.getCanvas("pattern-workaround",Y,Q),nt=K.context,vt=j?Math.floor(S/f):0,rt=q?Math.floor(E/d):0;for(let Et=0;Et<=vt;Et++)for(let Dt=0;Dt<=rt;Dt++)nt.drawImage(et,Y*Et,Q*Dt,Y,Q,0,0,Y,Q);return{canvas:K.canvas,scaleX:bt.scale,scaleY:D.scale,offsetX:p,offsetY:v}}return{canvas:yt.canvas,scaleX:pt.scale,scaleY:st.scale,offsetX:p,offsetY:v}}getSizeAndScale(t,e,a){const s=Math.max(ld.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*a);return o>=s?o=s:a=o/t,{scale:a,size:o}}clipBbox(t,e,a,s,o){const c=s-e,h=o-a;t.ctx.rect(e,a,c,h),ct.axialAlignedBoundingBox([e,a,s,o],Zt(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,a){const s=t.ctx,o=t.current;switch(e){case f0.COLORED:const{fillStyle:c,strokeStyle:h}=this.ctx;s.fillStyle=o.fillColor=c,s.strokeStyle=o.strokeColor=h;break;case f0.UNCOLORED:s.fillStyle=s.strokeStyle=a,o.fillColor=o.strokeColor=a;break;default:throw new Xx(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,a,s){let o=a;s!==De.SHADING&&(o=ct.transform(o,e.baseTransform),this.matrix&&(o=ct.transform(o,this.matrix)));const c=this.createPatternCanvas(e);let h=new DOMMatrix(o);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(h),f}}function xT({src:l,srcPos:t=0,dest:e,width:a,height:s,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const h=xe.isLittleEndian?4278190080:255,[f,d]=c?[o,h]:[h,o],p=a>>3,v=a&7,y=l.length;e=new Uint32Array(e.buffer);let b=0;for(let S=0;S<s;S++){for(const x=t+p;t<x;t++){const w=t<y?l[t]:255;e[b++]=w&128?d:f,e[b++]=w&64?d:f,e[b++]=w&32?d:f,e[b++]=w&16?d:f,e[b++]=w&8?d:f,e[b++]=w&4?d:f,e[b++]=w&2?d:f,e[b++]=w&1?d:f}if(v===0)continue;const E=t<y?l[t++]:255;for(let x=0;x<v;x++)e[b++]=E&1<<7-x?d:f}return{srcPos:t,destPos:b}}const d0=16,g0=100,TT=15,p0=10,Ke=16,tf=new DOMMatrix,ln=new Float32Array(2),Ss=new Float32Array([1/0,1/0,-1/0,-1/0]);function CT(l,t){if(l._removeMirroring)throw new Error("Context is already forwarding operations.");l.__originalSave=l.save,l.__originalRestore=l.restore,l.__originalRotate=l.rotate,l.__originalScale=l.scale,l.__originalTranslate=l.translate,l.__originalTransform=l.transform,l.__originalSetTransform=l.setTransform,l.__originalResetTransform=l.resetTransform,l.__originalClip=l.clip,l.__originalMoveTo=l.moveTo,l.__originalLineTo=l.lineTo,l.__originalBezierCurveTo=l.bezierCurveTo,l.__originalRect=l.rect,l.__originalClosePath=l.closePath,l.__originalBeginPath=l.beginPath,l._removeMirroring=()=>{l.save=l.__originalSave,l.restore=l.__originalRestore,l.rotate=l.__originalRotate,l.scale=l.__originalScale,l.translate=l.__originalTranslate,l.transform=l.__originalTransform,l.setTransform=l.__originalSetTransform,l.resetTransform=l.__originalResetTransform,l.clip=l.__originalClip,l.moveTo=l.__originalMoveTo,l.lineTo=l.__originalLineTo,l.bezierCurveTo=l.__originalBezierCurveTo,l.rect=l.__originalRect,l.closePath=l.__originalClosePath,l.beginPath=l.__originalBeginPath,delete l._removeMirroring},l.save=function(){t.save(),this.__originalSave()},l.restore=function(){t.restore(),this.__originalRestore()},l.translate=function(e,a){t.translate(e,a),this.__originalTranslate(e,a)},l.scale=function(e,a){t.scale(e,a),this.__originalScale(e,a)},l.transform=function(e,a,s,o,c,h){t.transform(e,a,s,o,c,h),this.__originalTransform(e,a,s,o,c,h)},l.setTransform=function(e,a,s,o,c,h){t.setTransform(e,a,s,o,c,h),this.__originalSetTransform(e,a,s,o,c,h)},l.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},l.rotate=function(e){t.rotate(e),this.__originalRotate(e)},l.clip=function(e){t.clip(e),this.__originalClip(e)},l.moveTo=function(e,a){t.moveTo(e,a),this.__originalMoveTo(e,a)},l.lineTo=function(e,a){t.lineTo(e,a),this.__originalLineTo(e,a)},l.bezierCurveTo=function(e,a,s,o,c,h){t.bezierCurveTo(e,a,s,o,c,h),this.__originalBezierCurveTo(e,a,s,o,c,h)},l.rect=function(e,a,s,o){t.rect(e,a,s,o),this.__originalRect(e,a,s,o)},l.closePath=function(){t.closePath(),this.__originalClosePath()},l.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class RT{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,a){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,a)):(s=this.canvasFactory.create(e,a),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function zl(l,t,e,a,s,o,c,h,f,d){const[p,v,y,b,S,E]=Zt(l);if(v===0&&y===0){const T=c*p+S,R=Math.round(T),L=h*b+E,C=Math.round(L),B=(c+f)*p+S,j=Math.abs(Math.round(B)-R)||1,q=(h+d)*b+E,X=Math.abs(Math.round(q)-C)||1;return l.setTransform(Math.sign(p),0,0,Math.sign(b),R,C),l.drawImage(t,e,a,s,o,0,0,j,X),l.setTransform(p,v,y,b,S,E),[j,X]}if(p===0&&b===0){const T=h*y+S,R=Math.round(T),L=c*v+E,C=Math.round(L),B=(h+d)*y+S,j=Math.abs(Math.round(B)-R)||1,q=(c+f)*v+E,X=Math.abs(Math.round(q)-C)||1;return l.setTransform(0,Math.sign(v),Math.sign(y),0,R,C),l.drawImage(t,e,a,s,o,0,0,X,j),l.setTransform(p,v,y,b,S,E),[X,j]}l.drawImage(t,e,a,s,o,c,h,f,d);const x=Math.hypot(p,v),w=Math.hypot(y,b);return[x*f,w*d]}class m0{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Ef;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Pe.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Ss.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=De.FILL,e=null){const a=this.minMax.slice();if(t===De.STROKE){e||Ut("Stroke bounding box must include transform."),ct.singularValueDecompose2dScale(e,ln);const s=ln[0]*this.lineWidth/2,o=ln[1]*this.lineWidth/2;a[0]-=s,a[1]-=o,a[2]+=s,a[3]+=o}return a}updateClipFromPath(){const t=ct.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Ss,0)}getClippedPathBoundingBox(t=De.FILL,e=null){return ct.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function v0(l,t){if(t instanceof ImageData){l.putImageData(t,0,0);return}const e=t.height,a=t.width,s=e%Ke,o=(e-s)/Ke,c=s===0?o:o+1,h=l.createImageData(a,Ke);let f=0,d;const p=t.data,v=h.data;let y,b,S,E;if(t.kind===qr.GRAYSCALE_1BPP){const x=p.byteLength,w=new Uint32Array(v.buffer,0,v.byteLength>>2),T=w.length,R=a+7>>3,L=4294967295,C=xe.isLittleEndian?4278190080:255;for(y=0;y<c;y++){for(S=y<o?Ke:s,d=0,b=0;b<S;b++){const B=x-f;let j=0;const q=B>R?a:B*8-7,X=q&-8;let J=0,tt=0;for(;j<X;j+=8)tt=p[f++],w[d++]=tt&128?L:C,w[d++]=tt&64?L:C,w[d++]=tt&32?L:C,w[d++]=tt&16?L:C,w[d++]=tt&8?L:C,w[d++]=tt&4?L:C,w[d++]=tt&2?L:C,w[d++]=tt&1?L:C;for(;j<q;j++)J===0&&(tt=p[f++],J=128),w[d++]=tt&J?L:C,J>>=1}for(;d<T;)w[d++]=0;l.putImageData(h,0,y*Ke)}}else if(t.kind===qr.RGBA_32BPP){for(b=0,E=a*Ke*4,y=0;y<o;y++)v.set(p.subarray(f,f+E)),f+=E,l.putImageData(h,0,b),b+=Ke;y<c&&(E=a*s*4,v.set(p.subarray(f,f+E)),l.putImageData(h,0,b))}else if(t.kind===qr.RGB_24BPP)for(S=Ke,E=a*S,y=0;y<c;y++){for(y>=o&&(S=s,E=a*S),d=0,b=E;b--;)v[d++]=p[f++],v[d++]=p[f++],v[d++]=p[f++],v[d++]=255;l.putImageData(h,0,y*Ke)}else throw new Error(`bad image kind: ${t.kind}`)}function y0(l,t){if(t.bitmap){l.drawImage(t.bitmap,0,0);return}const e=t.height,a=t.width,s=e%Ke,o=(e-s)/Ke,c=s===0?o:o+1,h=l.createImageData(a,Ke);let f=0;const d=t.data,p=h.data;for(let v=0;v<c;v++){const y=v<o?Ke:s;({srcPos:f}=xT({src:d,srcPos:f,dest:p,width:a,height:y,nonBlackColor:0})),l.putImageData(h,0,v*Ke)}}function Pr(l,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of e)l[a]!==void 0&&(t[a]=l[a]);l.setLineDash!==void 0&&(t.setLineDash(l.getLineDash()),t.lineDashOffset=l.lineDashOffset)}function Fl(l){l.strokeStyle=l.fillStyle="#000000",l.fillRule="nonzero",l.globalAlpha=1,l.lineWidth=1,l.lineCap="butt",l.lineJoin="miter",l.miterLimit=10,l.globalCompositeOperation="source-over",l.font="10px sans-serif",l.setLineDash!==void 0&&(l.setLineDash([]),l.lineDashOffset=0);const{filter:t}=l;t!=="none"&&t!==""&&(l.filter="none")}function b0(l,t){if(t)return!0;ct.singularValueDecompose2dScale(l,ln);const e=Math.fround(Rn.pixelRatio*xa.PDF_TO_CSS_UNITS);return ln[0]<=e&&ln[1]<=e}const MT=["butt","round","square"],DT=["miter","round","bevel"],LT={},A0={};class _s{constructor(t,e,a,s,o,{optionalContentConfig:c,markedContentStack:h=null},f,d){this.ctx=t,this.current=new m0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=a,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new RT(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:a=!1,background:s=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=h,a){const f=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...Zt(this.compositeCtx))}this.ctx.save(),Fl(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Zt(this.ctx)}executeOperatorList(t,e,a,s){const o=t.argsArray,c=t.fnArray;let h=e||0;const f=o.length;if(f===h)return h;const d=f-h>p0&&typeof a=="function",p=d?Date.now()+TT:0;let v=0;const y=this.commonObjs,b=this.objs;let S;for(;;){if(s!==void 0&&h===s.nextBreakPoint)return s.breakIt(h,a),h;if(S=c[h],S!==Wr.dependency)this[S].apply(this,o[h]);else for(const E of o[h]){const x=E.startsWith("g_")?y:b;if(!x.has(E))return x.get(E,a),h}if(h++,h===f)return h;if(d&&++v>p0){if(Date.now()>p)return a(),h;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const a=t.width??t.displayWidth,s=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=a,f=s,d="prescale1",p,v;for(;o>2&&h>1||c>2&&f>1;){let y=h,b=f;o>2&&h>1&&(y=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/y),c>2&&f>1&&(b=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/b),p=this.cachedCanvases.getCanvas(d,y,b),v=p.context,v.clearRect(0,0,y,b),v.drawImage(t,0,0,h,f,0,0,y,b),t=p.canvas,h=y,f=b,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:a,height:s}=t,o=this.current.fillColor,c=this.current.patternFill,h=Zt(e);let f,d,p,v;if((t.bitmap||t.data)&&t.count>1){const X=t.bitmap||t.data.buffer;d=JSON.stringify(c?h:[h.slice(0,4),o]),f=this._cachedBitmapsMap.get(X),f||(f=new Map,this._cachedBitmapsMap.set(X,f));const J=f.get(d);if(J&&!c){const tt=Math.round(Math.min(h[0],h[2])+h[4]),lt=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:J,offsetX:tt,offsetY:lt}}p=J}p||(v=this.cachedCanvases.getCanvas("maskCanvas",a,s),y0(v.context,t));let y=ct.transform(h,[1/a,0,0,-1/s,0,0]);y=ct.transform(y,[1,0,0,1,0,-s]);const b=Ss.slice();ct.axialAlignedBoundingBox([0,0,a,s],y,b);const[S,E,x,w]=b,T=Math.round(x-S)||1,R=Math.round(w-E)||1,L=this.cachedCanvases.getCanvas("fillCanvas",T,R),C=L.context,B=S,j=E;C.translate(-B,-j),C.transform(...y),p||(p=this._scaleImage(v.canvas,In(C)),p=p.img,f&&c&&f.set(d,p)),C.imageSmoothingEnabled=b0(Zt(C),t.interpolate),zl(C,p,0,0,p.width,p.height,0,0,a,s),C.globalCompositeOperation="source-in";const q=ct.transform(In(C),[1,0,0,1,-B,-j]);return C.fillStyle=c?o.getPattern(e,this,q,De.FILL):o,C.fillRect(0,0,a,s),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(d,L.canvas)),{canvas:L.canvas,offsetX:Math.round(B),offsetY:Math.round(j)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=MT[t]}setLineJoin(t){this.ctx.lineJoin=DT[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(t),a.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,a]of t)switch(e){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(a,t,e);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),Pr(this.suspendedCtx,o),CT(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Pr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,a=this.suspendedCtx;this.composeSMask(a,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,a,s){const o=s[0],c=s[1],h=s[2]-o,f=s[3]-c;h===0||f===0||(this.genericComposeSMask(e.context,a,h,f,e.subtype,e.backdrop,e.transferMap,o,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(a.canvas,0,0),t.restore())}genericComposeSMask(t,e,a,s,o,c,h,f,d,p,v){let y=t.canvas,b=f-p,S=d-v;if(c)if(b<0||S<0||b+a>y.width||S+s>y.height){const x=this.cachedCanvases.getCanvas("maskExtension",a,s),w=x.context;w.drawImage(y,-b,-S),w.globalCompositeOperation="destination-atop",w.fillStyle=c,w.fillRect(0,0,a,s),w.globalCompositeOperation="source-over",y=x.canvas,b=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(b,S,a,s),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(b,S,a,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const E=new Path2D;E.rect(f,d,a,s),e.clip(E),e.globalCompositeOperation="destination-in",e.drawImage(y,b,S,a,s,f,d,a,s),e.restore()}save(){this.inSMaskMode&&Pr(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Pr(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,a,s,o,c){this.ctx.transform(t,e,a,s,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,a){let[s]=e;if(!a){s||=e[0]=new Path2D,this[t](s);return}if(!(s instanceof Path2D)){const o=e[0]=new Path2D;for(let c=0,h=s.length;c<h;)switch(s[c++]){case kl.moveTo:o.moveTo(s[c++],s[c++]);break;case kl.lineTo:o.lineTo(s[c++],s[c++]);break;case kl.curveTo:o.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]);break;case kl.closePath:o.closePath();break;default:St(`Unrecognized drawing path operator: ${s[c-1]}`);break}s=o}ct.axialAlignedBoundingBox(a,Zt(this.ctx),this.current.minMax),this[t](s)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const a=this.ctx,s=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const o=s.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=s.getPattern(a,this,In(a),De.STROKE),o){const c=new Path2D;c.addPath(t,a.getTransform().invertSelf().multiplySelf(o)),t=c}this.rescaleAndStroke(t,!1),a.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(De.STROKE,Zt(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const a=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let c=!1;if(o){const f=s.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.fillStyle=s.getPattern(a,this,In(a),De.FILL),f){const d=new Path2D;d.addPath(t,a.getTransform().invertSelf().multiplySelf(f)),t=d}c=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(a.fill(t,"evenodd"),this.pendingEOFill=!1):a.fill(t)),c&&a.restore(),e&&this.consumePath(t,h)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=LT}eoClip(){this.pendingClip=A0}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const a=new Path2D,s=e.getTransform().invertSelf();for(const{transform:o,x:c,y:h,fontSize:f,path:d}of t)a.addPath(d,new DOMMatrix(o).preMultiplySelf(s).translate(c,h).scale(f,-f));e.clip(a),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const a=this.commonObjs.get(t),s=this.current;if(!a)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=a.fontMatrix||Ef,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&St("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=a,this.current.fontSize=e,a.isType3Font)return;const o=a.loadedName||"sans-serif",c=a.systemFontInfo?.css||`"${o}", ${a.fallbackName}`;let h="normal";a.black?h="900":a.bold&&(h="bold");const f=a.italic?"italic":"normal";let d=e;e<d0?d=d0:e>g0&&(d=g0),this.current.fontSizeScale=e/d,this.ctx.font=`${f} ${h} ${d}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,a){const s=new Path2D;return s.addPath(t,new DOMMatrix(a).invertSelf().multiplySelf(e)),s}paintChar(t,e,a,s,o){const c=this.ctx,h=this.current,f=h.font,d=h.textRenderingMode,p=h.fontSize/h.fontSizeScale,v=d&Pe.FILL_STROKE_MASK,y=!!(d&Pe.ADD_TO_PATH_FLAG),b=h.patternFill&&!f.missingFile,S=h.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||y||b||S)&&(E=f.getPathGenerator(this.commonObjs,t)),f.disableFontFace||b||S){c.save(),c.translate(e,a),c.scale(p,-p);let x;if((v===Pe.FILL||v===Pe.FILL_STROKE)&&(s?(x=c.getTransform(),c.setTransform(...s),c.fill(this.#n(E,x,s))):c.fill(E)),v===Pe.STROKE||v===Pe.FILL_STROKE)if(o){x||=c.getTransform(),c.setTransform(...o);const{a:w,b:T,c:R,d:L}=x,C=ct.inverseTransform(o),B=ct.transform([w,T,R,L,0,0],C);ct.singularValueDecompose2dScale(B,ln),c.lineWidth*=Math.max(ln[0],ln[1])/p,c.stroke(this.#n(E,x,o))}else c.lineWidth/=p,c.stroke(E);c.restore()}else(v===Pe.FILL||v===Pe.FILL_STROKE)&&c.fillText(t,e,a),(v===Pe.STROKE||v===Pe.FILL_STROKE)&&c.strokeText(t,e,a);y&&(this.pendingTextPaths||=[]).push({transform:Zt(c),x:e,y:a,fontSize:p,path:E})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let a=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){a=!0;break}return Rt(this,"isFontSubpixelAAEnabled",a)}showText(t){const e=this.current,a=e.font;if(a.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const o=this.ctx,c=e.fontSizeScale,h=e.charSpacing,f=e.wordSpacing,d=e.fontDirection,p=e.textHScale*d,v=t.length,y=a.vertical,b=y?1:-1,S=a.defaultVMetrics,E=s*e.fontMatrix[0],x=e.textRenderingMode===Pe.FILL&&!a.disableFontFace&&!e.patternFill;o.save(),e.textMatrix&&o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),d>0?o.scale(p,-1):o.scale(p,1);let w,T;if(e.patternFill){o.save();const j=e.fillColor.getPattern(o,this,In(o),De.FILL);w=Zt(o),o.restore(),o.fillStyle=j}if(e.patternStroke){o.save();const j=e.strokeColor.getPattern(o,this,In(o),De.STROKE);T=Zt(o),o.restore(),o.strokeStyle=j}let R=e.lineWidth;const L=e.textMatrixScale;if(L===0||R===0){const j=e.textRenderingMode&Pe.FILL_STROKE_MASK;(j===Pe.STROKE||j===Pe.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=L;if(c!==1&&(o.scale(c,c),R/=c),o.lineWidth=R,a.isInvalidPDFjsFont){const j=[];let q=0;for(const X of t)j.push(X.unicode),q+=X.width;o.fillText(j.join(""),0,0),e.x+=q*E*p,o.restore(),this.compose();return}let C=0,B;for(B=0;B<v;++B){const j=t[B];if(typeof j=="number"){C+=b*j*s/1e3;continue}let q=!1;const X=(j.isSpace?f:0)+h,J=j.fontChar,tt=j.accent;let lt,pt,st=j.width;if(y){const O=j.vmetric||S,G=-(j.vmetric?O[1]:st*.5)*E,et=O[2]*E;st=O?-O[0]:st,lt=G/c,pt=(C+et)/c}else lt=C/c,pt=0;if(a.remeasure&&st>0){const O=o.measureText(J).width*1e3/s*c;if(st<O&&this.isFontSubpixelAAEnabled){const G=st/O;q=!0,o.save(),o.scale(G,1),lt/=G}else st!==O&&(lt+=(st-O)/2e3*s/c)}if(this.contentVisible&&(j.isInFont||a.missingFile)){if(x&&!tt)o.fillText(J,lt,pt);else if(this.paintChar(J,lt,pt,w,T),tt){const O=lt+s*tt.offset.x/c,G=pt-s*tt.offset.y/c;this.paintChar(tt.fontChar,O,G,w,T)}}const yt=y?st*E-X*d:st*E+X*d;C+=yt,q&&o.restore()}y?e.y-=C:e.x+=C*p,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,a=this.current,s=a.font,o=a.fontSize,c=a.fontDirection,h=s.vertical?1:-1,f=a.charSpacing,d=a.wordSpacing,p=a.textHScale*c,v=a.fontMatrix||Ef,y=t.length,b=a.textRenderingMode===Pe.INVISIBLE;let S,E,x,w;if(!(b||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),a.textMatrix&&e.transform(...a.textMatrix),e.translate(a.x,a.y+a.textRise),e.scale(p,c),S=0;S<y;++S){if(E=t[S],typeof E=="number"){w=h*E*o/1e3,this.ctx.translate(w,0),a.x+=w*p;continue}const T=(E.isSpace?d:0)+f,R=s.charProcOperatorList[E.operatorListId];R?this.contentVisible&&(this.save(),e.scale(o,o),e.transform(...v),this.executeOperatorList(R),this.restore()):St(`Type3 character "${E.operatorListId}" is not available.`);const L=[E.width,0];ct.applyTransform(L,v),x=L[0]*o+T,e.translate(x,0),a.x+=x*p}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,a,s,o,c){const h=new Path2D;h.rect(a,s,o-a,c-s),this.ctx.clip(h),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const a=this.baseTransform||Zt(this.ctx),s={createCanvasGraphics:o=>new _s(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new ld(t,this.ctx,s,a)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let a;return this.cachedPatterns.has(t)?a=this.cachedPatterns.get(t):(a=_T(this.getObject(t)),this.cachedPatterns.set(t,a)),e&&(a.matrix=e),a}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const a=this._getPattern(t);e.fillStyle=a.getPattern(e,this,In(e),De.SHADING);const s=In(e);if(s){const{width:o,height:c}=e.canvas,h=Ss.slice();ct.axialAlignedBoundingBox([0,0,o,c],s,h);const[f,d,p,v]=h;this.ctx.fillRect(f,d,p-f,v-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ut("Should not call beginInlineImage")}beginImageData(){Ut("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Zt(this.ctx),e)){ct.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[a,s,o,c]=e,h=new Path2D;h.rect(a,s,o-a,c-s),this.ctx.clip(h),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||uc("TODO: Support non-isolated groups."),t.knockout&&St("Knockout groups not supported.");const a=Zt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Ss.slice();ct.axialAlignedBoundingBox(t.bbox,Zt(e),s);const o=[0,0,e.canvas.width,e.canvas.height];s=ct.intersect(s,o)||[0,0,0,0];const c=Math.floor(s[0]),h=Math.floor(s[1]),f=Math.max(Math.ceil(s[2])-c,1),d=Math.max(Math.ceil(s[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,d]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(p,f,d),y=v.context;y.translate(-c,-h),y.transform(...a);let b=new Path2D;const[S,E,x,w]=t.bbox;if(b.rect(S,E,x-S,w-E),t.matrix){const T=new Path2D;T.addPath(b,new DOMMatrix(t.matrix)),b=T}y.clip(b),t.smask?this.smaskStack.push({canvas:v.canvas,context:y,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,h),e.save()),Pr(e,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Zt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const o=Ss.slice();ct.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s,o),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,a,s,o){if(this.#t(),Fl(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],h=e[3]-e[1];if(o&&this.annotationCanvasMap){a=a.slice(),a[4]-=e[0],a[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=h,ct.singularValueDecompose2dScale(Zt(this.ctx),ln);const{viewportScale:f}=this,d=Math.ceil(c*this.outputScaleX*f),p=Math.ceil(h*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(d,p);const{canvas:v,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(ln[0],0,0,-ln[1],0,h*ln[1]),Fl(this.ctx)}else{Fl(this.ctx),this.endPath();const f=new Path2D;f.rect(e[0],e[1],c,h),this.ctx.clip(f)}}this.current=new m0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const a=this.ctx,s=this._createMaskCanvas(t),o=s.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(o,s.offsetX,s.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,a=0,s=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const f=Zt(h);h.transform(e,a,s,o,0,0);const d=this._createMaskCanvas(t);h.setTransform(1,0,0,1,d.offsetX-f[4],d.offsetY-f[5]);for(let p=0,v=c.length;p<v;p+=2){const y=ct.transform(f,[e,a,s,o,c[p],c[p+1]]);h.drawImage(d.canvas,y[4],y[5])}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,a=this.current.fillColor,s=this.current.patternFill;for(const o of t){const{data:c,width:h,height:f,transform:d}=o,p=this.cachedCanvases.getCanvas("maskCanvas",h,f),v=p.context;v.save();const y=this.getObject(c,o);y0(v,y),v.globalCompositeOperation="source-in",v.fillStyle=s?a.getPattern(v,this,In(e),De.FILL):a,v.fillRect(0,0,h,f),v.restore(),e.save(),e.transform(...d),e.scale(1,-1),zl(e,p.canvas,0,0,h,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){St("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,a,s){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){St("Dependent image isn't ready yet");return}const c=o.width,h=o.height,f=[];for(let d=0,p=s.length;d<p;d+=2)f.push({transform:[e,0,0,a,s[d],s[d+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:a,height:s}=t,o=this.cachedCanvases.getCanvas("inlineImage",a,s),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,a=t.height,s=this.ctx;this.save();const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/e,-1/a);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",e,a).context;v0(d,t),c=this.applyTransferMapsToCanvas(d)}const h=this._scaleImage(c,In(s));s.imageSmoothingEnabled=b0(Zt(s),t.interpolate),zl(s,h.img,0,0,h.paintWidth,h.paintHeight,0,-a,e,a),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const a=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const o=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",o,c).context;v0(f,t),s=this.applyTransferMapsToCanvas(f)}for(const o of e)a.save(),a.transform(...o.transform),a.scale(1,-1),zl(a,s,o.x,o.y,o.w,o.h,0,-1,1,1),a.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(a||(this.pendingClip===A0?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Zt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),a=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(a,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:a,c:s,d:o}=this.ctx.getTransform();let c,h;if(a===0&&s===0){const f=Math.abs(e),d=Math.abs(o);if(f===d)if(t===0)c=h=1/f;else{const p=f*t;c=h=p<1?1/p:1}else if(t===0)c=1/f,h=1/d;else{const p=f*t,v=d*t;c=p<1?1/p:1,h=v<1?1/v:1}}else{const f=Math.abs(e*o-a*s),d=Math.hypot(e,a),p=Math.hypot(s,o);if(t===0)c=p/f,h=d/f;else{const v=t*f;c=p>v?p/v:1,h=d>v?d/v:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:a,current:{lineWidth:s}}=this,[o,c]=this.getScaleForStroking();if(o===c){a.lineWidth=(s||1)*o,a.stroke(t);return}const h=a.getLineDash();e&&a.save(),a.scale(o,c),tf.a=1/o,tf.d=1/c;const f=new Path2D;if(f.addPath(t,tf),h.length>0){const d=Math.max(o,c);a.setLineDash(h.map(p=>p/d)),a.lineDashOffset/=d}a.lineWidth=s||1,a.stroke(f),e&&a.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const l in Wr)_s.prototype[l]!==void 0&&(_s.prototype[Wr[l]]=_s.prototype[l]);class Vi{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class NT{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const bs=Symbol("INTERNAL");class OT{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:a,usage:s,rbGroups:o}){this.#t=!!(t&rn.DISPLAY),this.#e=!!(t&rn.PRINT),this.name=e,this.intent=a,this.usage=s,this.rbGroups=o}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,a=!1){t!==bs&&Ut("Internal method `_setVisible` called."),this.#n=a,this.#i=e}}class kT{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=rn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const a of t.groups)this.#e.set(a.id,new OT(e,a));if(t.baseState==="OFF")for(const a of this.#e.values())a._setVisible(bs,!1);for(const a of t.on)this.#e.get(a)._setVisible(bs,!0);for(const a of t.off)this.#e.get(a)._setVisible(bs,!1);this.#n=this.getHash()}}#s(t){const e=t.length;if(e<2)return!0;const a=t[0];for(let s=1;s<e;s++){const o=t[s];let c;if(Array.isArray(o))c=this.#s(o);else if(this.#e.has(o))c=this.#e.get(o).visible;else return St(`Optional content group not found: ${o}`),!0;switch(a){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return a==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return uc("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(St(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return St(`Unknown optional content policy ${t.policy}.`),!0}return St(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,a=!0){const s=this.#e.get(t);if(!s){St(`Optional content group not found: ${t}`);return}if(a&&e&&s.rbGroups.length)for(const o of s.rbGroups)for(const c of o)c!==t&&this.#e.get(c)?._setVisible(bs,!1,!0);s._setVisible(bs,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let a;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":a=s;continue}const o=this.#e.get(s);if(o)switch(a){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new vb;for(const[e,a]of this.#e)t.update(`${e}:${a.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class PT{constructor(t,{disableRange:e=!1,disableStream:a=!1}){me(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:o,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,o?.length>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!a,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,d)=>{this._onReceiveData({begin:f,chunk:d})}),t.addProgressListener((f,d)=>{this._onProgress({loaded:f,total:d})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const a=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const s=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(a),!0)});me(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){me(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new IT(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const a=new zT(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(a),a}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class IT{constructor(t,e,a=!1,s=null){this._stream=t,this._done=a||!1,this._filename=fc(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class zT{constructor(t,e,a){this._stream=t,this._begin=e,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function FT(l){let t=!0,e=a("filename\\*","i").exec(l);if(e){e=e[1];let p=h(e);return p=unescape(p),p=f(p),p=d(p),o(p)}if(e=c(l),e){const p=d(e);return o(p)}if(e=a("filename","i").exec(l),e){e=e[1];let p=h(e);return p=d(p),o(p)}function a(p,v){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function s(p,v){if(p){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const y=new TextDecoder(p,{fatal:!0}),b=oo(v);v=y.decode(b),t=!1}catch{}}return v}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),t&&(p=s("iso-8859-1",p))),p}function c(p){const v=[];let y;const b=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(p))!==null;){let[,E,x,w]=y;if(E=parseInt(E,10),E in v){if(E===0)break;continue}v[E]=[x,w]}const S=[];for(let E=0;E<v.length&&E in v;++E){let[x,w]=v[E];w=h(w),x&&(w=unescape(w),E===0&&(w=f(w))),S.push(w)}return S.join("")}function h(p){if(p.startsWith('"')){const v=p.slice(1).split('\\"');for(let y=0;y<v.length;++y){const b=v[y].indexOf('"');b!==-1&&(v[y]=v[y].slice(0,b),v.length=y+1),v[y]=v[y].replaceAll(/\\(.)/g,"$1")}p=v.join('"')}return p}function f(p){const v=p.indexOf("'");if(v===-1)return p;const y=p.slice(0,v),S=p.slice(v+1).replace(/^[^']*'/,"");return s(y,S)}function d(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,y,b,S){if(b==="q"||b==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,x){return String.fromCharCode(parseInt(x,16))}),s(y,S);try{S=atob(S)}catch{}return s(y,S)})}return""}function xb(l,t){const e=new Headers;if(!l||!t||typeof t!="object")return e;for(const a in t){const s=t[a];s!==void 0&&e.append(a,s)}return e}function dc(l){return URL.parse(l)?.origin??null}function Tb({responseHeaders:l,isHttp:t,rangeChunkSize:e,disableRange:a}){const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(l.get("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*e)||a||!t||l.get("Accept-Ranges")!=="bytes"||(l.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Cb(l){const t=l.get("Content-Disposition");if(t){let e=FT(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(fc(e))return e}return null}function fo(l,t){return new Kr(`Unexpected server response (${l}) while retrieving PDF "${t}".`,l,l===404||l===0&&t.startsWith("file:"))}function Rb(l){return l===200||l===206}function Mb(l,t,e){return{method:"GET",headers:l,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Db(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:(St(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class BT{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=xb(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return me(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new jT(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const a=new HT(this,t,e);return this._rangeRequestReaders.push(a),a}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class jT{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const a=new Headers(t.headers),s=e.url;fetch(s,Mb(a,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=dc(o.url),!Rb(o.status))throw fo(o.status,s);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:h,suggestedLength:f}=Tb({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=Cb(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new mi("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Db(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class HT{constructor(t,e,a){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${a-1}`);const c=s.url;fetch(c,Mb(o,this._withCredentials,this._abortController)).then(h=>{const f=dc(h.url);if(f!==t._responseOrigin)throw new Error(`Expected range response-origin "${f}" to match "${t._responseOrigin}".`);if(!Rb(h.status))throw fo(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Db(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const ef=200,nf=206;function UT(l){const t=l.response;return typeof t!="string"?t:oo(t).buffer}class GT{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:a}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=xb(this.isHttp,e),this.withCredentials=a||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,a=this.currXhrId++,s=this.pendingRequests[a]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,c]of this.headers)e.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=nf):s.expectedStatus=ef,e.responseType="arraybuffer",me(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,a),e.onprogress=this.onProgress.bind(this,a),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),a}onProgress(t,e){const a=this.pendingRequests[t];a&&a.onProgress?.(e)}onStateChange(t,e){const a=this.pendingRequests[t];if(!a)return;const s=a.xhr;if(s.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){a.onError(s.status);return}const o=s.status||ef;if(!(o===ef&&a.expectedStatus===nf)&&o!==a.expectedStatus){a.onError(s.status);return}const h=UT(s);if(o===nf){const f=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);d?a.onDone({begin:parseInt(d[1],10),chunk:h}):(St('Missing or invalid "Content-Range" header.'),a.onError(0))}else h?a.onDone({begin:0,chunk:h}):a.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class VT{constructor(t){this._source=t,this._manager=new GT(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return me(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new qT(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const a=new $T(this._manager,t,e);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class qT{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=dc(e.responseURL);const a=e.getAllResponseHeaders(),s=new Headers(a?a.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(h=>{const[f,...d]=h.split(": ");return[f,d.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:c}=Tb({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=Cb(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=fo(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class $T{constructor(t,e,a){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:a,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=dc(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=fo(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const YT=/^[a-z][a-z0-9\-+.]+:/i;function XT(l){if(YT.test(l))return new URL(l);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(l))}class WT{constructor(t){this.source=t,this.url=XT(t.url),me(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return me(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new KT(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const a=new QT(this,t,e);return this._rangeRequestReaders.push(a),a}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class KT{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const a=process.getBuiltinModule("fs");a.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(a.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=fo(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new mi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class QT{constructor(t,e,a){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:a-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ir=Symbol("INITIAL_DATA");class Lb{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Ir}}get(t,e=null){if(e){const s=this.#e(t);return s.promise.then(()=>e(s.data)),null}const a=this.#t[t];if(!a||a.data===Ir)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return a.data}has(t){const e=this.#t[t];return!!e&&e.data!==Ir}delete(t){const e=this.#t[t];return!e||e.data===Ir?!1:(delete this.#t[t],!0)}resolve(t,e=null){const a=this.#e(t);a.data=e,a.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Ir&&(yield[t,e])}}}const ZT=1e5,S0=30;let Qr=class An{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#a=null;#o=0;#r=0;#h=null;#l=null;#f=0;#u=0;#d=Object.create(null);#g=[];#p=null;#c=[];#m=new WeakMap;#v=null;static#y=new Map;static#A=new Map;static#S=new WeakMap;static#E=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:a}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(f){f.enqueue(t),f.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#u=a.scale*Rn.pixelRatio,this.#f=a.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:o,pageX:c,pageY:h}=a.rawDims;this.#v=[1,0,0,-1,-c,h+o],this.#r=s,this.#o=o,An.#L(),Xi(e,a),this.#t.promise.finally(()=>{An.#x.delete(this),this.#a=null,this.#d=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=xe.platform;return Rt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#h.read().then(({value:e,done:a})=>{if(a){this.#t.resolve();return}this.#s??=e.lang,Object.assign(this.#d,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#h=this.#p.getReader(),An.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const a=t.scale*Rn.pixelRatio,s=t.rotation;if(s!==this.#f&&(e?.(),this.#f=s,Xi(this.#l,{rotation:s})),a!==this.#u){e?.(),this.#u=a;const o={div:null,properties:null,ctx:An.#R(this.#s)};for(const c of this.#c)o.properties=this.#m.get(c),o.div=c,this.#w(o)}}cancel(){const t=new mi("TextLayer task cancelled.");this.#h?.cancel(t).catch(()=>{}),this.#h=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#g}#C(t){if(this.#n)return;this.#a.ctx??=An.#R(this.#s);const e=this.#c,a=this.#g;for(const s of t){if(e.length>ZT){St("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),s.id!==null&&this.#e.setAttribute("id",`${s.id}`),o.append(this.#e)}else s.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}a.push(s.str),this.#M(s)}}#M(t){const e=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(e);const s=ct.transform(this.#v,t.transform);let o=Math.atan2(s[1],s[0]);const c=this.#d[t.fontName];c.vertical&&(o+=Math.PI/2);let h=this.#i&&c.fontSubstitution||c.fontFamily;h=An.fontFamilyMap.get(h)||h;const f=Math.hypot(s[2],s[3]),d=f*An.#N(h,c,this.#s);let p,v;o===0?(p=s[4],v=s[5]-d):(p=s[4]+d*Math.sin(o),v=s[5]-d*Math.cos(o));const y="calc(var(--total-scale-factor) *",b=e.style;this.#e===this.#l?(b.left=`${(100*p/this.#r).toFixed(2)}%`,b.top=`${(100*v/this.#o).toFixed(2)}%`):(b.left=`${y}${p.toFixed(2)}px)`,b.top=`${y}${v.toFixed(2)}px)`),b.fontSize=`${y}${(An.#E*f).toFixed(2)}px)`,b.fontFamily=h,a.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(a.angle=o*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const E=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);E!==x&&Math.max(E,x)/Math.min(E,x)>1.5&&(S=!0)}if(S&&(a.canvasWidth=c.vertical?t.height:t.width),this.#m.set(e,a),this.#a.div=e,this.#a.properties=a,this.#w(this.#a),a.hasText&&this.#e.append(e),a.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this.#e.append(E)}}#w(t){const{div:e,properties:a,ctx:s}=t,{style:o}=e;let c="";if(An.#E>1&&(c=`scale(${1/An.#E})`),a.canvasWidth!==0&&a.hasText){const{fontFamily:h}=o,{canvasWidth:f,fontSize:d}=a;An.#T(s,d*this.#u,h);const{width:p}=s.measureText(e.textContent);p>0&&(c=`scaleX(${f*this.#u/p}) ${c}`)}a.angle!==0&&(c=`rotate(${a.angle}deg) ${c}`),c.length>0&&(o.transform=c)}static cleanup(){if(!(this.#x.size>0)){this.#y.clear();for(const{canvas:t}of this.#A.values())t.remove();this.#A.clear()}}static#R(t=null){let e=this.#A.get(t||="");if(!e){const a=document.createElement("canvas");a.className="hiddenCanvasElement",a.lang=t,document.body.append(a),e=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#A.set(t,e),this.#S.set(e,{size:0,family:""})}return e}static#T(t,e,a){const s=this.#S.get(t);e===s.size&&a===s.family||(t.font=`${e}px ${a}`,s.size=e,s.family=a)}static#L(){if(this.#E!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#E=t.getBoundingClientRect().height,t.remove()}static#N(t,e,a){const s=this.#y.get(t);if(s)return s;const o=this.#R(a);o.canvas.width=o.canvas.height=S0,this.#T(o,S0,t);const c=o.measureText(""),h=c.fontBoundingBoxAscent,f=Math.abs(c.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let d=.8;return h?d=h/(h+f):(xe.platform.isFirefox&&St("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),this.#y.set(t,d),d}};class Zr{static textContent(t){const e=[],a={items:e,styles:Object.create(null)};function s(o){if(!o)return;let c=null;const h=o.name;if(h==="#text")c=o.value;else if(Zr.shouldBuildText(h))o?.attributes?.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&e.push({str:c}),!!o.children)for(const f of o.children)s(f)}return s(t),a}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const JT=100;function cd(l={}){typeof l=="string"||l instanceof URL?l={url:l}:(l instanceof ArrayBuffer||ArrayBuffer.isView(l))&&(l={data:l});const t=new ud,{docId:e}=t,a=l.url?cT(l.url):null,s=l.data?uT(l.data):null,o=l.httpHeaders||null,c=l.withCredentials===!0,h=l.password??null,f=l.range instanceof hd?l.range:null,d=Number.isInteger(l.rangeChunkSize)&&l.rangeChunkSize>0?l.rangeChunkSize:2**16;let p=l.worker instanceof Ms?l.worker:null;const v=l.verbosity,y=typeof l.docBaseUrl=="string"&&!co(l.docBaseUrl)?l.docBaseUrl:null,b=Pl(l.cMapUrl),S=l.cMapPacked!==!1,E=l.CMapReaderFactory||(je?vT:c0),x=Pl(l.iccUrl),w=Pl(l.standardFontDataUrl),T=l.StandardFontDataFactory||(je?yT:u0),R=Pl(l.wasmUrl),L=l.WasmFactory||(je?bT:h0),C=l.stopAtErrors!==!0,B=Number.isInteger(l.maxImageSize)&&l.maxImageSize>-1?l.maxImageSize:-1,j=l.isEvalSupported!==!1,q=typeof l.isOffscreenCanvasSupported=="boolean"?l.isOffscreenCanvasSupported:!je,X=typeof l.isImageDecoderSupported=="boolean"?l.isImageDecoderSupported:!je&&(xe.platform.isFirefox||!globalThis.chrome),J=Number.isInteger(l.canvasMaxAreaInBytes)?l.canvasMaxAreaInBytes:-1,tt=typeof l.disableFontFace=="boolean"?l.disableFontFace:je,lt=l.fontExtraProperties===!0,pt=l.enableXfa===!0,st=l.ownerDocument||globalThis.document,yt=l.disableRange===!0,O=l.disableStream===!0,G=l.disableAutoFetch===!0,et=l.pdfBug===!0,bt=l.CanvasFactory||(je?mT:dT),D=l.FilterFactory||(je?pT:gT),Y=l.enableHWA===!0,Q=l.useWasm!==!1,K=f?f.length:l.length??NaN,nt=typeof l.useSystemFonts=="boolean"?l.useSystemFonts:!je&&!tt,vt=typeof l.useWorkerFetch=="boolean"?l.useWorkerFetch:!!(E===c0&&T===u0&&L===h0&&b&&w&&R&&jr(b,document.baseURI)&&jr(w,document.baseURI)&&jr(R,document.baseURI)),rt=null;qx(v);const Et={canvasFactory:new bt({ownerDocument:st,enableHWA:Y}),filterFactory:new D({docId:e,ownerDocument:st}),cMapReaderFactory:vt?null:new E({baseUrl:b,isCompressed:S}),standardFontDataFactory:vt?null:new T({baseUrl:w}),wasmFactory:vt?null:new L({baseUrl:R})};p||(p=Ms.create({verbosity:v,port:Vi.workerPort}),t._worker=p);const Dt={docId:e,apiVersion:"5.3.93",data:s,password:h,disableAutoFetch:G,rangeChunkSize:d,length:K,docBaseUrl:y,enableXfa:pt,evaluatorOptions:{maxImageSize:B,disableFontFace:tt,ignoreErrors:C,isEvalSupported:j,isOffscreenCanvasSupported:q,isImageDecoderSupported:X,canvasMaxAreaInBytes:J,fontExtraProperties:lt,useSystemFonts:nt,useWasm:Q,useWorkerFetch:vt,cMapUrl:b,iccUrl:x,standardFontDataUrl:w,wasmUrl:R}},he={ownerDocument:st,pdfBug:et,styleElement:rt,loadingParams:{disableAutoFetch:G,enableXfa:pt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Gt=p.messageHandler.sendWithPromise("GetDocRequest",Dt,s?[s.buffer]:null);let Ue;if(f)Ue=new PT(f,{disableRange:yt,disableStream:O});else if(!s){if(!a)throw new Error("getDocument - no `url` parameter provided.");const Qe=jr(a)?BT:je?WT:VT;Ue=new Qe({url:a,length:K,httpHeaders:o,withCredentials:c,rangeChunkSize:d,disableRange:yt,disableStream:O})}return Gt.then(Qe=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Lt=new Hr(e,Qe,p.port),Ft=new nC(Lt,t,Ue,he,Et);t._transport=Ft,Lt.send("Ready",null)})}).catch(t._capability.reject),t}class ud{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${ud.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let hd=class{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#s=[];constructor(t,e,a=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=a,this.contentDispositionFilename=s}addRangeListener(t){this.#s.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const a of this.#s)a(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const a of this.#i)a(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Ut("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class tC{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Rt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class eC{#t=!1;constructor(t,e,a,s=!1){this._pageIndex=t,this._pageInfo=e,this._transport=a,this._stats=s?new r0:null,this._pdfBug=s,this.commonObjs=a.commonObjs,this.objs=new Lb,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}={}){return new lo({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:a,offsetY:s,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Rt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:a="display",annotationMode:s=Hn.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:d=null,printAnnotationStorage:p=null,isEditing:v=!1}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(a,s,p,v),{renderingIntent:b,cacheKey:S}=y;this.#t=!1,h||=this._transport.getOptionalContentConfig(b);let E=this._intentStates.get(S);E||(E=Object.create(null),this._intentStates.set(S,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const x=!!(b&rn.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const w=L=>{E.renderTasks.delete(T),x&&(this.#t=!0),this.#e(),L?(T.capability.reject(L),this._abortOperatorList({intentState:E,reason:L instanceof Error?L:new Error(L)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new Es({callback:w,params:{canvasContext:t,viewport:e,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:d});(E.renderTasks||=new Set).add(T);const R=T.task;return Promise.all([E.displayReadyCapability.promise,h]).then(([L,C])=>{if(this.destroyed){w();return}if(this._stats?.time("Rendering"),!(C.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:L,optionalContentConfig:C}),T.operatorListChanged()}).catch(w),R}getOperatorList({intent:t="display",annotationMode:e=Hn.ENABLE,printAnnotationStorage:a=null,isEditing:s=!1}={}){function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(t,e,a,s,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||=new Set).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>Zr.textContent(a));const e=this.streamTextContent(t);return new Promise(function(a,s){function o(){c.read().then(function({value:f,done:d}){if(d){a(h);return}h.lang??=f.lang,Object.assign(h.styles,f.styles),h.items.push(...f.items),o()},s)}const c=e.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const a of e.renderTasks)t.push(a.completed),a.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new r0),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const a=this._intentStates.get(e);a&&(this._stats?.timeEnd("Page Request"),a.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let a=0,s=t.length;a<s;a++)e.operatorList.fnArray.push(t.fnArray[a]),e.operatorList.argsArray.push(t.argsArray[a]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const a of e.renderTasks)a.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:a,modifiedIds:s}){const{map:o,transfer:c}=a,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:s},c).getReader(),d=this._intentStates.get(e);d.streamReader=f;const p=()=>{f.read().then(({value:v,done:y})=>{if(y){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,d),p())},v=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const y of d.renderTasks)y.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(v);else if(d.opListReadCapability)d.opListReadCapability.reject(v);else throw v}})};p()}_abortOperatorList({intentState:t,reason:e,force:a=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!a){if(t.renderTasks.size>0)return;if(e instanceof hc){let s=JT;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new mi(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}var Gi,xn,ui,Aa,tc,Sa,Ea,He,$l,Nb,Ob,Ur,Cs,Yl;const Kt=class Kt{constructor({name:t=null,port:e=null,verbosity:a=$x()}={}){kn(this,He);kn(this,Gi,Promise.withResolvers());kn(this,xn,null);kn(this,ui,null);kn(this,Aa,null);if(this.name=t,this.destroyed=!1,this.verbosity=a,e){if(Wt(Kt,Ea).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Wt(Kt,Ea).set(e,this),Pn(this,He,Nb).call(this,e)}else Pn(this,He,Ob).call(this)}get promise(){return Wt(this,Gi).promise}get port(){return Wt(this,ui)}get messageHandler(){return Wt(this,xn)}destroy(){this.destroyed=!0,Wt(this,Aa)?.terminate(),Xe(this,Aa,null),Wt(Kt,Ea).delete(Wt(this,ui)),Xe(this,ui,null),Wt(this,xn)?.destroy(),Xe(this,xn,null)}static create(t){const e=Wt(this,Ea).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Kt(t)}static get workerSrc(){if(Vi.workerSrc)return Vi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Rt(this,"_setupFakeWorkerGlobal",(async()=>Wt(this,Cs,Yl)?Wt(this,Cs,Yl):(await import(this.workerSrc)).WorkerMessageHandler)())}};Gi=new WeakMap,xn=new WeakMap,ui=new WeakMap,Aa=new WeakMap,tc=new WeakMap,Sa=new WeakMap,Ea=new WeakMap,He=new WeakSet,$l=function(){Wt(this,Gi).resolve(),Wt(this,xn).send("configure",{verbosity:this.verbosity})},Nb=function(t){Xe(this,ui,t),Xe(this,xn,new Hr("main","worker",t)),Wt(this,xn).on("ready",()=>{}),Pn(this,He,$l).call(this)},Ob=function(){if(Wt(Kt,Sa)||Wt(Kt,Cs,Yl)){Pn(this,He,Ur).call(this);return}let{workerSrc:t}=Kt;try{Kt._isSameOrigin(window.location,t)||(t=Kt._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),a=new Hr("main","worker",e),s=()=>{o.abort(),a.destroy(),e.terminate(),this.destroyed?Wt(this,Gi).reject(new Error("Worker was destroyed")):Pn(this,He,Ur).call(this)},o=new AbortController;e.addEventListener("error",()=>{Wt(this,Aa)||s()},{signal:o.signal}),a.on("test",h=>{if(o.abort(),this.destroyed||!h){s();return}Xe(this,xn,a),Xe(this,ui,e),Xe(this,Aa,e),Pn(this,He,$l).call(this)}),a.on("ready",h=>{if(o.abort(),this.destroyed){s();return}try{c()}catch{Pn(this,He,Ur).call(this)}});const c=()=>{const h=new Uint8Array;a.send("test",h,[h.buffer])};c();return}catch{uc("The worker has been disabled.")}Pn(this,He,Ur).call(this)},Ur=function(){Wt(Kt,Sa)||(St("Setting up fake worker."),Xe(Kt,Sa,!0)),Kt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Wt(this,Gi).reject(new Error("Worker was destroyed"));return}const e=new fT;Xe(this,ui,e);const a=`fake${cv(Kt,tc)._++}`,s=new Hr(a+"_worker",a,e);t.setup(s,e),Xe(this,xn,new Hr(a,a+"_worker",e)),Pn(this,He,$l).call(this)}).catch(t=>{Wt(this,Gi).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Cs=new WeakSet,Yl=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},kn(Kt,Cs),kn(Kt,tc,0),kn(Kt,Sa,!1),kn(Kt,Ea,new WeakMap),je&&(Xe(Kt,Sa,!0),Vi.workerSrc||="./pdf.worker.mjs"),Kt._isSameOrigin=(t,e)=>{const a=URL.parse(t);if(!a?.origin||a.origin==="null")return!1;const s=new URL(e,a);return a.origin===s.origin},Kt._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Kt.fromPort=t=>{if(eT("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Kt.create(t)};let Ms=Kt;class nC{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#s=null;constructor(t,e,a,s,o){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Lb,this.fontLoader=new oT({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#a(t,e=null){const a=this.#t.get(t);if(a)return a;const s=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,s),s}get annotationStorage(){return Rt(this,"annotationStorage",new sd)}getRenderingIntent(t,e=Hn.ENABLE,a=null,s=!1,o=!1){let c=rn.DISPLAY,h=wf;switch(t){case"any":c=rn.ANY;break;case"display":break;case"print":c=rn.PRINT;break;default:St(`getRenderingIntent - invalid intent: ${t}`)}const f=c&rn.PRINT&&a instanceof yb?a:this.annotationStorage;switch(e){case Hn.DISABLE:c+=rn.ANNOTATIONS_DISABLE;break;case Hn.ENABLE:break;case Hn.ENABLE_FORMS:c+=rn.ANNOTATIONS_FORMS;break;case Hn.ENABLE_STORAGE:c+=rn.ANNOTATIONS_STORAGE,h=f.serializable;break;default:St(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(c+=rn.IS_EDITING),o&&(c+=rn.OPLIST);const{ids:d,hash:p}=f.modifiedIds,v=[c,h.hash,p];return{renderingIntent:c,cacheKey:v.join("_"),annotationStorageSerializable:h,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of this.#e.values())t.push(a._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Qr.cleanup(),this._networkStream?.cancelAllRequests(new mi("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(a,s)=>{me(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){s.close();return}me(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async a=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:o,contentLength:c}=this._fullReader;return(!s||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=h=>{e.onProgress?.({loaded:h.loaded,total:h.total})}),{isStreamingSupported:s,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(a,s)=>{me(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(a.begin,a.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:c,done:h}){if(h){s.close();return}me(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{s.error(c)})},s.onCancel=c=>{o.cancel(c),s.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,e._capability.resolve(new tC(a,this))}),t.on("DocException",a=>{e._capability.reject(We(a))}),t.on("PasswordRequest",a=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw We(a);const s=o=>{o instanceof Error?this.#s.reject(o):this.#s.resolve({password:o})};e.onPassword(s,a.code)}catch(s){this.#s.reject(s)}return this.#s.promise}),t.on("DataLoaded",a=>{e.onProgress?.({loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),t.on("StartRenderPage",a=>{if(this.destroyed)return;this.#e.get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),t.on("commonobj",([a,s,o])=>{if(this.destroyed||this.commonObjs.has(a))return null;switch(s){case"Font":if("error"in o){const d=o.error;St(`Error during font loading: ${d}`),this.commonObjs.resolve(a,d);break}const c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,p)=>globalThis.FontInspector.fontAdded(d,p):null,h=new lT(o,c);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:a})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(a,h)});break;case"CopyLocalImage":const{imageRef:f}=o;me(f,"The imageRef must be defined.");for(const d of this.#e.values())for(const[,p]of d.objs)if(p?.ref===f)return p.dataLen?(this.commonObjs.resolve(a,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([a,s,o,c])=>{if(this.destroyed)return;const h=this.#e.get(s);if(!h.objs.has(a)){if(h._intentStates.size===0){c?.bitmap?.close();return}switch(o){case"Image":case"Pattern":h.objs.resolve(a,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",a=>{this.destroyed||e.onProgress?.({loaded:a.loaded,total:a.total})}),t.on("FetchBinaryData",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[a.type];if(!s)throw new Error(`${a.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(a)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&St("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,a=this.#n.get(e);if(a)return a;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#i.set(o.refStr,t);const c=new eC(e,o,this,this._params.pdfBug);return this.#e.set(e,c),c});return this.#n.set(e,s),s}getPageIndex(t){return _f(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#a("GetOptionalContentConfig").then(e=>new kT(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const a=this.messageHandler.sendWithPromise(t,null).then(s=>({info:s[0],metadata:s[1]?new NT(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Qr.cleanup()}}cachedPageNumber(t){if(!_f(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class iC{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Es{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:a,commonObjs:s,annotationCanvasMap:o,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:d,useRequestAnimationFrame:p=!1,pdfBug:v=!1,pageColors:y=null}){this.callback=t,this.params=e,this.objs=a,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=d,this._pdfBug=v,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new iC(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Es.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Es.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:s,transform:o,background:c}=this.params;this.gfx=new _s(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Es.#e.delete(this._canvas),t||=new hc(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Es.#e.delete(this._canvas),this.callback())))}}const fd="5.3.93",kb="cbeef3233";function E0(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function zr(l){return Math.max(0,Math.min(255,255*l))}class w0{static CMYK_G([t,e,a,s]){return["G",1-Math.min(1,.3*t+.59*a+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=zr(t),[t,t,t]}static G_HTML([t]){const e=E0(t);return`#${e}${e}${e}`}static RGB_G([t,e,a]){return["G",.3*t+.59*e+.11*a]}static RGB_rgb(t){return t.map(zr)}static RGB_HTML(t){return`#${t.map(E0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,a,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,a+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,a,s]){return[zr(1-Math.min(1,t+s)),zr(1-Math.min(1,a+s)),zr(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,a]){const s=1-t,o=1-e,c=1-a,h=Math.min(s,o,c);return["CMYK",s,o,c,h]}}class aC{create(t,e,a=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),a||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ut("Abstract method `_createSVG` called.")}}class Jr extends aC{_createSVG(t){return document.createElementNS(ci,t)}}class dd{static setupStorage(t,e,a,s,o){const c=s.getValue(e,{value:null});switch(a.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",h=>{s.setValue(e,{value:h.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(c.value===a.attributes.xfaOn?t.setAttribute("checked",!0):c.value===a.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",h=>{s.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",h=>{s.setValue(e,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of a.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const f=h.target.options,d=f.selectedIndex===-1?"":f[f.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:a=null,intent:s,linkService:o}){const{attributes:c}=e,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${s}`);for(const[f,d]of Object.entries(c))if(d!=null)switch(f){case"class":d.length&&t.setAttribute(f,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!h||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,d)}h&&o.addLinkAttributes(t,c.href,c.newWindow),a&&c.dataId&&this.setupStorage(t,c.dataId,e,a)}static render(t){const e=t.annotationStorage,a=t.linkService,s=t.xfaHtml,o=t.intent||"display",c=document.createElement(s.name);s.attributes&&this.setAttributes({html:c,element:s,intent:o,linkService:a});const h=o!=="richText",f=t.div;if(f.append(c),t.viewport){const v=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=v}h&&f.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const v=document.createTextNode(s.value);c.append(v),h&&Zr.shouldBuildText(s.name)&&d.push(v)}return{textDivs:d}}const p=[[s,-1,c]];for(;p.length>0;){const[v,y,b]=p.at(-1);if(y+1===v.children.length){p.pop();continue}const S=v.children[++p.at(-1)[1]];if(S===null)continue;const{name:E}=S;if(E==="#text"){const w=document.createTextNode(S.value);d.push(w),b.append(w);continue}const x=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,E):document.createElement(E);if(b.append(x),S.attributes&&this.setAttributes({html:x,element:S,storage:e,intent:o,linkService:a}),S.children?.length>0)p.push([S,-1,x]);else if(S.value){const w=document.createTextNode(S.value);h&&Zr.shouldBuildText(E)&&d.push(w),x.append(w)}}for(const v of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const sC=9,Ta=new WeakSet;class _0{static create(t){switch(t.data.annotationType){case oe.LINK:return new Pb(t);case oe.TEXT:return new rC(t);case oe.WIDGET:switch(t.data.fieldType){case"Tx":return new oC(t);case"Btn":return t.data.radioButton?new Ib(t):t.data.checkBox?new cC(t):new uC(t);case"Ch":return new hC(t);case"Sig":return new lC(t)}return new Ma(t);case oe.POPUP:return new Tf(t);case oe.FREETEXT:return new zb(t);case oe.LINE:return new dC(t);case oe.SQUARE:return new gC(t);case oe.CIRCLE:return new pC(t);case oe.POLYLINE:return new Fb(t);case oe.CARET:return new vC(t);case oe.INK:return new gd(t);case oe.POLYGON:return new mC(t);case oe.HIGHLIGHT:return new Bb(t);case oe.UNDERLINE:return new yC(t);case oe.SQUIGGLY:return new bC(t);case oe.STRIKEOUT:return new AC(t);case oe.STAMP:return new jb(t);case oe.FILEATTACHMENT:return new SC(t);default:return new ue(t)}}}class ue{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:a=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(a)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ue._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:a,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:h,pageY:f}}}}=this;a?.splice(0,4,...t),e.left=`${100*(t[0]-h)/o}%`,e.top=`${100*(c-t[3]+f)/c}%`,s===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(s)}_createContainer(t){const{data:e,parent:{page:a,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof Ma||(o.tabIndex=0);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof Tf){const{rotation:E}=e;return!e.hasOwnCanvas&&E!==0&&this.setRotation(E,o),o}const{width:h,height:f}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const E=e.borderStyle.horizontalCornerRadius,x=e.borderStyle.verticalCornerRadius;if(E>0||x>0){const T=`calc(${E}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;c.borderRadius=T}else if(this instanceof Ib){const T=`calc(${h}px * var(--total-scale-factor)) / calc(${f}px * var(--total-scale-factor))`;c.borderRadius=T}switch(e.borderStyle.style){case ys.SOLID:c.borderStyle="solid";break;case ys.DASHED:c.borderStyle="dashed";break;case ys.BEVELED:St("Unimplemented border style: beveled");break;case ys.INSET:St("Unimplemented border style: inset");break;case ys.UNDERLINE:c.borderBottomStyle="solid";break}const w=e.borderColor||null;w?(this.#e=!0,c.borderColor=ct.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):c.borderWidth=0}const d=ct.normalizeRect([e.rect[0],a.view[3]-e.rect[1]+a.view[1],e.rect[2],a.view[3]-e.rect[3]+a.view[1]]),{pageWidth:p,pageHeight:v,pageX:y,pageY:b}=s.rawDims;c.left=`${100*(d[0]-y)/p}%`,c.top=`${100*(d[1]-b)/v}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(c.width=`${100*h/p}%`,c.height=`${100*f/v}%`):this.setRotation(S,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:a,pageHeight:s}=this.parent.viewport.rawDims;let{width:o,height:c}=this;t%180!==0&&([o,c]=[c,o]),e.style.width=`${100*o/a}%`,e.style.height=`${100*c/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,a,s)=>{const o=s.detail[e],c=o[0],h=o.slice(1);s.target.style[a]=w0[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[a]:w0[`${c}_rgb`](h)})};return Rt(this,"_commonActions",{display:e=>{const{display:a}=e.detail,s=a%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:a===1||a===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:a}=e.detail;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:a,noView:a})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const a=e.detail.rotation;this.setRotation(a),this.annotationStorage.setValue(this.data.id,{rotation:a})}})}_dispatchEventFromSandbox(t,e){const a=this._commonActions;for(const s of Object.keys(e.detail))(t[s]||a[s])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const a=this._commonActions;for(const[s,o]of Object.entries(e)){const c=a[s];if(c){const h={detail:{[s]:o},target:t};c(h),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,a,s,o]=this.data.rect.map(E=>Math.fround(E));if(t.length===8){const[E,x,w,T]=t.subarray(2,6);if(s===E&&o===x&&e===w&&a===T)return}const{style:c}=this.container;let h;if(this.#e){const{borderColor:E,borderWidth:x}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const f=s-e,d=o-a,{svgFactory:p}=this,v=p.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0),v.role="none";const y=p.createElement("defs");v.append(y);const b=p.createElement("clipPath"),S=`clippath_${this.data.id}`;b.setAttribute("id",S),b.setAttribute("clipPathUnits","objectBoundingBox"),y.append(b);for(let E=2,x=t.length;E<x;E+=8){const w=t[E],T=t[E+1],R=t[E+2],L=t[E+3],C=p.createElement("rect"),B=(R-e)/f,j=(o-T)/d,q=(w-R)/f,X=(T-L)/d;C.setAttribute("x",B),C.setAttribute("y",j),C.setAttribute("width",q),C.setAttribute("height",X),b.append(C),h?.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${j}" width="${q}" height="${X}"/>`)}this.#e&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(v),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=this.#n=new Tf({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){Ut("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const a=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:o,id:c,exportValues:h}of s){if(o===-1||c===e)continue;const f=typeof h=="string"?h:null,d=document.querySelector(`[data-element-id="${c}"]`);if(d&&!Ta.has(d)){St(`_getElementsByName - element not allowed: ${c}`);continue}a.push({id:c,exportValue:f,domElement:d})}return a}for(const s of document.getElementsByName(t)){const{exportValue:o}=s,c=s.getAttribute("data-element-id");c!==e&&Ta.has(s)&&a.push({id:c,exportValue:o,domElement:s})}return a}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Pb extends ue{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,a=document.createElement("a");a.setAttribute("data-element-id",t.id);let s=!1;return t.url?(e.addLinkAttributes(a,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(a,t.action),s=!0):t.attachment?(this.#e(a,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(this.#n(a,t.setOCGState),s=!0):t.dest?(this._bindLink(a,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,t),s=!0),t.resetForm?(this._bindResetFormAction(a,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(a,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(a),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,a=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,a),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(e.actions)){const o=a.get(s);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:s}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const a=t.onclick;if(a||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){St('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(t.onclick=()=>!1);return}t.onclick=()=>{a?.();const{fields:s,refs:o,include:c}=e,h=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const v of s){const y=this._fieldObjects[v]||[];for(const{id:b}of y)p.add(b)}for(const v of Object.values(this._fieldObjects))for(const y of v)p.has(y.id)===c&&h.push(y)}else for(const p of Object.values(this._fieldObjects))h.push(...p);const f=this.annotationStorage,d=[];for(const p of h){const{id:v}=p;switch(d.push(v),p.type){case"text":{const b=p.defaultValue||"";f.setValue(v,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;f.setValue(v,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";f.setValue(v,{value:b});break}default:continue}const y=document.querySelector(`[data-element-id="${v}"]`);if(y){if(!Ta.has(y)){St(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class rC extends ue{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Ma extends ue{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return xe.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,a,s,o){a.includes("mouse")?t.addEventListener(a,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(a,c=>{if(a==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(a==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(c)}})})}_setEventListeners(t,e,a,s){for(const[o,c]of a)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,c,s),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ct.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:a}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||sC,o=t.style;let c;const h=2,f=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-h),p=Math.round(d/(Wh*s))||1,v=d/p;c=Math.min(s,f(v/Wh))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(s,f(d/Wh))}o.fontSize=`calc(${c}px * var(--total-scale-factor))`,o.color=ct.makeHexColor(a[0],a[1],a[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class oC extends Ma{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,a,s){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=a),o.setValue(c.id,{[s]:a})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let a=null;if(this.renderForms){const s=t.getValue(e,{value:this.data.fieldValue});let o=s.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let h=s.formattedValue||this.data.textContent?.join(`
`)||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const f={userValue:o,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=h??o,this.data.doNotScroll&&(a.style.overflowY="hidden")):(a=document.createElement("input"),a.type=this.data.password?"password":"text",a.setAttribute("value",h??o),this.data.doNotScroll&&(a.style.overflowX="hidden")),this.data.hasOwnCanvas&&(a.hidden=!0),Ta.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=0;const d=this.data.dateFormat||this.data.timeFormat;d&&(a.title=d),this._setRequired(a,this.data.required),c&&(a.maxLength=c),a.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(a,"value",v.target.value,"value"),f.formattedValue=null}),a.addEventListener("resetform",v=>{const y=this.data.defaultFieldValue??"";a.value=f.userValue=y,f.formattedValue=null});let p=v=>{const{formattedValue:y}=f;y!=null&&(v.target.value=y),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",y=>{if(f.focused)return;const{target:b}=y;f.userValue&&(b.value=f.userValue),f.lastCommittedValue=b.value,f.commitKey=1,this.data.actions?.Focus||(f.focused=!0)}),a.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(S){f.userValue=S.detail.value??"",t.setValue(e,{value:f.userValue.toString()}),S.target.value=f.userValue},formattedValue(S){const{formattedValue:E}=S.detail;f.formattedValue=E,E!=null&&S.target!==document.activeElement&&(S.target.value=E),t.setValue(e,{formattedValue:E})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{const{charLimit:E}=S.detail,{target:x}=S;if(E===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",E);let w=f.userValue;!w||w.length<=E||(w=w.slice(0,E),x.value=f.userValue=w,t.setValue(e,{value:w}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),a.addEventListener("keydown",y=>{f.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(f.commitKey=3),b===-1)return;const{value:S}=y.target;f.lastCommittedValue!==S&&(f.lastCommittedValue=S,f.userValue=S,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const v=p;p=null,a.addEventListener("blur",y=>{if(!f.focused||!y.relatedTarget)return;this.data.actions?.Blur||(f.focused=!1);const{value:b}=y.target;f.userValue=b,f.lastCommittedValue!==b&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:f.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),v(y)}),this.data.actions?.Keystroke&&a.addEventListener("beforeinput",y=>{f.lastCommittedValue=null;const{data:b,target:S}=y,{value:E,selectionStart:x,selectionEnd:w}=S;let T=x,R=w;switch(y.inputType){case"deleteWordBackward":{const L=E.substring(0,x).match(/\w*[^\w]*$/);L&&(T-=L[0].length);break}case"deleteWordForward":{const L=E.substring(x).match(/^[^\w]*\w*/);L&&(R+=L[0].length);break}case"deleteContentBackward":x===w&&(T-=1);break;case"deleteContentForward":x===w&&(R+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,change:b||"",willCommit:!1,selStart:T,selEnd:R}})}),this._setEventListeners(a,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&a.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/c;a.classList.add("comb"),a.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",this.data.hasOwnCanvas&&(a.hidden=!0);return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class lC extends Ma{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class cC extends Ma{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,a=e.id;let s=t.getValue(a,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(a,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Ta.add(o),o.setAttribute("data-element-id",a),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const d of this._getElementsByName(h,a)){const p=f&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=p),t.setValue(d.id,{value:p})}t.setValue(a,{value:f})}),o.addEventListener("resetform",c=>{const h=e.defaultFieldValue||"Off";c.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(a,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Ib extends Ma{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,a=e.id;let s=t.getValue(a,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(a,{value:s})),s)for(const c of this._getElementsByName(e.fieldName,a))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(Ta.add(o),o.setAttribute("data-element-id",a),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const d of this._getElementsByName(h,a))t.setValue(d.id,{value:!1});t.setValue(a,{value:f})}),o.addEventListener("resetform",c=>{const h=e.defaultFieldValue;c.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;o.addEventListener("updatefromsandbox",h=>{const f={value:d=>{const p=c===d.detail.value;for(const v of this._getElementsByName(d.target.name)){const y=p&&v.id===a;v.domElement&&(v.domElement.checked=y),t.setValue(v.id,{value:y})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class uC extends Pb{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),t}}class hC extends Ma{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,a=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");Ta.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const v=this.data.defaultFieldValue;for(const y of s.options)y.selected=y.value===v});for(const p of this.data.options){const v=document.createElement("option");v.textContent=p.displayValue,v.value=p.exportValue,a.value.includes(p.exportValue)&&(v.setAttribute("selected",!0),o=!1),s.append(v)}let c=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),c=()=>{p.remove(),s.removeEventListener("input",c),c=null},s.addEventListener("input",c)}const h=p=>{const v=p?"value":"textContent",{options:y,multiple:b}=s;return b?Array.prototype.filter.call(y,S=>S.selected).map(S=>S[v]):y.selectedIndex===-1?null:y[y.selectedIndex][v]};let f=h(!1);const d=p=>{const v=p.target.options;return Array.prototype.map.call(v,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const v={value(y){c?.();const b=y.detail.value,S=new Set(Array.isArray(b)?b:[b]);for(const E of s.options)E.selected=S.has(E.value);t.setValue(e,{value:h(!0)}),f=h(!1)},multipleSelection(y){s.multiple=!0},remove(y){const b=s.options,S=y.detail.remove;b[S].selected=!1,s.remove(S),b.length>0&&Array.prototype.findIndex.call(b,x=>x.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:h(!0),items:d(y)}),f=h(!1)},clear(y){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),f=h(!1)},insert(y){const{index:b,displayValue:S,exportValue:E}=y.detail.insert,x=s.children[b],w=document.createElement("option");w.textContent=S,w.value=E,x?x.before(w):s.append(w),t.setValue(e,{value:h(!0),items:d(y)}),f=h(!1)},items(y){const{items:b}=y.detail;for(;s.length!==0;)s.remove(0);for(const S of b){const{displayValue:E,exportValue:x}=S,w=document.createElement("option");w.textContent=E,w.value=x,s.append(w)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:h(!0),items:d(y)}),f=h(!1)},indices(y){const b=new Set(y.detail.indices);for(const S of y.target.options)S.selected=b.has(S.index);t.setValue(e,{value:h(!0)}),f=h(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(v,p)}),s.addEventListener("input",p=>{const v=h(!0),y=h(!1);t.setValue(e,{value:v}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:y,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Tf extends ue{constructor(t){const{data:e,elements:a}=t;super(t,{isRenderable:ue._hasPopupData(e)}),this.elements=a,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new fC({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),a=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",a.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",a.map(s=>`${td}${s}`).join(",")),this.container}}class fC{#t=this.#C.bind(this);#e=this.#T.bind(this);#n=this.#R.bind(this);#i=this.#w.bind(this);#s=null;#a=null;#o=null;#r=null;#h=null;#l=null;#f=null;#u=!1;#d=null;#g=null;#p=null;#c=null;#m=null;#v=null;#y=!1;constructor({container:t,color:e,elements:a,titleObj:s,modificationDate:o,contentsObj:c,richText:h,parent:f,rect:d,parentRect:p,open:v}){this.#a=t,this.#m=s,this.#o=c,this.#c=h,this.#l=f,this.#s=e,this.#p=d,this.#f=p,this.#h=a,this.#r=ed.toDateObject(o),this.trigger=a.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",this.#i),y.addEventListener("mouseenter",this.#n),y.addEventListener("mouseleave",this.#e),y.classList.add("popupTriggerArea");for(const y of a)y.container?.addEventListener("keydown",this.#t);this.#a.hidden=!0,v&&this.#w()}render(){if(this.#d)return;const t=this.#d=document.createElement("div");if(t.className="popup",this.#s){const o=t.style.outlineColor=ct.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const e=document.createElement("span");e.className="header";const a=document.createElement("h1");if(e.append(a),{dir:a.dir,str:a.textContent}=this.#m,t.append(e),this.#r){const o=document.createElement("time");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#r.valueOf()})),o.dateTime=this.#r.toISOString(),e.append(o)}const s=this.#A;if(s)dd.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(this.#o);t.append(o)}this.#a.append(t)}get#A(){const t=this.#c,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#c.html||null}get#S(){return this.#A?.attributes?.style?.fontSize||0}get#E(){return this.#A?.attributes?.style?.color||null}#x(t){const e=[],a={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:this.#E,fontSize:this.#S?`calc(${this.#S}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:s});return a}_formatContents({str:t,dir:e}){const a=document.createElement("p");a.classList.add("popupContent"),a.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let o=0,c=s.length;o<c;++o){const h=s[o];a.append(document.createTextNode(h)),o<c-1&&a.append(document.createElement("br"))}return a}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#w()}updateEdited({rect:t,popupContent:e}){this.#v||={contentsObj:this.#o,richText:this.#c},t&&(this.#g=null),e&&(this.#c=this.#x(e),this.#o=null),this.#d?.remove(),this.#d=null}resetEdited(){this.#v&&({contentsObj:this.#o,richText:this.#c}=this.#v,this.#v=null,this.#d?.remove(),this.#d=null,this.#g=null)}#M(){if(this.#g!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:a,pageX:s,pageY:o}}}=this.#l;let c=!!this.#f,h=c?this.#f:this.#p;for(const S of this.#h)if(!h||ct.intersect(S.data.rect,h)!==null){h=S.data.rect,c=!0;break}const f=ct.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),p=c?h[2]-h[0]+5:0,v=f[0]+p,y=f[1];this.#g=[100*(v-s)/e,100*(y-o)/a];const{style:b}=this.#a;b.left=`${this.#g[0]}%`,b.top=`${this.#g[1]}%`}#w(){this.#u=!this.#u,this.#u?(this.#R(),this.#a.addEventListener("click",this.#i),this.#a.addEventListener("keydown",this.#t)):(this.#T(),this.#a.removeEventListener("click",this.#i),this.#a.removeEventListener("keydown",this.#t))}#R(){this.#d||this.render(),this.isVisible?this.#u&&this.#a.classList.add("focused"):(this.#M(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#T(){this.#a.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#a.hidden=!0)}maybeShow(){this.#y&&(this.#d||this.#R(),this.#y=!1,this.#a.hidden=!1)}get isVisible(){return this.#a.hidden===!1}}class zb extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=At.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const a=document.createElement("span");a.textContent=e,t.append(a)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class dC extends ue{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:a}=this,s=this.svgFactory.create(e,a,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class gC extends ue{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:a}=this,s=this.svgFactory.create(e,a,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",o/2),c.setAttribute("y",o/2),c.setAttribute("width",e-o),c.setAttribute("height",a-o),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),s.append(c),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class pC extends ue{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:a}=this,s=this.svgFactory.create(e,a,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",e/2),c.setAttribute("cy",a/2),c.setAttribute("rx",e/2-o/2),c.setAttribute("ry",a/2-o/2),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),s.append(c),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Fb extends ue{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:a,popupRef:s},width:o,height:c}=this;if(!e)return this.container;const h=this.svgFactory.create(o,c,!0);let f=[];for(let p=0,v=e.length;p<v;p+=2){const y=e[p]-t[0],b=t[3]-e[p+1];f.push(`${y},${b}`)}f=f.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",f),d.setAttribute("stroke-width",a.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),h.append(d),this.container.append(h),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class mC extends Fb{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class vC extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class gd extends ue{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?At.HIGHLIGHT:At.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:a,borderStyle:s,popupRef:o}}=this,{transform:c,width:h,height:f}=this.#n(e,t),d=this.svgFactory.create(h,f,!0),p=this.#t=this.svgFactory.createElement("svg:g");d.append(p),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let v=0,y=a.length;v<y;v++){const b=this.svgFactory.createElement(this.svgElementName);this.#e.push(b),b.setAttribute("points",a[v].join(",")),p.append(b)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:a,rect:s}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),a)for(let c=0,h=this.#e.length;c<h;c++)this.#e[c].setAttribute("points",a[c].join(","));if(s){const{transform:c,width:h,height:f}=this.#n(this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${h} ${f}`),o.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Bb extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=At.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const a=document.createElement("mark");a.classList.add("overlaidText"),a.textContent=t,this.container.append(a)}return this.container}}class yC extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const a=document.createElement("u");a.classList.add("overlaidText"),a.textContent=t,this.container.append(a)}return this.container}}class bC extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const a=document.createElement("u");a.classList.add("overlaidText"),a.textContent=t,this.container.append(a)}return this.container}}class AC extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const a=document.createElement("s");a.classList.add("overlaidText"),a.textContent=t,this.container.append(a)}return this.container}}class jb extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=At.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class SC extends ue{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let a;e.hasAppearance||e.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),a.addEventListener("dblclick",this.#e.bind(this)),this.#t=a;const{isMac:s}=xe.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),t.append(a),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let pd=class Hb{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:a,annotationEditorUIManager:s,page:o,viewport:c,structTreeLayer:h}){this.div=t,this.#t=e,this.#e=a,this.#i=h||null,this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return this.#n.size>0}async#s(t,e,a){const s=t.firstChild||t,o=s.id=`${td}${e}`,c=await this.#i?.getAriaAttributes(o);if(c)for(const[h,f]of c)s.setAttribute(h,f);a?a.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,s,!1))}async render(t){const{annotations:e}=t,a=this.div;Xi(a,this.viewport);const s=new Map,o={data:null,layer:a,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Jr,annotationStorage:t.annotationStorage||new sd,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const h=c.annotationType===oe.POPUP;if(h){const p=s.get(c.id);if(!p)continue;o.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const f=_0.create(o);if(!f.isRenderable)continue;if(!h&&c.popupRef){const p=s.get(c.popupRef);p?p.push(f):s.set(c.popupRef,[f])}const d=f.render();c.hidden&&(d.style.visibility="hidden"),await this.#s(d,c.id,o.elements),f._isEditable&&(this.#n.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}this.#a()}async addLinkAnnotations(t,e){const a={data:null,layer:this.div,linkService:e,svgFactory:new Jr,parent:this};for(const s of t){s.borderStyle||=Hb._defaultBorderStyle,a.data=s;const o=_0.create(a);if(!o.isRenderable)continue;const c=o.render();await this.#s(c,s.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Xi(e,{rotation:t.rotation}),this.#a(),e.hidden=!1}#a(){if(!this.#e)return;const t=this.div;for(const[e,a]of this.#e){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;a.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(a):o.classList.contains("annotationContent")?o.after(a):o.before(a):s.append(a);const c=this.#n.get(e);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,s.id,a),c._hasNoCanvas=!1):c.canvas=a)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return Rt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ys.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Bl=/\r\n?|\n/g;class be extends ht{#t;#e="";#n=`${this.id}-editor`;#i=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=be.prototype,e=o=>o.isEmpty(),a=vi.TRANSLATE_SMALL,s=vi.TRANSLATE_BIG;return Rt(this,"_keyboardManager",new uo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}]]))}static _type="freetext";static _editorType=At.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||be._defaultColor||ht._defaultLineColor,this.#s=t.fontSize||be._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){ht.initialize(t,e);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Mt.FREETEXT_SIZE:be._defaultFontSize=e;break;case Mt.FREETEXT_COLOR:be._defaultColor=e;break}}updateParams(t,e){switch(t){case Mt.FREETEXT_SIZE:this.#a(e);break;case Mt.FREETEXT_COLOR:this.#o(e);break}}static get defaultPropertiesToUpdate(){return[[Mt.FREETEXT_SIZE,be._defaultFontSize],[Mt.FREETEXT_COLOR,be._defaultColor||ht._defaultLineColor]]}get propertiesToUpdate(){return[[Mt.FREETEXT_SIZE,this.#s],[Mt.FREETEXT_COLOR,this.#t]]}#a(t){const e=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-this.#s)*this.parentScale),this.#s=s,this.#h()},a=this.#s;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const e=s=>{this.#t=this.editorDiv.style.color=s},a=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-be._internalPadding*t,-(be._internalPadding+this.#s)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const a of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&a.nodeName==="BR"||(t.push(be.#l(a)),e=a);return t.join(`
`)}#h(){const[t,e]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,c=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),a=o.getBoundingClientRect(),o.remove(),o.style.display=c,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=a.width/t,this.height=a.height/e):(this.width=a.height/t,this.height=a.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#r().trimEnd();if(t===e)return;const a=s=>{if(this.#e=s,!s){this.remove();return}this.#f(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{a(e)},undo:()=>{a(t)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){be._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,a.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,f]=this.getInitialTranslation();[h,f]=this.pageTranslationToScreen(h,f);const[d,p]=this.pageDimensions,[v,y]=this.pageTranslation;let b,S;switch(this.rotation){case 0:b=t+(c[0]-v)/d,S=e+this.height-(c[1]-y)/p;break;case 90:b=t+(c[0]-v)/d,S=e-(c[1]-y)/p,[h,f]=[f,-h];break;case 180:b=t-this.width+(c[0]-v)/d,S=e-(c[1]-y)/p,[h,f]=[-h,-f];break;case 270:b=t+(c[0]-v-this.height*p)/d,S=e+(c[1]-y-this.width*d)/p,[h,f]=[-f,h];break}this.setAt(b*s,S*o,h,f)}else this._moveAfterPaste(t,e);this.#f(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Bl,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:a}=e;if(a.length===1&&a[0]==="text/plain")return;t.preventDefault();const s=be.#d(e.getData("text")||"").replaceAll(Bl,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const c=o.getRangeAt(0);if(!s.includes(`
`)){c.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:f}=c,d=[],p=[];if(h.nodeType===Node.TEXT_NODE){const b=h.parentElement;if(p.push(h.nodeValue.slice(f).replaceAll(Bl,"")),b!==this.editorDiv){let S=d;for(const E of this.editorDiv.childNodes){if(E===b){S=p;continue}S.push(be.#l(E))}}d.push(h.nodeValue.slice(0,f).replaceAll(Bl,""))}else if(h===this.editorDiv){let b=d,S=0;for(const E of this.editorDiv.childNodes)S++===f&&(b=p),b.push(be.#l(E))}this.#e=`${d.join(`
`)}${s}${p.join(`
`)}`,this.#f();const v=new Range;let y=Math.sumPrecise(d.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const S=b.nodeValue.length;if(y<=S){v.setStart(b,y),v.setEnd(b,y);break}y-=S}o.removeAllRanges(),o.addRange(v)}#f(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(""," ")}static#d(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,a){let s=null;if(t instanceof zb){const{data:{defaultAppearanceData:{fontSize:c,fontColor:h},rect:f,rotation:d,id:p,popupRef:v},textContent:y,textPosition:b,parent:{page:{pageNumber:S}}}=t;if(!y||y.length===0)return null;s=t={annotationType:At.FREETEXT,color:Array.from(h),fontSize:c,value:y.join(`
`),position:b,pageIndex:S-1,rect:f.slice(0),rotation:d,annotationElementId:p,id:p,deleted:!1,popupRef:v}}const o=await super.deserialize(t,e,a);return o.#s=t.fontSize,o.#t=ct.makeHexColor(...t.color),o.#e=be.#d(t.value),o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=be._internalPadding*this.parentScale,a=this.getRect(e,e),s=ht._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),o={annotationType:At.FREETEXT,color:s,fontSize:this.#s,value:this.#u(),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.isCopy=!0,o):this.annotationElementId&&!this.#g(o)?null:(o.id=this.annotationElementId,o)}#g(t){const{value:e,fontSize:a,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==a||t.color.some((c,h)=>c!==s[h])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:a}=e;a.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,a.color=this.#t,e.replaceChildren();for(const o of this.#e.split(`
`)){const c=document.createElement("div");c.append(o?document.createTextNode(o):document.createElement("br")),e.append(c)}const s=be._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class it{static PRECISION=1e-4;toSVGPath(){Ut("Abstract method `toSVGPath` must be implemented.")}get box(){Ut("Abstract getter `box` must be implemented.")}serialize(t,e){Ut("Abstract method `serialize` must be implemented.")}static _rescale(t,e,a,s,o,c){c||=new Float32Array(t.length);for(let h=0,f=t.length;h<f;h+=2)c[h]=e+t[h]*s,c[h+1]=a+t[h+1]*o;return c}static _rescaleAndSwap(t,e,a,s,o,c){c||=new Float32Array(t.length);for(let h=0,f=t.length;h<f;h+=2)c[h]=e+t[h+1]*s,c[h+1]=a+t[h]*o;return c}static _translate(t,e,a,s){s||=new Float32Array(t.length);for(let o=0,c=t.length;o<c;o+=2)s[o]=e+t[o],s[o+1]=a+t[o+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,a,s,o){switch(o){case 90:return[1-e/a,t/s];case 180:return[1-t/a,1-e/s];case 270:return[e/a,1-t/s];default:return[t/a,e/s]}}static _normalizePagePoint(t,e,a){switch(a){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,a,s,o,c){return[(t+5*a)/6,(e+5*s)/6,(5*a+o)/6,(5*s+c)/6,(a+o)/2,(s+c)/2]}}class ba{#t;#e=[];#n;#i;#s=[];#a=new Float32Array(18);#o;#r;#h;#l;#f;#u;#d=[];static#g=8;static#p=2;static#c=ba.#g+ba.#p;constructor({x:t,y:e},a,s,o,c,h=0){this.#t=a,this.#u=o*s,this.#i=c,this.#a.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=h,this.#l=ba.#g*s,this.#h=ba.#c*s,this.#f=s,this.#d.push(t,e)}isEmpty(){return isNaN(this.#a[8])}#m(){const t=this.#a.subarray(4,6),e=this.#a.subarray(16,18),[a,s,o,c]=this.#t;return[(this.#o+(t[0]-e[0])/2-a)/o,(this.#r+(t[1]-e[1])/2-s)/c,(this.#o+(e[0]-t[0])/2-a)/o,(this.#r+(e[1]-t[1])/2-s)/c]}add({x:t,y:e}){this.#o=t,this.#r=e;const[a,s,o,c]=this.#t;let[h,f,d,p]=this.#a.subarray(8,12);const v=t-d,y=e-p,b=Math.hypot(v,y);if(b<this.#h)return!1;const S=b-this.#l,E=S/b,x=E*v,w=E*y;let T=h,R=f;h=d,f=p,d+=x,p+=w,this.#d?.push(t,e);const L=-w/S,C=x/S,B=L*this.#u,j=C*this.#u;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([d+B,p+j],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([d-B,p-j],16),isNaN(this.#a[6])?(this.#s.length===0&&(this.#a.set([h+B,f+j],2),this.#s.push(NaN,NaN,NaN,NaN,(h+B-a)/o,(f+j-s)/c),this.#a.set([h-B,f-j],14),this.#e.push(NaN,NaN,NaN,NaN,(h-B-a)/o,(f-j-s)/c)),this.#a.set([T,R,h,f,d,p],6),!this.isEmpty()):(this.#a.set([T,R,h,f,d,p],6),Math.abs(Math.atan2(R-f,T-h)-Math.atan2(w,x))<Math.PI/2?([h,f,d,p]=this.#a.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((h+d)/2-a)/o,((f+p)/2-s)/c),[h,f,T,R]=this.#a.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((T+h)/2-a)/o,((R+f)/2-s)/c),!0):([T,R,h,f,d,p]=this.#a.subarray(0,6),this.#s.push(((T+5*h)/6-a)/o,((R+5*f)/6-s)/c,((5*h+d)/6-a)/o,((5*f+p)/6-s)/c,((h+d)/2-a)/o,((f+p)/2-s)/c),[d,p,h,f,T,R]=this.#a.subarray(12,18),this.#e.push(((T+5*h)/6-a)/o,((R+5*f)/6-s)/c,((5*h+d)/6-a)/o,((5*f+p)/6-s)/c,((h+d)/2-a)/o,((f+p)/2-s)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#s,e=this.#e;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#v();const a=[];a.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?a.push(`L${t[s+4]} ${t[s+5]}`):a.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);this.#A(a);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?a.push(`L${e[s+4]} ${e[s+5]}`):a.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return this.#y(a),a.join(" ")}#v(){const[t,e,a,s]=this.#t,[o,c,h,f]=this.#m();return`M${(this.#a[2]-t)/a} ${(this.#a[3]-e)/s} L${(this.#a[4]-t)/a} ${(this.#a[5]-e)/s} L${o} ${c} L${h} ${f} L${(this.#a[16]-t)/a} ${(this.#a[17]-e)/s} L${(this.#a[14]-t)/a} ${(this.#a[15]-e)/s} Z`}#y(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#A(t){const[e,a,s,o]=this.#t,c=this.#a.subarray(4,6),h=this.#a.subarray(16,18),[f,d,p,v]=this.#m();t.push(`L${(c[0]-e)/s} ${(c[1]-a)/o} L${f} ${d} L${p} ${v} L${(h[0]-e)/s} ${(h[1]-a)/o}`)}newFreeDrawOutline(t,e,a,s,o,c){return new Ub(t,e,a,s,o,c)}getOutlines(){const t=this.#s,e=this.#e,a=this.#a,[s,o,c,h]=this.#t,f=new Float32Array((this.#d?.length??0)+2);for(let v=0,y=f.length-2;v<y;v+=2)f[v]=(this.#d[v]-s)/c,f[v+1]=(this.#d[v+1]-o)/h;if(f[f.length-2]=(this.#o-s)/c,f[f.length-1]=(this.#r-o)/h,isNaN(a[6])&&!this.isEmpty())return this.#S(f);const d=new Float32Array(this.#s.length+24+this.#e.length);let p=t.length;for(let v=0;v<p;v+=2){if(isNaN(t[v])){d[v]=d[v+1]=NaN;continue}d[v]=t[v],d[v+1]=t[v+1]}p=this.#x(d,p);for(let v=e.length-6;v>=6;v-=6)for(let y=0;y<6;y+=2){if(isNaN(e[v+y])){d[p]=d[p+1]=NaN,p+=2;continue}d[p]=e[v+y],d[p+1]=e[v+y+1],p+=2}return this.#E(d,p),this.newFreeDrawOutline(d,f,this.#t,this.#f,this.#n,this.#i)}#S(t){const e=this.#a,[a,s,o,c]=this.#t,[h,f,d,p]=this.#m(),v=new Float32Array(36);return v.set([NaN,NaN,NaN,NaN,(e[2]-a)/o,(e[3]-s)/c,NaN,NaN,NaN,NaN,(e[4]-a)/o,(e[5]-s)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(e[16]-a)/o,(e[17]-s)/c,NaN,NaN,NaN,NaN,(e[14]-a)/o,(e[15]-s)/c],0),this.newFreeDrawOutline(v,t,this.#t,this.#f,this.#n,this.#i)}#E(t,e){const a=this.#e;return t.set([NaN,NaN,NaN,NaN,a[4],a[5]],e),e+=6}#x(t,e){const a=this.#a.subarray(4,6),s=this.#a.subarray(16,18),[o,c,h,f]=this.#t,[d,p,v,y]=this.#m();return t.set([NaN,NaN,NaN,NaN,(a[0]-o)/h,(a[1]-c)/f,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,v,y,NaN,NaN,NaN,NaN,(s[0]-o)/h,(s[1]-c)/f],e),e+=24}}class Ub extends it{#t;#e=new Float32Array(4);#n;#i;#s;#a;#o;constructor(t,e,a,s,o,c){super(),this.#o=t,this.#s=e,this.#t=a,this.#a=s,this.#n=o,this.#i=c,this.lastPoint=[NaN,NaN],this.#r(c);const[h,f,d,p]=this.#e;for(let v=0,y=t.length;v<y;v+=2)t[v]=(t[v]-h)/d,t[v+1]=(t[v+1]-f)/p;for(let v=0,y=e.length;v<y;v+=2)e[v]=(e[v]-h)/d,e[v+1]=(e[v+1]-f)/p}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let e=6,a=this.#o.length;e<a;e+=6){if(isNaN(this.#o[e])){t.push(`L${this.#o[e+4]} ${this.#o[e+5]}`);continue}t.push(`C${this.#o[e]} ${this.#o[e+1]} ${this.#o[e+2]} ${this.#o[e+3]} ${this.#o[e+4]} ${this.#o[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,a,s],o){const c=a-t,h=s-e;let f,d;switch(o){case 0:f=it._rescale(this.#o,t,s,c,-h),d=it._rescale(this.#s,t,s,c,-h);break;case 90:f=it._rescaleAndSwap(this.#o,t,e,c,h),d=it._rescaleAndSwap(this.#s,t,e,c,h);break;case 180:f=it._rescale(this.#o,a,e,-c,h),d=it._rescale(this.#s,a,e,-c,h);break;case 270:f=it._rescaleAndSwap(this.#o,a,s,-c,-h),d=it._rescaleAndSwap(this.#s,a,s,-c,-h);break}return{outline:Array.from(f),points:[Array.from(d)]}}#r(t){const e=this.#o;let a=e[4],s=e[5];const o=[a,s,a,s];let c=a,h=s;const f=t?Math.max:Math.min;for(let p=6,v=e.length;p<v;p+=6){const y=e[p+4],b=e[p+5];if(isNaN(e[p]))ct.pointBoundingBox(y,b,o),h<b?(c=y,h=b):h===b&&(c=f(c,y));else{const S=[1/0,1/0,-1/0,-1/0];ct.bezierBoundingBox(a,s,...e.slice(p,p+6),S),ct.rectBoundingBox(...S,o),h<S[3]?(c=S[2],h=S[3]):h===S[3]&&(c=f(c,S[2]))}a=y,s=b}const d=this.#e;d[0]=o[0]-this.#n,d[1]=o[1]-this.#n,d[2]=o[2]-o[0]+2*this.#n,d[3]=o[3]-o[1]+2*this.#n,this.lastPoint=[c,h]}get box(){return this.#e}newOutliner(t,e,a,s,o,c=0){return new ba(t,e,a,s,o,c)}getNewOutline(t,e){const[a,s,o,c]=this.#e,[h,f,d,p]=this.#t,v=o*d,y=c*p,b=a*d+h,S=s*p+f,E=this.newOutliner({x:this.#s[0]*v+b,y:this.#s[1]*y+S},this.#t,this.#a,t,this.#i,e??this.#n);for(let x=2;x<this.#s.length;x+=2)E.add({x:this.#s[x]*v+b,y:this.#s[x+1]*y+S});return E.getOutlines()}}class Cf{#t;#e;#n=[];#i=[];constructor(t,e=0,a=0,s=!0){const o=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:b,y:S,width:E,height:x}of t){const w=Math.floor((b-e)/c)*c,T=Math.ceil((b+E+e)/c)*c,R=Math.floor((S-e)/c)*c,L=Math.ceil((S+x+e)/c)*c,C=[w,R,L,!0],B=[T,R,L,!1];this.#n.push(C,B),ct.rectBoundingBox(w,R,T,L,o)}const h=o[2]-o[0]+2*a,f=o[3]-o[1]+2*a,d=o[0]-a,p=o[1]-a,v=this.#n.at(s?-1:-2),y=[v[0],v[2]];for(const b of this.#n){const[S,E,x]=b;b[0]=(S-d)/h,b[1]=(E-p)/f,b[2]=(x-p)/f}this.#t=new Float32Array([d,p,h,f]),this.#e=y}getOutlines(){this.#n.sort((e,a)=>e[0]-a[0]||e[1]-a[1]||e[2]-a[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#h(e)),this.#o(e)):(this.#r(e),t.push(...this.#h(e)));return this.#s(t)}#s(t){const e=[],a=new Set;for(const c of t){const[h,f,d]=c;e.push([h,f,c],[h,d,c])}e.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=e.length;c<h;c+=2){const f=e[c][2],d=e[c+1][2];f.push(d),d.push(f),a.add(f),a.add(d)}const s=[];let o;for(;a.size>0;){const c=a.values().next().value;let[h,f,d,p,v]=c;a.delete(c);let y=h,b=f;for(o=[h,d],s.push(o);;){let S;if(a.has(p))S=p;else if(a.has(v))S=v;else break;a.delete(S),[h,f,d,p,v]=S,y!==h&&(o.push(y,b,h,b===f?f:d),y=h),b=b===f?d:f}o.push(y,b)}return new EC(s,this.#t,this.#e)}#a(t){const e=this.#i;let a=0,s=e.length-1;for(;a<=s;){const o=a+s>>1,c=e[o][0];if(c===t)return o;c<t?a=o+1:s=o-1}return s+1}#o([,t,e]){const a=this.#a(t);this.#i.splice(a,0,[t,e])}#r([,t,e]){const a=this.#a(t);for(let s=a;s<this.#i.length;s++){const[o,c]=this.#i[s];if(o!==t)break;if(o===t&&c===e){this.#i.splice(s,1);return}}for(let s=a-1;s>=0;s--){const[o,c]=this.#i[s];if(o!==t)break;if(o===t&&c===e){this.#i.splice(s,1);return}}}#h(t){const[e,a,s]=t,o=[[e,a,s]],c=this.#a(s);for(let h=0;h<c;h++){const[f,d]=this.#i[h];for(let p=0,v=o.length;p<v;p++){const[,y,b]=o[p];if(!(d<=y||b<=f)){if(y>=f){if(b>d)o[p][1]=d;else{if(v===1)return[];o.splice(p,1),p--,v--}continue}o[p][2]=f,b>d&&o.push([e,d,b])}}}return o}}class EC extends it{#t;#e;constructor(t,e,a){super(),this.#e=t,this.#t=e,this.lastPoint=a}toSVGPath(){const t=[];for(const e of this.#e){let[a,s]=e;t.push(`M${a} ${s}`);for(let o=2;o<e.length;o+=2){const c=e[o],h=e[o+1];c===a?(t.push(`V${h}`),s=h):h===s&&(t.push(`H${c}`),a=c)}t.push("Z")}return t.join(" ")}serialize([t,e,a,s],o){const c=[],h=a-t,f=s-e;for(const d of this.#e){const p=new Array(d.length);for(let v=0;v<d.length;v+=2)p[v]=t+d[v]*h,p[v+1]=s-d[v+1]*f;c.push(p)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Rf extends ba{newFreeDrawOutline(t,e,a,s,o,c){return new wC(t,e,a,s,o,c)}}class wC extends Ub{newOutliner(t,e,a,s,o,c=0){return new Rf(t,e,a,s,o,c)}}class on{#t=null;#e=null;#n;#i=null;#s=!1;#a=!1;#o=null;#r;#h=null;#l=null;#f;static#u=null;static get _keyboardManager(){return Rt(this,"_keyboardManager",new uo([[["Escape","mac+Escape"],on.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],on.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],on.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],on.prototype._moveToPrevious],[["Home","mac+Home"],on.prototype._moveToBeginning],[["End","mac+End"],on.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#a=!1,this.#f=Mt.HIGHLIGHT_COLOR,this.#o=t):(this.#a=!0,this.#f=Mt.HIGHLIGHT_DEFAULT_COLOR),this.#l=t?._uiManager||e,this.#r=this.#l._eventBus,this.#n=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",on.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#o&&(t.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#c.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const a=this.#e=document.createElement("span");return a.className="swatch",a.ariaHidden="true",a.style.backgroundColor=this.#n,t.append(a),t}renderMainDropdown(){const t=this.#i=this.#d();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#d(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Sn,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(t.id=`${this.#o.id}_colorpicker_dropdown`);for(const[a,s]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=a,o.setAttribute("data-l10n-id",on.#u[a]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=s,o.ariaSelected=s===this.#n,o.addEventListener("click",this.#g.bind(this,s),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#g(t,e){e.stopPropagation(),this.#r.dispatch("switchannotationeditorparams",{source:this,type:this.#f,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#c(t);return}const e=t.target.getAttribute("data-color");e&&this.#g(e,t)}_moveToNext(t){if(!this.#v){this.#c(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#v&&this._hideDropdownFromKeyboard();return}this.#v||this.#c(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#v){this.#c(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#v){this.#c(t);return}this.#i.lastChild?.focus()}#p(t){on._keyboardManager.exec(this,t)}#c(t){if(this.#v){this.hideDropdown();return}if(this.#s=t.detail===0,this.#h||(this.#h=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#h)})),this.#t.ariaExpanded="true",this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#d();this.#t.append(e)}#m(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#h?.abort(),this.#h=null}get#v(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#v){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#l.highlightColors.values();for(const a of this.#i.children)a.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class le extends ht{#t=null;#e=0;#n;#i=null;#s=null;#a=null;#o=null;#r=0;#h=null;#l=null;#f=null;#u=!1;#d=null;#g;#p=null;#c="";#m;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=At.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=le.prototype;return Rt(this,"_keyboardManager",new uo([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||le._defaultColor,this.#m=t.thickness||le._defaultThickness,this.#g=t.opacity||le._defaultOpacity,this.#n=t.boxes||null,this.#v=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#A(t),this.#M()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#r=t.focusOffset,this.#y(),this.#M(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#y(){const t=new Cf(this.#n,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Cf(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#a=e.getOutlines();const{lastPoint:a}=this.#a;this.#d=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#A({highlightOutlines:t,highlightId:e,clipPathId:a}){this.#l=t;const s=1.5;if(this.#a=t.getNewOutline(this.#m/2+s,.0025),e>=0)this.#f=e,this.#i=a,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#f,{bbox:le.#w(this.#l.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:le.#w(this.#a.box,p),path:{d:this.#a.toSVGPath()}})}const[o,c,h,f]=t.box;switch(this.rotation){case 0:this.x=o,this.y=c,this.width=h,this.height=f;break;case 90:{const[p,v]=this.parentDimensions;this.x=c,this.y=1-o,this.width=h*v/p,this.height=f*p/v;break}case 180:this.x=1-o,this.y=1-c,this.width=h,this.height=f;break;case 270:{const[p,v]=this.parentDimensions;this.x=1-c,this.y=o,this.width=h*v/p,this.height=f*p/v;break}}const{lastPoint:d}=this.#a;this.#d=[(d[0]-o)/h,(d[1]-c)/f]}static initialize(t,e){ht.initialize(t,e),le._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Mt.HIGHLIGHT_DEFAULT_COLOR:le._defaultColor=e;break;case Mt.HIGHLIGHT_THICKNESS:le._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#d}updateParams(t,e){switch(t){case Mt.HIGHLIGHT_COLOR:this.#S(e);break;case Mt.HIGHLIGHT_THICKNESS:this.#E(e);break}}static get defaultPropertiesToUpdate(){return[[Mt.HIGHLIGHT_DEFAULT_COLOR,le._defaultColor],[Mt.HIGHLIGHT_THICKNESS,le._defaultThickness]]}get propertiesToUpdate(){return[[Mt.HIGHLIGHT_COLOR,this.color||le._defaultColor],[Mt.HIGHLIGHT_THICKNESS,this.#m||le._defaultThickness],[Mt.HIGHLIGHT_FREE,this.#u]]}#S(t){const e=(o,c)=>{this.color=o,this.#g=c,this.parent?.drawLayer.updateProperties(this.#f,{root:{fill:o,"fill-opacity":c}}),this.#s?.updateColor(o)},a=this.color,s=this.#g;this.addCommands({cmd:e.bind(this,t,le._defaultOpacity),undo:e.bind(this,a,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#E(t){const e=this.#m,a=s=>{this.#m=s,this.#x(s)};this.addCommands({cmd:a.bind(this,t),undo:a.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new on({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#L())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#L())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#M(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){if(!this.#u)return;this.#A({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,a]=this.parentDimensions;this.setDims(this.width*e,this.height*a)}#C(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#M(t=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#g},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#u),this.#h&&(this.#h.style.clipPath=this.#i))}static#w([t,e,a,s],o){switch(o){case 90:return[1-e-s,t,s,a];case 180:return[1-t-a,1-e-s,a,s];case 270:return[e,1-t-a,s,a]}return[t,e,a,s]}rotate(t){const{drawLayer:e}=this.parent;let a;this.#u?(t=(t-this.rotation+360)%360,a=le.#w(this.#l.box,t)):a=le.#w([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#f,{bbox:a,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:le.#w(this.#a.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#h=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[a,s]=this.parentDimensions;return this.setDims(this.width*a,this.height*s),mb(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){le._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#o,this.#r)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#T(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#L(){return this.#u?this.rotation:0}#N(){if(this.#u)return null;const[t,e]=this.pageDimensions,[a,s]=this.pageTranslation,o=this.#n,c=new Float32Array(o.length*8);let h=0;for(const{x:f,y:d,width:p,height:v}of o){const y=f*t+a,b=(1-d)*e+s;c[h]=c[h+4]=y,c[h+1]=c[h+3]=b,c[h+2]=c[h+6]=y+p*t,c[h+5]=c[h+7]=b-v*e,h+=8}return c}#O(t){return this.#l.serialize(t,this.#L())}static startHighlighting(t,e,{target:a,x:s,y:o}){const{x:c,y:h,width:f,height:d}=a.getBoundingClientRect(),p=new AbortController,v=t.combinedSignal(p),y=b=>{p.abort(),this.#_(t,b)};window.addEventListener("blur",y,{signal:v}),window.addEventListener("pointerup",y,{signal:v}),window.addEventListener("pointerdown",ce,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Sn,{signal:v}),a.addEventListener("pointermove",this.#j.bind(this,t),{signal:v}),this._freeHighlight=new Rf({x:s,y:o},[c,h,f,d],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#j(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#_(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,a){let s=null;if(t instanceof Bb){const{data:{quadPoints:S,rect:E,rotation:x,id:w,color:T,opacity:R,popupRef:L},parent:{page:{pageNumber:C}}}=t;s=t={annotationType:At.HIGHLIGHT,color:Array.from(T),opacity:R,quadPoints:S,boxes:null,pageIndex:C-1,rect:E.slice(0),rotation:x,annotationElementId:w,id:w,deleted:!1,popupRef:L}}else if(t instanceof gd){const{data:{inkLists:S,rect:E,rotation:x,id:w,color:T,borderStyle:{rawWidth:R},popupRef:L},parent:{page:{pageNumber:C}}}=t;s=t={annotationType:At.HIGHLIGHT,color:Array.from(T),thickness:R,inkLists:S,boxes:null,pageIndex:C-1,rect:E.slice(0),rotation:x,annotationElementId:w,id:w,deleted:!1,popupRef:L}}const{color:o,quadPoints:c,inkLists:h,opacity:f}=t,d=await super.deserialize(t,e,a);d.color=ct.makeHexColor(...o),d.#g=f||1,h&&(d.#m=t.thickness),d._initialData=s;const[p,v]=d.pageDimensions,[y,b]=d.pageTranslation;if(c){const S=d.#n=[];for(let E=0;E<c.length;E+=8)S.push({x:(c[E]-y)/p,y:1-(c[E+1]-b)/v,width:(c[E+2]-c[E])/p,height:(c[E+1]-c[E+5])/v});d.#y(),d.#M(),d.rotate(d.rotation)}else if(h){d.#u=!0;const S=h[0],E={x:S[0]-y,y:v-(S[1]-b)},x=new Rf(E,[0,0,p,v],1,d.#m/2,!0,.001);for(let R=0,L=S.length;R<L;R+=2)E.x=S[R]-y,E.y=v-(S[R+1]-b),x.add(E);const{id:w,clipPathId:T}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);d.#A({highlightOutlines:x.getOutlines(),highlightId:w,clipPathId:T}),d.#M(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),a=ht._colorManager.convert(this.color),s={annotationType:At.HIGHLIGHT,color:a,opacity:this.#g,thickness:this.#m,quadPoints:this.#N(),outlines:this.#O(e),pageIndex:this.pageIndex,rect:e,rotation:this.#L(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#b(s)?null:(s.id=this.annotationElementId,s)}#b(t){const{color:e}=this._initialData;return t.color.some((a,s)=>a!==e[s])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Gb{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,a]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,a)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Ut("Not implemented")}}class gt extends ht{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#s=null;static#a=NaN;static#o=null;static#r=null;static#h=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#d())}#l({drawOutlines:t,drawId:e,drawingOptions:a}){this.#t=t,this._drawingOptions||=a,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#f(t,this.parent),this.#c(t.box)}#f(t,e){const{id:a}=e.drawLayer.draw(gt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return a}static _mergeSVGProperties(t,e){const a=new Set(Object.keys(t));for(const[s,o]of Object.entries(e))a.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){Ut("Not implemented")}static get typesMap(){Ut("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const a=this.typesMap.get(t);a&&this._defaultDrawingOptions.updateProperty(a,e),this._currentParent&&(gt.#n.updateProperty(a,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const a=this.constructor.typesMap.get(t);a&&this._updateProperty(t,a,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[a,s]of this.typesMap)t.push([a,e[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[a,s]of this.constructor.typesMap)t.push([a,e[s]]);return t}_updateProperty(t,e,a){const s=this._drawingOptions,o=s[e],c=h=>{s.updateProperty(e,h);const f=this.#t.updateProperty(e,h);f&&this.#c(f),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:c.bind(this,a),undo:c.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#d(),this.#c(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#d(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#d(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#f(this.#t,t)}}#g([t,e,a,s]){const{parentDimensions:[o,c],rotation:h}=this;switch(h){case 90:return[e,1-t,a*(c/o),s*(o/c)];case 180:return[1-t,1-e,a,s];case 270:return[1-e,t,a*(c/o),s*(o/c)];default:return[t,e,a,s]}}#p(){const{x:t,y:e,width:a,height:s,parentDimensions:[o,c],rotation:h}=this;switch(h){case 90:return[1-e,t,a*(o/c),s*(c/o)];case 180:return[1-t,1-e,a,s];case 270:return[e,1-t,a*(o/c),s*(c/o)];default:return[t,e,a,s]}}#c(t){if([this.x,this.y,this.width,this.height]=this.#g(t),this.div){this.fixAndSetPosition();const[e,a]=this.parentDimensions;this.setDims(this.width*e,this.height*a)}this._onResized()}#m(){const{x:t,y:e,width:a,height:s,rotation:o,parentRotation:c,parentDimensions:[h,f]}=this;switch((o*4+c)/90){case 1:return[1-e-s,t,s,a];case 2:return[1-t-a,1-e-s,a,s];case 3:return[e,1-t-a,s,a];case 4:return[t,e-a*(h/f),s*(f/h),a*(h/f)];case 5:return[1-e,t,a*(h/f),s*(f/h)];case 6:return[1-t-s*(f/h),1-e,s*(f/h),a*(h/f)];case 7:return[e-a*(h/f),1-t-s*(f/h),a*(h/f),s*(f/h)];case 8:return[t-a,e-s,a,s];case 9:return[1-e,t-a,s,a];case 10:return[1-t,1-e,a,s];case 11:return[e-s,1-t,s,a];case 12:return[t-s*(f/h),e,s*(f/h),a*(h/f)];case 13:return[1-e-a*(h/f),t-s*(f/h),a*(h/f),s*(f/h)];case 14:return[1-t,1-e-a*(h/f),s*(f/h),a*(h/f)];case 15:return[e,1-t,a*(h/f),s*(f/h)];default:return[t,e,a,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const a=super.render();a.classList.add("draw");const s=document.createElement("div");a.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[o,c]=this.parentDimensions;return this.setDims(this.width*o,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),a}static createDrawerInstance(t,e,a,s,o){Ut("Not implemented")}static startDrawing(t,e,a,s){const{target:o,offsetX:c,offsetY:h,pointerId:f,pointerType:d}=s;if(gt.#o&&gt.#o!==d)return;const{viewport:{rotation:p}}=t,{width:v,height:y}=o.getBoundingClientRect(),b=gt.#i=new AbortController,S=t.combinedSignal(b);if(gt.#a||=f,gt.#o??=d,window.addEventListener("pointerup",E=>{gt.#a===E.pointerId?this._endDraw(E):gt.#r?.delete(E.pointerId)},{signal:S}),window.addEventListener("pointercancel",E=>{gt.#a===E.pointerId?this._currentParent.endDrawingSession():gt.#r?.delete(E.pointerId)},{signal:S}),window.addEventListener("pointerdown",E=>{gt.#o===E.pointerType&&((gt.#r||=new Set).add(E.pointerId),gt.#n.isCancellable()&&(gt.#n.removeLastElement(),gt.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Sn,{signal:S}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),o.addEventListener("touchmove",E=>{E.timeStamp===gt.#h&&ce(E)},{signal:S}),t.toggleDrawing(),e._editorUndoBar?.hide(),gt.#n){t.drawLayer.updateProperties(this._currentDrawId,gt.#n.startNew(c,h,v,y,p));return}e.updateUIForDefaultProperties(this),gt.#n=this.createDrawerInstance(c,h,v,y,p),gt.#s=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(gt.#s.toSVGProperties(),gt.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(gt.#h=-1,!gt.#n)return;const{offsetX:e,offsetY:a,pointerId:s}=t;if(gt.#a===s){if(gt.#r?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,gt.#n.add(e,a)),gt.#h=t.timeStamp,ce(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,gt.#n=null,gt.#s=null,gt.#o=null,gt.#h=NaN),gt.#i&&(gt.#i.abort(),gt.#i=null,gt.#a=NaN,gt.#r=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,gt.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const a=gt.#n,s=this._currentDrawId,o=a.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(s,a.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(s,a.removeLastElement())},mustExec:!1,type:Mt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Mt.DRAW_STEP),!gt.#n.isEmpty()){const{pageDimensions:[a,s],scale:o}=e,c=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:gt.#n.getOutlines(a*o,s*o,o,this._INNER_MARGIN),drawingOptions:gt.#s,mustBeCommitted:!t});return this._cleanup(!0),c}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,a,s,o,c){Ut("Not implemented")}static async deserialize(t,e,a){const{rawDims:{pageWidth:s,pageHeight:o,pageX:c,pageY:h}}=e.viewport,f=this.deserializeDraw(c,h,s,o,this._INNER_MARGIN,t),d=await super.deserialize(t,e,a);return d.createDrawingOptions(t),d.#l({drawOutlines:f}),d.#d(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[e,a]=this.pageTranslation,[s,o]=this.pageDimensions;return this.#t.serialize([e,a,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class _C{#t=new Float64Array(6);#e;#n;#i;#s;#a;#o="";#r=0;#h=new go;#l;#f;constructor(t,e,a,s,o,c){this.#l=a,this.#f=s,this.#i=o,this.#s=c,[t,e]=this.#u(t,e);const h=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#a=[t,e],this.#n=[{line:h,points:this.#a}],this.#t.set(h,0)}updateProperty(t,e){t==="stroke-width"&&(this.#s=e)}#u(t,e){return it._normalizePoint(t,e,this.#l,this.#f,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#a.length<=10}add(t,e){[t,e]=this.#u(t,e);const[a,s,o,c]=this.#t.subarray(2,6),h=t-o,f=e-c;return Math.hypot(this.#l*h,this.#f*f)<=2?null:(this.#a.push(t,e),isNaN(a)?(this.#t.set([o,c,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([a,s,o,c,t,e],0),this.#e.push(...it.createBezierPoints(a,s,o,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const a=this.add(t,e);return a||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,a,s,o){this.#l=a,this.#f=s,this.#i=o,[t,e]=this.#u(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#a=[t,e];const h=this.#n.at(-1);return h&&(h.line=new Float32Array(h.line),h.points=new Float32Array(h.points)),this.#n.push({line:c,points:this.#a}),this.#t.set(c,0),this.#r=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#a=t.points,this.#r=0,{path:{d:this.toSVGPath()}}):this.#h.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#h.removeLastElement();this.#n.pop(),this.#o="";for(let t=0,e=this.#n.length;t<e;t++){const{line:a,points:s}=this.#n[t];this.#e=a,this.#a=s,this.#r=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=it.svgRound(this.#e[4]),e=it.svgRound(this.#e[5]);if(this.#a.length===2)return this.#o=`${this.#o} M ${t} ${e} Z`,this.#o;if(this.#a.length<=6){const s=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,s)} M ${t} ${e}`,this.#r=6}if(this.#a.length===4){const s=it.svgRound(this.#e[10]),o=it.svgRound(this.#e[11]);return this.#o=`${this.#o} L ${s} ${o}`,this.#r=12,this.#o}const a=[];this.#r===0&&(a.push(`M ${t} ${e}`),this.#r=6);for(let s=this.#r,o=this.#e.length;s<o;s+=6){const[c,h,f,d,p,v]=this.#e.slice(s,s+6).map(it.svgRound);a.push(`C${c} ${h} ${f} ${d} ${p} ${v}`)}return this.#o+=a.join(" "),this.#r=this.#e.length,this.#o}getOutlines(t,e,a,s){const o=this.#n.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#h.build(this.#n,t,e,a,this.#i,this.#s,s),this.#t=null,this.#e=null,this.#n=null,this.#o=null,this.#h}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class go extends it{#t;#e=0;#n;#i;#s;#a;#o;#r;#h;build(t,e,a,s,o,c,h){this.#s=e,this.#a=a,this.#o=s,this.#r=o,this.#h=c,this.#n=h??0,this.#i=t,this.#u()}get thickness(){return this.#h}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${it.svgRound(e[4])} ${it.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${it.svgRound(e[10])} ${it.svgRound(e[11])}`);continue}for(let a=6,s=e.length;a<s;a+=6){const[o,c,h,f,d,p]=e.subarray(a,a+6).map(it.svgRound);t.push(`C${o} ${c} ${h} ${f} ${d} ${p}`)}}return t.join("")}serialize([t,e,a,s],o){const c=[],h=[],[f,d,p,v]=this.#f();let y,b,S,E,x,w,T,R,L;switch(this.#r){case 0:L=it._rescale,y=t,b=e+s,S=a,E=-s,x=t+f*a,w=e+(1-d-v)*s,T=t+(f+p)*a,R=e+(1-d)*s;break;case 90:L=it._rescaleAndSwap,y=t,b=e,S=a,E=s,x=t+d*a,w=e+f*s,T=t+(d+v)*a,R=e+(f+p)*s;break;case 180:L=it._rescale,y=t+a,b=e,S=-a,E=s,x=t+(1-f-p)*a,w=e+d*s,T=t+(1-f)*a,R=e+(d+v)*s;break;case 270:L=it._rescaleAndSwap,y=t+a,b=e+s,S=-a,E=-s,x=t+(1-d-v)*a,w=e+(1-f-p)*s,T=t+(1-d)*a,R=e+(1-f)*s;break}for(const{line:C,points:B}of this.#i)c.push(L(C,y,b,S,E,o?new Array(C.length):null)),h.push(L(B,y,b,S,E,o?new Array(B.length):null));return{lines:c,points:h,rect:[x,w,T,R]}}static deserialize(t,e,a,s,o,{paths:{lines:c,points:h},rotation:f,thickness:d}){const p=[];let v,y,b,S,E;switch(f){case 0:E=it._rescale,v=-t/a,y=e/s+1,b=1/a,S=-1/s;break;case 90:E=it._rescaleAndSwap,v=-e/s,y=-t/a,b=1/s,S=1/a;break;case 180:E=it._rescale,v=t/a+1,y=-e/s,b=-1/a,S=1/s;break;case 270:E=it._rescaleAndSwap,v=e/s+1,y=t/a+1,b=-1/s,S=-1/a;break}if(!c){c=[];for(const w of h){const T=w.length;if(T===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(T===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const R=new Float32Array(3*(T-2));c.push(R);let[L,C,B,j]=w.subarray(0,4);R.set([NaN,NaN,NaN,NaN,L,C],0);for(let q=4;q<T;q+=2){const X=w[q],J=w[q+1];R.set(it.createBezierPoints(L,C,B,j,X,J),(q-2)*3),[L,C,B,j]=[B,j,X,J]}}}for(let w=0,T=c.length;w<T;w++)p.push({line:E(c[w].map(R=>R??NaN),v,y,b,S),points:E(h[w].map(R=>R??NaN),v,y,b,S)});const x=new this.prototype.constructor;return x.build(p,a,s,1,f,d,o),x}#l(t=this.#h){const e=this.#n+t/2*this.#o;return this.#r%180===0?[e/this.#s,e/this.#a]:[e/this.#a,e/this.#s]}#f(){const[t,e,a,s]=this.#t,[o,c]=this.#l(0);return[t+o,e+c,a-2*o,s-2*c]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:s}of this.#i){if(s.length<=12){for(let h=4,f=s.length;h<f;h+=6)ct.pointBoundingBox(s[h],s[h+1],t);continue}let o=s[4],c=s[5];for(let h=6,f=s.length;h<f;h+=6){const[d,p,v,y,b,S]=s.subarray(h,h+6);ct.bezierBoundingBox(o,c,d,p,v,y,b,S,t),o=b,c=S}}const[e,a]=this.#l();t[0]=Ie(t[0]-e,0,1),t[1]=Ie(t[1]-a,0,1),t[2]=Ie(t[2]+e,0,1),t[3]=Ie(t[3]+a,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#d(e):null}#d(t){const[e,a]=this.#l();this.#h=t;const[s,o]=this.#l(),[c,h]=[s-e,o-a],f=this.#t;return f[0]-=c,f[1]-=h,f[2]+=2*c,f[3]+=2*h,f}updateParentDimensions([t,e],a){const[s,o]=this.#l();this.#s=t,this.#a=e,this.#o=a;const[c,h]=this.#l(),f=c-s,d=h-o,p=this.#t;return p[0]-=f,p[1]-=d,p[2]+=2*f,p[3]+=2*d,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(it.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let a=0,s=0,o=0,c=0,h=0,f=0;switch(this.#e){case 90:s=e/t,o=-t/e,h=t;break;case 180:a=-1,c=-1,h=t,f=e;break;case 270:s=-e/t,o=t/e,f=e;break;default:return""}return`matrix(${a} ${s} ${o} ${c} ${it.svgRound(h)} ${it.svgRound(f)})`}getPathResizingSVGProperties([t,e,a,s]){const[o,c]=this.#l(),[h,f,d,p]=this.#t;if(Math.abs(d-o)<=it.PRECISION||Math.abs(p-c)<=it.PRECISION){const E=t+a/2-(h+d/2),x=e+s/2-(f+p/2);return{path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`,transform:`${this.rotationTransform} translate(${E} ${x})`}}}const v=(a-2*o)/(d-2*o),y=(s-2*c)/(p-2*c),b=d/a,S=p/s;return{path:{"transform-origin":`${it.svgRound(h)} ${it.svgRound(f)}`,transform:`${this.rotationTransform} scale(${b} ${S}) translate(${it.svgRound(o)} ${it.svgRound(c)}) scale(${v} ${y}) translate(${it.svgRound(-o)} ${it.svgRound(-c)})`}}}getPathResizedSVGProperties([t,e,a,s]){const[o,c]=this.#l(),h=this.#t,[f,d,p,v]=h;if(h[0]=t,h[1]=e,h[2]=a,h[3]=s,Math.abs(p-o)<=it.PRECISION||Math.abs(v-c)<=it.PRECISION){const x=t+a/2-(f+p/2),w=e+s/2-(d+v/2);for(const{line:T,points:R}of this.#i)it._translate(T,x,w,T),it._translate(R,x,w,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(a-2*o)/(p-2*o),b=(s-2*c)/(v-2*c),S=-y*(f+o)+t+o,E=-b*(d+c)+e+c;if(y!==1||b!==1||S!==0||E!==0)for(const{line:x,points:w}of this.#i)it._rescale(x,S,E,y,b,x),it._rescale(w,S,E,y,b,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],a){const[s,o]=a,c=this.#t,h=t-c[0],f=e-c[1];if(this.#s===s&&this.#a===o)for(const{line:d,points:p}of this.#i)it._translate(d,h,f,d),it._translate(p,h,f,p);else{const d=this.#s/s,p=this.#a/o;this.#s=s,this.#a=o;for(const{line:v,points:y}of this.#i)it._rescale(v,h,f,d,p,v),it._rescale(y,h,f,d,p,y);c[2]*=d,c[3]*=p}return c[0]=t,c[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${it.svgRound(t[0])} ${it.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class gc extends Gb{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ht._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new gc(this._viewParameters);return t.updateAll(this),t}}class md extends gt{static _type="ink";static _editorType=At.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){ht.initialize(t,e),this._defaultDrawingOptions=new gc(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Rt(this,"typesMap",new Map([[Mt.INK_THICKNESS,"stroke-width"],[Mt.INK_COLOR,"stroke"],[Mt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,a,s,o){return new _C(t,e,a,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,a,s,o,c){return go.deserialize(t,e,a,s,o,c)}static async deserialize(t,e,a){let s=null;if(t instanceof gd){const{data:{inkLists:c,rect:h,rotation:f,id:d,color:p,opacity:v,borderStyle:{rawWidth:y},popupRef:b},parent:{page:{pageNumber:S}}}=t;s=t={annotationType:At.INK,color:Array.from(p),thickness:y,opacity:v,paths:{points:c},boxes:null,pageIndex:S-1,rect:h.slice(0),rotation:f,annotationElementId:d,id:d,deleted:!1,popupRef:b}}const o=await super.deserialize(t,e,a);return o._initialData=s,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:a}=this;e.updateSVGProperty("stroke-width"),a.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:a}){this._drawingOptions=md.getDefaultDrawingOptions({stroke:ct.makeHexColor(...t),"stroke-width":e,"stroke-opacity":a})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:a,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":c,"stroke-width":h}}=this,f={annotationType:At.INK,color:ht._colorManager.convert(o),opacity:c,thickness:h,paths:{lines:e,points:a},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(f.isCopy=!0,f):this.annotationElementId&&!this.#t(f)?null:(f.id=this.annotationElementId,f)}#t(t){const{color:e,thickness:a,opacity:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,h)=>c!==e[h])||t.thickness!==a||t.opacity!==s||t.pageIndex!==o}renderAnnotationElement(t){const{points:e,rect:a}=this.serializeDraw(!1);return t.updateEdited({rect:a,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class Mf extends go{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const jl=8,Fr=3;class va{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,a,s){return a-=t,s-=e,a===0?s>0?0:4:a===1?s+6:2-s}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,a,s,o,c,h){const f=this.#e(a,s,o,c);for(let d=0;d<8;d++){const p=(-d+f-h+16)%8,v=this.#n[2*p],y=this.#n[2*p+1];if(t[(a+v)*e+(s+y)]!==0)return p}return-1}static#s(t,e,a,s,o,c,h){const f=this.#e(a,s,o,c);for(let d=0;d<8;d++){const p=(d+f+h+16)%8,v=this.#n[2*p],y=this.#n[2*p+1];if(t[(a+v)*e+(s+y)]!==0)return p}return-1}static#a(t,e,a,s){const o=t.length,c=new Int32Array(o);for(let p=0;p<o;p++)c[p]=t[p]<=s?1:0;for(let p=1;p<a-1;p++)c[p*e]=c[p*e+e-1]=0;for(let p=0;p<e;p++)c[p]=c[e*a-1-p]=0;let h=1,f;const d=[];for(let p=1;p<a-1;p++){f=1;for(let v=1;v<e-1;v++){const y=p*e+v,b=c[y];if(b===0)continue;let S=p,E=v;if(b===1&&c[y-1]===0)h+=1,E-=1;else if(b>=1&&c[y+1]===0)h+=1,E+=1,b>1&&(f=b);else{b!==1&&(f=Math.abs(b));continue}const x=[v,p],w=E===v+1,T={isHole:w,points:x,id:h,parent:0};d.push(T);let R;for(const tt of d)if(tt.id===f){R=tt;break}R?R.isHole?T.parent=w?R.parent:f:T.parent=w?f:R.parent:T.parent=w?f:0;const L=this.#i(c,e,p,v,S,E,0);if(L===-1){c[y]=-h,c[y]!==1&&(f=Math.abs(c[y]));continue}let C=this.#n[2*L],B=this.#n[2*L+1];const j=p+C,q=v+B;S=j,E=q;let X=p,J=v;for(;;){const tt=this.#s(c,e,X,J,S,E,1);C=this.#n[2*tt],B=this.#n[2*tt+1];const lt=X+C,pt=J+B;x.push(pt,lt);const st=X*e+J;if(c[st+1]===0?c[st]=-h:c[st]===1&&(c[st]=h),lt===p&&pt===v&&X===j&&J===q){c[y]!==1&&(f=Math.abs(c[y]));break}else S=X,E=J,X=lt,J=pt}}}return d}static#o(t,e,a,s){if(a-e<=4){for(let j=e;j<a-2;j+=2)s.push(t[j],t[j+1]);return}const o=t[e],c=t[e+1],h=t[a-4]-o,f=t[a-3]-c,d=Math.hypot(h,f),p=h/d,v=f/d,y=p*c-v*o,b=f/h,S=1/d,E=Math.atan(b),x=Math.cos(E),w=Math.sin(E),T=S*(Math.abs(x)+Math.abs(w)),R=S*(1-T+T**2),L=Math.max(Math.atan(Math.abs(w+x)*R),Math.atan(Math.abs(w-x)*R));let C=0,B=e;for(let j=e+2;j<a-2;j+=2){const q=Math.abs(y-p*t[j+1]+v*t[j]);q>C&&(B=j,C=q)}C>(d*L)**2?(this.#o(t,e,B+2,s),this.#o(t,B,a,s)):s.push(o,c)}static#r(t){const e=[],a=t.length;return this.#o(t,0,a,e),e.push(t[a-2],t[a-1]),e.length<=4?null:e}static#h(t,e,a,s,o,c){const h=new Float32Array(c**2),f=-2*s**2,d=c>>1;for(let E=0;E<c;E++){const x=(E-d)**2;for(let w=0;w<c;w++)h[E*c+w]=Math.exp((x+(w-d)**2)/f)}const p=new Float32Array(256),v=-2*o**2;for(let E=0;E<256;E++)p[E]=Math.exp(E**2/v);const y=t.length,b=new Uint8Array(y),S=new Uint32Array(256);for(let E=0;E<a;E++)for(let x=0;x<e;x++){const w=E*e+x,T=t[w];let R=0,L=0;for(let B=0;B<c;B++){const j=E+B-d;if(!(j<0||j>=a))for(let q=0;q<c;q++){const X=x+q-d;if(X<0||X>=e)continue;const J=t[j*e+X],tt=h[B*c+q]*p[Math.abs(J-T)];R+=J*tt,L+=tt}}const C=b[w]=Math.round(R/L);S[C]++}return[b,S]}static#l(t){const e=new Uint32Array(256);for(const a of t)e[a]++;return e}static#f(t){const e=t.length,a=new Uint8ClampedArray(e>>2);let s=-1/0,o=1/0;for(let h=0,f=a.length;h<f;h++){if(t[(h<<2)+3]===0){s=a[h]=255;continue}const p=a[h]=t[h<<2];p>s&&(s=p),p<o&&(o=p)}const c=255/(s-o);for(let h=0;h<e;h++)a[h]=(a[h]-o)*c;return a}static#u(t){let e,a=-1/0,s=-1/0;const o=t.findIndex(f=>f!==0);let c=o,h=o;for(e=o;e<256;e++){const f=t[e];f>a&&(e-c>s&&(s=e-c,h=e-1),a=f,c=e)}for(e=h-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#d(t){const e=t,{width:a,height:s}=t,{maxDim:o}=this.#t;let c=a,h=s;if(a>o||s>o){let y=a,b=s,S=Math.log2(Math.max(a,s)/o);const E=Math.floor(S);S=S===E?E-1:E;for(let w=0;w<S;w++){c=Math.ceil(y/2),h=Math.ceil(b/2);const T=new OffscreenCanvas(c,h);T.getContext("2d").drawImage(t,0,0,y,b,0,0,c,h),y=c,b=h,t!==e&&t.close(),t=T.transferToImageBitmap()}const x=Math.min(o/c,o/h);c=Math.round(c*x),h=Math.round(h*x)}const d=new OffscreenCanvas(c,h).getContext("2d",{willReadFrequently:!0});d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,c,h);const p=d.getImageData(0,0,c,h).data;return[this.#f(p),c,h]}static extractContoursFromText(t,{fontFamily:e,fontStyle:a,fontWeight:s},o,c,h,f){let d=new OffscreenCanvas(1,1),p=d.getContext("2d",{alpha:!1});const v=200,y=p.font=`${a} ${s} ${v}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:S,actualBoundingBoxAscent:E,actualBoundingBoxDescent:x,fontBoundingBoxAscent:w,fontBoundingBoxDescent:T,width:R}=p.measureText(t),L=1.5,C=Math.ceil(Math.max(Math.abs(b)+Math.abs(S)||0,R)*L),B=Math.ceil(Math.max(Math.abs(E)+Math.abs(x)||v,Math.abs(w)+Math.abs(T)||v)*L);d=new OffscreenCanvas(C,B),p=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=y,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,C,B),p.fillStyle="black",p.fillText(t,C*(L-1)/2,B*(3-L)/2);const j=this.#f(p.getImageData(0,0,C,B).data),q=this.#l(j),X=this.#u(q),J=this.#a(j,C,B,X);return this.processDrawnLines({lines:{curves:J,width:C,height:B},pageWidth:o,pageHeight:c,rotation:h,innerMargin:f,mustSmooth:!0,areContours:!0})}static process(t,e,a,s,o){const[c,h,f]=this.#d(t),[d,p]=this.#h(c,h,f,Math.hypot(h,f)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),v=this.#u(p),y=this.#a(d,h,f,v);return this.processDrawnLines({lines:{curves:y,width:h,height:f},pageWidth:e,pageHeight:a,rotation:s,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:a,rotation:s,innerMargin:o,mustSmooth:c,areContours:h}){s%180!==0&&([e,a]=[a,e]);const{curves:f,width:d,height:p}=t,v=t.thickness??0,y=[],b=Math.min(e/d,a/p),S=b/e,E=b/a,x=[];for(const{points:T}of f){const R=c?this.#r(T):T;if(!R)continue;x.push(R);const L=R.length,C=new Float32Array(L),B=new Float32Array(3*(L===2?2:L-2));if(y.push({line:B,points:C}),L===2){C[0]=R[0]*S,C[1]=R[1]*E,B.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[j,q,X,J]=R;j*=S,q*=E,X*=S,J*=E,C.set([j,q,X,J],0),B.set([NaN,NaN,NaN,NaN,j,q],0);for(let tt=4;tt<L;tt+=2){const lt=C[tt]=R[tt]*S,pt=C[tt+1]=R[tt+1]*E;B.set(it.createBezierPoints(j,q,X,J,lt,pt),(tt-2)*3),[j,q,X,J]=[X,J,lt,pt]}}if(y.length===0)return null;const w=h?new Mf:new go;return w.build(y,e,a,1,s,h?0:v,o),{outline:w,newCurves:x,areContours:h,thickness:v,width:d,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:a,width:s,height:o}){let c=1/0,h=-1/0,f=0;for(const R of t){f+=R.length;for(let L=2,C=R.length;L<C;L++){const B=R[L]-R[L-2];c=Math.min(c,B),h=Math.max(h,B)}}let d;c>=-128&&h<=127?d=Int8Array:c>=-32768&&h<=32767?d=Int16Array:d=Int32Array;const p=t.length,v=jl+Fr*p,y=new Uint32Array(v);let b=0;y[b++]=v*Uint32Array.BYTES_PER_ELEMENT+(f-2*p)*d.BYTES_PER_ELEMENT,y[b++]=0,y[b++]=s,y[b++]=o,y[b++]=e?0:1,y[b++]=Math.max(0,Math.floor(a??0)),y[b++]=p,y[b++]=d.BYTES_PER_ELEMENT;for(const R of t)y[b++]=R.length-2,y[b++]=R[0],y[b++]=R[1];const S=new CompressionStream("deflate-raw"),E=S.writable.getWriter();await E.ready,E.write(y);const x=d.prototype.constructor;for(const R of t){const L=new x(R.length-2);for(let C=2,B=R.length;C<B;C++)L[C-2]=R[C]-R[C-2];E.write(L)}E.close();const w=await new Response(S.readable).arrayBuffer(),T=new Uint8Array(w);return fb(T)}static async decompressSignature(t){try{const e=tT(t),{readable:a,writable:s}=new DecompressionStream("deflate-raw"),o=s.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let c=null,h=0;for await(const R of a)c||=new Uint8Array(new Uint32Array(R.buffer,0,4)[0]),c.set(R,h),h+=R.length;const f=new Uint32Array(c.buffer,0,c.length>>2),d=f[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const p=f[2],v=f[3],y=f[4]===0,b=f[5],S=f[6],E=f[7],x=[],w=(jl+Fr*S)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(E){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(c.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(c.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(c.buffer,w);break}h=0;for(let R=0;R<S;R++){const L=f[Fr*R+jl],C=new Float32Array(L+2);x.push(C);for(let B=0;B<Fr-1;B++)C[B]=f[Fr*R+jl+B+1];for(let B=0;B<L;B++)C[B+2]=C[B]+T[h++]}return{areContours:y,thickness:b,outlines:x,width:p,height:v}}catch(e){return St(`decompressSignature: ${e}`),null}}}class vd extends Gb{constructor(){super(),super.updateProperties({fill:ht._defaultLineColor,"stroke-width":0})}clone(){const t=new vd;return t.updateAll(this),t}}class yd extends gc{constructor(t){super(t),super.updateProperties({stroke:ht._defaultLineColor,"stroke-width":1})}clone(){const t=new yd(this._viewParameters);return t.updateAll(this),t}}class Fn extends gt{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=At.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){ht.initialize(t,e),this._defaultDrawingOptions=new vd,this._defaultDrawnSignatureOptions=new yd(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Rt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:a}=this;if(a&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:s,mustSmooth:o,areContours:c,description:h,uuid:f,heightInPage:d}=this.#n,{rawDims:{pageWidth:p,pageHeight:v},rotation:y}=this.parent.viewport,b=va.processDrawnLines({lines:s,pageWidth:p,pageHeight:v,rotation:y,innerMargin:Fn._INNER_MARGIN,mustSmooth:o,areContours:c});this.addSignature(b,d,h,f)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return a&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:a,width:s,height:o}=this.#n,c=Math.max(s,o),h=va.processDrawnLines({lines:{curves:t.map(f=>({points:f})),thickness:a,width:s,height:o},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:h.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,a,s){const{x:o,y:c}=this,{outline:h}=this.#n=t;this.#t=h instanceof Mf,this.description=a,this.div.setAttribute("data-l10n-args",JSON.stringify({description:a}));let f;this.#t?f=Fn.getDefaultDrawingOptions():(f=Fn._defaultDrawnSignatureOptions.clone(),f.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:f});const[d,p]=this.parentDimensions,[,v]=this.pageDimensions;let y=e/v;y=y>=1?.5:y,this.width*=y/this.height,this.width>=1&&(y*=.9/this.width,this.width=.9),this.height=y,this.setDims(d*this.width,p*this.height),this.x=o,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!a}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:a},rotation:s}=this.parent.viewport;return va.process(t,e,a,s,Fn._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:a,pageHeight:s},rotation:o}=this.parent.viewport;return va.extractContoursFromText(t,e,a,s,o,Fn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:a},rotation:s}=this.parent.viewport;return va.processDrawnLines({lines:t,pageWidth:e,pageHeight:a,rotation:s,innerMargin:Fn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Fn.getDefaultDrawingOptions():(this._drawingOptions=Fn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:a,rect:s}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,c={annotationType:At.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:o,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.paths={lines:e,points:a},c.uuid=this.#i,c.isCopy=!0):c.lines=e,this.#e&&(c.accessibilityData={type:"Figure",alt:this.#e}),c}static deserializeDraw(t,e,a,s,o,c){return c.areContours?Mf.deserialize(t,e,a,s,o,c):go.deserialize(t,e,a,s,o,c)}static async deserialize(t,e,a){const s=await super.deserialize(t,e,a);return s.#t=t.areContours,s.#e=t.accessibilityData?.alt||"",s.#i=t.uuid,s}}class xC extends ht{#t=null;#e=null;#n=null;#i=null;#s=null;#a="";#o=null;#r=!1;#h=null;#l=!1;#f=!1;static _type="stamp";static _editorType=At.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#s=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){ht.initialize(t,e)}static isHandlingMimeForPasting(t){return Jl.includes(t)}static paste(t,e){e.pasteEditor({mode:At.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#a=t.file.name),this.#p()}#d(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:c}=t||this.copyCanvas(null,null,!0).imageData,h=await a.guess({name:"altText",request:{data:s,width:o,height:c,channels:s.length/(o*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const f=h.output;return await this.setGuessedAltText(f),e&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(a=>this.#u(a,!0)).finally(()=>this.#d());return}if(this.#i){const a=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(a).then(s=>this.#u(s)).finally(()=>this.#d());return}if(this.#s){const a=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(a).then(s=>this.#u(s)).finally(()=>this.#d());return}const t=document.createElement("input");t.type="file",t.accept=Jl.join(",");const e=this._uiManager._signal;this.#n=new Promise(a=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(s)}a()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),a()},{signal:e})}).finally(()=>this.#d()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#s||this.#e||this.#r)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#r||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:a,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),a&&this._uiManager.imageManager.isValidId(a)&&(this.#e=a,s&&(this.#t=s),this.#r=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#h!==null&&clearTimeout(this.#h);const t=200;this.#h=setTimeout(()=>{this.#h=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:a}=this.#t;const[s,o]=this.pageDimensions,c=.75;if(this.width)e=this.width*s,a=this.height*o;else if(e>c*s||a>c*o){const p=Math.min(c*s/e,c*o/a);e*=p,a*=p}const[h,f]=this.parentDimensions;this.setDims(e*h/s,a*f/o),this._uiManager.enableWaiting(!1);const d=this.#o=document.createElement("canvas");d.setAttribute("role","img"),this.addContainer(d),this.width=e/s,this.height=a/o,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,a=!1){t||(t=224);const{width:s,height:o}=this.#t,c=new Rn;let h=this.#t,f=s,d=o,p=null;if(e){if(s>e||o>e){const B=Math.min(e/s,e/o);f=Math.floor(s*B),d=Math.floor(o*B)}p=document.createElement("canvas");const y=p.width=Math.ceil(f*c.sx),b=p.height=Math.ceil(d*c.sy);this.#l||(h=this.#c(y,b));const S=p.getContext("2d");S.filter=this._uiManager.hcmFilter;let E="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(E="#8f8f9d",x="#42414d");const w=15,T=w*c.sx,R=w*c.sy,L=new OffscreenCanvas(T*2,R*2),C=L.getContext("2d");C.fillStyle=E,C.fillRect(0,0,T*2,R*2),C.fillStyle=x,C.fillRect(0,0,T,R),C.fillRect(T,R,T,R),S.fillStyle=S.createPattern(L,"repeat"),S.fillRect(0,0,y,b),S.drawImage(h,0,0,h.width,h.height,0,0,y,b)}let v=null;if(a){let y,b;if(c.symmetric&&h.width<t&&h.height<t)y=h.width,b=h.height;else if(h=this.#t,s>t||o>t){const x=Math.min(t/s,t/o);y=Math.floor(s*x),b=Math.floor(o*x),this.#l||(h=this.#c(y,b))}const E=new OffscreenCanvas(y,b).getContext("2d",{willReadFrequently:!0});E.drawImage(h,0,0,h.width,h.height,0,0,y,b),v={width:y,height:b,data:E.getImageData(0,0,y,b).data}}return{canvas:p,width:f,height:d,imageData:v}}#c(t,e){const{width:a,height:s}=this.#t;let o=a,c=s,h=this.#t;for(;o>2*t||c>2*e;){const f=o,d=c;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(o,c);p.getContext("2d").drawImage(h,0,0,f,d,0,0,o,c),h=p.transferToImageBitmap()}return h}#m(){const[t,e]=this.parentDimensions,{width:a,height:s}=this,o=new Rn,c=Math.ceil(a*t*o.sx),h=Math.ceil(s*e*o.sy),f=this.#o;if(!f||f.width===c&&f.height===h)return;f.width=c,f.height=h;const d=this.#l?this.#t:this.#c(c,h),p=f.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(d,0,0,d.width,d.height,0,0,c,h)}#v(t){if(t){if(this.#l){const s=this._uiManager.imageManager.getSvgUrl(this.#e);if(s)return s}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,a]=this.pageDimensions,s=Math.round(this.width*e*xa.PDF_TO_CSS_UNITS),o=Math.round(this.height*a*xa.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(s,o);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,s,o),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,a){let s=null,o=!1;if(t instanceof jb){const{data:{rect:E,rotation:x,id:w,structParent:T,popupRef:R},container:L,parent:{page:{pageNumber:C}},canvas:B}=t;let j,q;B?(delete t.canvas,{id:j,bitmap:q}=a.imageManager.getFromCanvas(L.id,B),B.remove()):(o=!0,t._hasNoCanvas=!0);const X=(await e._structTree.getAriaAttributes(`${td}${w}`))?.get("aria-label")||"";s=t={annotationType:At.STAMP,bitmapId:j,bitmap:q,pageIndex:C-1,rect:E.slice(0),rotation:x,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:T,popupRef:R}}const c=await super.deserialize(t,e,a),{rect:h,bitmap:f,bitmapUrl:d,bitmapId:p,isSvg:v,accessibilityData:y}=t;o?(a.addMissingCanvas(t.id,c),c.#r=!0):p&&a.imageManager.isValidId(p)?(c.#e=p,f&&(c.#t=f)):c.#i=d,c.#l=v;const[b,S]=c.pageDimensions;return c.width=(h[2]-h[0])/b,c.height=(h[3]-h[1])/S,y&&(c.altTextData=y),c._initialData=s,c.#f=!!s,c}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a={annotationType:At.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(t)return a.bitmapUrl=this.#v(!0),a.accessibilityData=this.serializeAltText(!0),a.isCopy=!0,a;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(a.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const h=this.#y(a);if(h.isSame)return null;h.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1}if(a.id=this.annotationElementId,e===null)return a;e.stamps||=new Map;const c=this.#l?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:c,serialized:a}),a.bitmap=this.#v(!1);else if(this.#l){const h=e.stamps.get(this.#e);c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=this.#v(!1))}return a}#y(t){const{pageIndex:e,accessibilityData:{altText:a}}=this._initialData,s=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===a;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class jn{#t;#e=!1;#n=null;#i=null;#s=null;#a=new Map;#o=!1;#r=!1;#h=!1;#l=null;#f=null;#u=null;#d=null;#g=null;#p=-1;#c;static _initialized=!1;static#m=new Map([be,md,xC,le,Fn].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:a,structTreeLayer:s,accessibilityManager:o,annotationLayer:c,drawLayer:h,textLayer:f,viewport:d,l10n:p}){const v=[...jn.#m.values()];if(!jn._initialized){jn._initialized=!0;for(const y of v)y.initialize(p,t)}t.registerEditorTypes(v),this.#c=t,this.pageIndex=e,this.div=a,this.#t=o,this.#n=c,this.viewport=d,this.#u=f,this.drawLayer=h,this._structTree=s,this.#c.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===At.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#E(),t){case At.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case At.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case At.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const a of jn.#m.values())e.toggle(`${a._type}Editing`,t===a._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#h=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#g?.abort(),this.#g=null;const t=new Set;for(const a of this.#a.values())a.enableEditing(),a.show(!0),a.annotationElementId&&(this.#c.removeChangedExistingAnnotation(a),t.add(a.annotationElementId));if(!this.#n){this.#h=!1;return}const e=this.#n.getEditableAnnotations();for(const a of e){if(a.hide(),this.#c.isDeletedAnnotationElement(a.data.id)||t.has(a.data.id))continue;const s=await this.deserialize(a);s&&(this.addOrRebuild(s),s.enableEditing())}this.#h=!1}disable(){if(this.#r=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#g){this.#g=new AbortController;const s=this.#c.combinedSignal(this.#g);this.#u.div.addEventListener("pointerdown",o=>{const{clientX:h,clientY:f,timeStamp:d}=o,p=this.#p;if(d-p>500){this.#p=d;return}this.#p=-1;const{classList:v}=this.div;v.toggle("getElements",!0);const y=document.elementsFromPoint(h,f);if(v.toggle("getElements",!1),!this.div.contains(y[0]))return;let b;const S=new RegExp(`^${ob}[0-9]+$`);for(const x of y)if(S.test(x.id)){b=x.id;break}if(!b)return;const E=this.#a.get(b);E?.annotationElementId===null&&(o.stopPropagation(),o.preventDefault(),E.dblclick())},{signal:s,capture:!0})}const t=new Map,e=new Map;for(const s of this.#a.values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else e.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){const s=this.#n.getEditableAnnotations();for(const o of s){const{id:c}=o.data;if(this.#c.isDeletedAnnotationElement(c))continue;let h=e.get(c);if(h){h.resetAnnotationElement(o),h.show(!1),o.show();continue}h=t.get(c),h&&(this.#c.addChangedExistingAnnotation(h),h.renderAnnotationElement(o)&&h.show(!1)),o.show()}}this.#E(),this.isEmpty&&(this.div.hidden=!0);const{classList:a}=this.div;for(const s of jn.#m.values())a.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#r=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#d){this.#d=new AbortController;const t=this.#c.combinedSignal(this.#d);this.#u.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#d&&(this.#d.abort(),this.#d=null,this.#u.div.classList.remove("highlighting"))}#v(t){this.#c.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:a}=xe.platform;if(t.button!==0||t.ctrlKey&&a)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),le.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#c.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#a.set(t.id,t);const{annotationElementId:e}=t;e&&this.#c.isDeletedAnnotationElement(e)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#a.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#r&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t.annotationElementId),ht.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#h),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),a=()=>{t.remove()};this.addCommands({cmd:e,undo:a,mustExec:!1})}getNextId(){return this.#c.getId()}get#y(){return jn.#m.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#A(t){const e=this.#y;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:a,offsetY:s}=this.#S(),o=this.getNextId(),c=this.#A({parent:this,id:o,x:a,y:s,uiManager:this.#c,isCentered:!0,...e});c&&this.add(c)}async deserialize(t){return await jn.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,e,a={}){const s=this.getNextId(),o=this.#A({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:e,...a});return o&&this.add(o),o}#S(){const{x:t,y:e,width:a,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,e),h=Math.min(window.innerWidth,t+a),f=Math.min(window.innerHeight,e+s),d=(o+h)/2-t,p=(c+f)/2-e,[v,y]=this.viewport.rotation%180===0?[d,p]:[p,d];return{offsetX:v,offsetY:y}}addNewEditor(t={}){this.createAndAddNewEditor(this.#S(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:e}=xe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#o||(this.#o=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const a=this.#c.getMode();if(a===At.STAMP||a===At.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===At.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:e}=xe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#o=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const a=this.#c.getActive();this.#e=!a||a.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:a})=>{a&&!this.div.contains(a)&&(this.#f=null,this.commitOrRemove())},{signal:e}),this.#y.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#f=e);return}this.#f&&setTimeout(()=>{this.#f?.focus(),this.#f=null},0)}endDrawingSession(t=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#f=null,this.#y.endDrawing(t)):null}findNewParent(t,e,a){const s=this.#c.findParent(e,a);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const t of this.#a.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#a.clear(),this.#c.removeLayer(this)}#E(){for(const t of this.#a.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Xi(this.div,t);for(const e of this.#c.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#E();const e=this.viewport.rotation,a=t.rotation;if(this.viewport=t,Xi(this.div,{rotation:a}),e!==a)for(const s of this.#a.values())s.rotate(a)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#c.viewParameters.realScale}}class _e{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Rt(this,"_svgFactory",new Jr)}static#s(t,[e,a,s,o]){const{style:c}=t;c.top=`${100*a}%`,c.left=`${100*e}%`,c.width=`${100*s}%`,c.height=`${100*o}%`}#a(){const t=_e._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,e){const a=_e._svgFactory.createElement("clipPath");t.append(a);const s=`clip_${e}`;a.setAttribute("id",s),a.setAttribute("clipPathUnits","objectBoundingBox");const o=_e._svgFactory.createElement("use");return a.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),s}#r(t,e){for(const[a,s]of Object.entries(e))s===null?t.removeAttribute(a):t.setAttribute(a,s)}draw(t,e=!1,a=!1){const s=_e.#i++,o=this.#a(),c=_e._svgFactory.createElement("defs");o.append(c);const h=_e._svgFactory.createElement("path");c.append(h);const f=`path_p${this.pageIndex}_${s}`;h.setAttribute("id",f),h.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(s,h);const d=a?this.#o(c,f):null,p=_e._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${f}`),this.updateProperties(o,t),this.#e.set(s,o),{id:s,clipPathId:`url(#${d})`}}drawOutline(t,e){const a=_e.#i++,s=this.#a(),o=_e._svgFactory.createElement("defs");s.append(o);const c=_e._svgFactory.createElement("path");o.append(c);const h=`path_p${this.pageIndex}_${a}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke");let f;if(e){const v=_e._svgFactory.createElement("mask");o.append(v),f=`mask_p${this.pageIndex}_${a}`,v.setAttribute("id",f),v.setAttribute("maskUnits","objectBoundingBox");const y=_e._svgFactory.createElement("rect");v.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=_e._svgFactory.createElement("use");v.append(b),b.setAttribute("href",`#${h}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const d=_e._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${h}`),f&&d.setAttribute("mask",`url(#${f})`);const p=d.cloneNode();return s.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(s,t),this.#e.set(a,s),a}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:a,bbox:s,rootClass:o,path:c}=e,h=typeof t=="number"?this.#e.get(t):t;if(h){if(a&&this.#r(h,a),s&&_e.#s(h,s),o){const{classList:f}=h;for(const[d,p]of Object.entries(o))f.toggle(d,p)}if(c){const d=h.firstChild.firstChild;this.#r(d,c)}}}updateParent(t,e){if(e===this)return;const a=this.#e.get(t);a&&(e.#t.append(a),this.#e.delete(t),e.#e.set(t,a))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Cf};globalThis.pdfjsLib={AbortException:mi,AnnotationEditorLayer:jn,AnnotationEditorParamsType:Mt,AnnotationEditorType:At,AnnotationEditorUIManager:vi,AnnotationLayer:pd,AnnotationMode:Hn,AnnotationType:oe,build:kb,ColorPicker:on,createValidAbsoluteUrl:Qf,DOMSVGFactory:Jr,DrawLayer:_e,FeatureTest:xe,fetchData:ks,getDocument:cd,getFilenameFromUrl:db,getPdfFilenameFromUrl:gb,getUuid:Jf,getXfaPageViewport:pb,GlobalWorkerOptions:Vi,ImageKind:qr,InvalidPDFException:Zl,isDataScheme:co,isPdfFile:fc,isValidExplicitDest:bb,MathClamp:Ie,noContextMenu:Sn,normalizeUnicode:hb,OPS:Wr,OutputScale:Rn,PasswordResponses:cb,PDFDataRangeTransport:hd,PDFDateString:ed,PDFWorker:Ms,PermissionFlag:lb,PixelsPerInch:xa,RenderingCancelledException:hc,ResponseException:Kr,setLayerDimensions:Xi,shadow:Rt,SignatureExtractor:va,stopEvent:ce,SupportedImageMimeTypes:Jl,TextLayer:Qr,TouchManager:ho,updateUrlHash:Zf,Util:ct,VerbosityLevel:ro,version:fd,XfaLayer:dd};const TC=Object.freeze(Object.defineProperty({__proto__:null,AbortException:mi,AnnotationEditorLayer:jn,AnnotationEditorParamsType:Mt,AnnotationEditorType:At,AnnotationEditorUIManager:vi,AnnotationLayer:pd,AnnotationMode:Hn,AnnotationType:oe,ColorPicker:on,DOMSVGFactory:Jr,DrawLayer:_e,FeatureTest:xe,GlobalWorkerOptions:Vi,ImageKind:qr,InvalidPDFException:Zl,MathClamp:Ie,OPS:Wr,OutputScale:Rn,PDFDataRangeTransport:hd,PDFDateString:ed,PDFWorker:Ms,PasswordResponses:cb,PermissionFlag:lb,PixelsPerInch:xa,RenderingCancelledException:hc,ResponseException:Kr,SignatureExtractor:va,SupportedImageMimeTypes:Jl,TextLayer:Qr,TouchManager:ho,Util:ct,VerbosityLevel:ro,XfaLayer:dd,build:kb,createValidAbsoluteUrl:Qf,fetchData:ks,getDocument:cd,getFilenameFromUrl:db,getPdfFilenameFromUrl:gb,getUuid:Jf,getXfaPageViewport:pb,isDataScheme:co,isPdfFile:fc,isValidExplicitDest:bb,noContextMenu:Sn,normalizeUnicode:hb,setLayerDimensions:Xi,shadow:Rt,stopEvent:ce,updateUrlHash:Zf,version:fd},Symbol.toStringTag,{value:"Module"}));function Vb(l){var t,e,a="";if(typeof l=="string"||typeof l=="number")a+=l;else if(typeof l=="object")if(Array.isArray(l)){var s=l.length;for(t=0;t<s;t++)l[t]&&(e=Vb(l[t]))&&(a&&(a+=" "),a+=e)}else for(e in l)l[e]&&(a&&(a+=" "),a+=e);return a}function pc(){for(var l,t,e=0,a="",s=arguments.length;e<s;e++)(l=arguments[e])&&(t=Vb(l))&&(a&&(a+=" "),a+=t);return a}var x0=Object.prototype.hasOwnProperty;function T0(l,t,e){for(e of l.keys())if(xs(e,t))return e}function xs(l,t){var e,a,s;if(l===t)return!0;if(l&&t&&(e=l.constructor)===t.constructor){if(e===Date)return l.getTime()===t.getTime();if(e===RegExp)return l.toString()===t.toString();if(e===Array){if((a=l.length)===t.length)for(;a--&&xs(l[a],t[a]););return a===-1}if(e===Set){if(l.size!==t.size)return!1;for(a of l)if(s=a,s&&typeof s=="object"&&(s=T0(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(l.size!==t.size)return!1;for(a of l)if(s=a[0],s&&typeof s=="object"&&(s=T0(t,s),!s)||!xs(a[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)l=new Uint8Array(l),t=new Uint8Array(t);else if(e===DataView){if((a=l.byteLength)===t.byteLength)for(;a--&&l.getInt8(a)===t.getInt8(a););return a===-1}if(ArrayBuffer.isView(l)){if((a=l.byteLength)===t.byteLength)for(;a--&&l[a]===t[a];);return a===-1}if(!e||typeof l=="object"){a=0;for(e in l)if(x0.call(l,e)&&++a&&!x0.call(t,e)||!(e in t)||!xs(l[e],t[e]))return!1;return Object.keys(t).length===a}}return l!==l&&t!==t}function po(l){let t=!1;return{promise:new Promise((a,s)=>{l.then(o=>!t&&a(o)).catch(o=>!t&&s(o))}),cancel(){t=!0}}}const CC=["onCopy","onCut","onPaste"],RC=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],MC=["onFocus","onBlur"],DC=["onInput","onInvalid","onReset","onSubmit"],LC=["onLoad","onError"],NC=["onKeyDown","onKeyPress","onKeyUp"],OC=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],kC=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],PC=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],IC=["onSelect"],zC=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],FC=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],BC=["onScroll"],jC=["onWheel"],HC=["onAnimationStart","onAnimationEnd","onAnimationIteration"],UC=["onTransitionEnd"],GC=["onToggle"],VC=["onChange"],qC=[...CC,...RC,...MC,...DC,...LC,...NC,...OC,...kC,...PC,...IC,...zC,...FC,...BC,...jC,...HC,...UC,...VC,...GC];function qb(l,t){const e={};for(const a of qC){const s=l[a];s&&(t?e[a]=(o=>s(o,t(a))):e[a]=s)}return e}var $C="Invariant failed";function qt(l,t){if(!l)throw new Error($C)}var af,C0;function YC(){if(C0)return af;C0=1;var l=function(){};return af=l,af}var XC=YC();const ze=k0(XC),$b=N.createContext(null),WC="noopener noreferrer nofollow";class KC{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return qt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){qt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{qt(this.pdfDocument),qt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{qt(Array.isArray(e));const a=e[0];new Promise(s=>{qt(this.pdfDocument),a instanceof Object?this.pdfDocument.getPageIndex(a).then(o=>{s(o)}).catch(()=>{qt(!1)}):typeof a=="number"?s(a):qt(!1)}).then(s=>{const o=s+1;qt(this.pdfViewer),qt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;qt(this.pdfViewer),qt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,a){t.href=e,t.rel=this.externalLinkRel||WC,t.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Ts({children:l,type:t}){return I.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:l})}const R0={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function QC(l,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return l}}function Ds(){return N.useReducer(QC,{value:void 0,error:void 0})}const mc=typeof window<"u",Yb=mc&&window.location.protocol==="file:";function ZC(l){return typeof l<"u"}function ma(l){return ZC(l)&&l!==null}function JC(l){return typeof l=="string"}function tR(l){return l instanceof ArrayBuffer}function eR(l){return qt(mc),l instanceof Blob}function Df(l){return JC(l)&&/^data:/.test(l)}function M0(l){qt(Df(l));const[t="",e=""]=l.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function nR(){return mc&&window.devicePixelRatio||1}const Xb="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function D0(){ze(!Yb,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Xb}`)}function iR(){ze(!Yb,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Xb}`)}function Ca(l){l?.cancel&&l.cancel()}function Lf(l,t){return Object.defineProperty(l,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(l,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(l,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(l,"originalHeight",{get(){return this.view[3]},configurable:!0}),l}function aR(l){return l.name==="RenderingCancelledException"}function sR(l){return new Promise((t,e)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return e(new Error("Error while reading a file."));t(a.result)},a.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:o}=s.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},a.readAsArrayBuffer(l)})}const{PDFDataRangeTransport:rR}=TC,oR=(l,t)=>{switch(t){case R0.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");l(e);break}case R0.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");l(e);break}}};function L0(l){return typeof l=="object"&&l!==null&&("data"in l||"range"in l||"url"in l)}const lR=N.forwardRef(function({children:t,className:e,error:a="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:c,inputRef:h,imageResourcesPath:f,loading:d="Loading PDF",noData:p="No PDF file specified.",onItemClick:v,onLoadError:y,onLoadProgress:b,onLoadSuccess:S,onPassword:E=oR,onSourceError:x,onSourceSuccess:w,options:T,renderMode:R,rotate:L,scale:C,...B},j){const[q,X]=Ds(),{value:J,error:tt}=q,[lt,pt]=Ds(),{value:st,error:yt}=lt,O=N.useRef(new KC),G=N.useRef([]),et=N.useRef(void 0),bt=N.useRef(void 0);c&&c!==et.current&&L0(c)&&(ze(!xs(c,et.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),et.current=c),T&&T!==bt.current&&(ze(!xs(T,bt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),bt.current=T);const D=N.useRef({scrollPageIntoView:Lt=>{const{dest:Ft,pageNumber:ae,pageIndex:fe=ae-1}=Lt;if(v){v({dest:Ft,pageIndex:fe,pageNumber:ae});return}const Te=G.current[fe];if(Te){Te.scrollIntoView();return}ze(!1,`An internal link leading to page ${ae} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(j,()=>({linkService:O,pages:G,viewer:D}),[]);function Y(){w&&w()}function Q(){tt&&(ze(!1,tt.toString()),x&&x(tt))}function K(){X({type:"RESET"})}N.useEffect(K,[c,X]);const nt=N.useCallback(async()=>{if(!c)return null;if(typeof c=="string")return Df(c)?{data:M0(c)}:(D0(),{url:c});if(c instanceof rR)return{range:c};if(tR(c))return{data:c};if(mc&&eR(c))return{data:await sR(c)};if(qt(typeof c=="object"),qt(L0(c)),"url"in c&&typeof c.url=="string"){if(Df(c.url)){const{url:Lt,...Ft}=c;return{data:M0(Lt),...Ft}}D0()}return c},[c]);N.useEffect(()=>{const Lt=po(nt());return Lt.promise.then(Ft=>{X({type:"RESOLVE",value:Ft})}).catch(Ft=>{X({type:"REJECT",error:Ft})}),()=>{Ca(Lt)}},[nt,X]),N.useEffect(()=>{if(!(typeof J>"u")){if(J===!1){Q();return}Y()}},[J]);function vt(){st&&(S&&S(st),G.current=new Array(st.numPages),O.current.setDocument(st))}function rt(){yt&&(ze(!1,yt.toString()),y&&y(yt))}N.useEffect(function(){pt({type:"RESET"})},[pt,J]),N.useEffect(function(){if(!J)return;const Ft=T?{...J,...T}:J,ae=cd(Ft);b&&(ae.onProgress=b),E&&(ae.onPassword=E);const fe=ae,Te=fe.promise.then(Ki=>{pt({type:"RESOLVE",value:Ki})}).catch(Ki=>{fe.destroyed||pt({type:"REJECT",error:Ki})});return()=>{Te.finally(()=>fe.destroy())}},[T,pt,J]),N.useEffect(()=>{if(!(typeof st>"u")){if(st===!1){rt();return}vt()}},[st]),N.useEffect(function(){O.current.setViewer(D.current),O.current.setExternalLinkRel(s),O.current.setExternalLinkTarget(o)},[s,o]);const Et=N.useCallback((Lt,Ft)=>{G.current[Lt]=Ft},[]),Dt=N.useCallback(Lt=>{delete G.current[Lt]},[]),he=N.useMemo(()=>({imageResourcesPath:f,linkService:O.current,onItemClick:v,pdf:st,registerPage:Et,renderMode:R,rotate:L,scale:C,unregisterPage:Dt}),[f,v,st,Et,R,L,C,Dt]),Gt=N.useMemo(()=>qb(B,()=>st),[B,st]);function Ue(){function Lt(ae){return!!ae?.pdf}if(!Lt(he))throw new Error("pdf is undefined");const Ft=typeof t=="function"?t(he):t;return I.jsx($b.Provider,{value:he,children:Ft})}function Qe(){return c?st==null?I.jsx(Ts,{type:"loading",children:typeof d=="function"?d():d}):st===!1?I.jsx(Ts,{type:"error",children:typeof a=="function"?a():a}):Ue():I.jsx(Ts,{type:"no-data",children:typeof p=="function"?p():p})}return I.jsx("div",{className:pc("react-pdf__Document",e),ref:h,...Gt,children:Qe()})});function Wb(){return N.useContext($b)}function Kb(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];var e=l.filter(Boolean);if(e.length<=1){var a=e[0];return a||null}return function(o){for(var c=0,h=e;c<h.length;c++){var f=h[c];typeof f=="function"?f(o):f&&(f.current=o)}}}const Qb=N.createContext(null);function vc(){return N.useContext(Qb)}function cR(){const l=Wb(),t=vc();qt(t);const e={...l,...t},{imageResourcesPath:a,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:d,pdf:p,renderForms:v,rotate:y,scale:b=1}=e;qt(p),qt(d),qt(s);const[S,E]=Ds(),{value:x,error:w}=S,T=N.useRef(null);ze(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){x&&c&&c(x)}function L(){w&&(ze(!1,w.toString()),o&&o(w))}N.useEffect(function(){E({type:"RESET"})},[E,d]),N.useEffect(function(){if(!d)return;const X=po(d.getAnnotations()),J=X;return X.promise.then(tt=>{E({type:"RESOLVE",value:tt})}).catch(tt=>{E({type:"REJECT",error:tt})}),()=>{Ca(J)}},[E,d]),N.useEffect(()=>{if(x!==void 0){if(x===!1){L();return}R()}},[x]);function C(){f&&f()}function B(q){ze(!1,`${q}`),h&&h(q)}const j=N.useMemo(()=>d.getViewport({scale:b,rotation:y}),[d,y,b]);return N.useEffect(function(){if(!p||!d||!s||!x)return;const{current:X}=T;if(!X)return;const J=j.clone({dontFlip:!0}),tt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:X,l10n:null,page:d,structTreeLayer:null,viewport:J},lt={annotations:x,annotationStorage:p.annotationStorage,div:X,imageResourcesPath:a,linkService:s,page:d,renderForms:v,viewport:J};X.innerHTML="";try{new pd(tt).render(lt),C()}catch(pt){B(pt)}return()=>{}},[x,a,s,d,p,v,j]),I.jsx("div",{className:pc("react-pdf__Page__annotations","annotationLayer"),ref:T})}const Zb={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},uR=/^H(\d+)$/;function hR(l){return l in Zb}function yc(l){return"children"in l}function Jb(l){return yc(l)?l.children.length===1&&0 in l.children&&"id"in l.children[0]:!1}function fR(l){const t={};if(yc(l)){const{role:e}=l,a=e.match(uR);if(a)t.role="heading",t["aria-level"]=Number(a[1]);else if(hR(e)){const s=Zb[e];s&&(t.role=s)}}return t}function t1(l){const t={};if(yc(l)){if(l.alt!==void 0&&(t["aria-label"]=l.alt),l.lang!==void 0&&(t.lang=l.lang),Jb(l)){const[e]=l.children;if(e){const a=t1(e);return{...t,...a}}}}else"id"in l&&(t["aria-owns"]=l.id);return t}function dR(l){return l?{...fR(l),...t1(l)}:null}function e1({className:l,node:t}){const e=N.useMemo(()=>dR(t),[t]),a=N.useMemo(()=>!yc(t)||Jb(t)?null:t.children.map((s,o)=>I.jsx(e1,{node:s},o)),[t]);return I.jsx("span",{className:l,...e,children:a})}function gR(){const l=vc();qt(l);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=l,[a,s]=Ds(),{value:o,error:c}=a,{customTextRenderer:h,page:f}=l;function d(){o&&e&&e(o)}function p(){c&&(ze(!1,c.toString()),t&&t(c))}return N.useEffect(function(){s({type:"RESET"})},[s,f]),N.useEffect(function(){if(h||!f)return;const y=po(f.getStructTree()),b=y;return y.promise.then(S=>{s({type:"RESOLVE",value:S})}).catch(S=>{s({type:"REJECT",error:S})}),()=>Ca(b)},[h,f,s]),N.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}d()}},[o]),o?I.jsx(e1,{className:"react-pdf__Page__structTree structTree",node:o}):null}const N0=Hn;function pR(l){const t=vc();qt(t);const e={...t,...l},{_className:a,canvasBackground:s,devicePixelRatio:o=nR(),onRenderError:c,onRenderSuccess:h,page:f,renderForms:d,renderTextLayer:p,rotate:v,scale:y}=e,{canvasRef:b}=l;qt(f);const S=N.useRef(null);function E(){f&&h&&h(Lf(f,y))}function x(L){aR(L)||(ze(!1,L.toString()),c&&c(L))}const w=N.useMemo(()=>f.getViewport({scale:y*o,rotation:v}),[o,f,v,y]),T=N.useMemo(()=>f.getViewport({scale:y,rotation:v}),[f,v,y]);N.useEffect(function(){if(!f)return;f.cleanup();const{current:C}=S;if(!C)return;C.width=w.width,C.height=w.height,C.style.width=`${Math.floor(T.width)}px`,C.style.height=`${Math.floor(T.height)}px`,C.style.visibility="hidden";const B={annotationMode:d?N0.ENABLE_FORMS:N0.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:w};s&&(B.background=s);const j=f.render(B),q=j;return j.promise.then(()=>{C.style.visibility="",E()}).catch(x),()=>Ca(q)},[s,f,d,w,T]);const R=N.useCallback(()=>{const{current:L}=S;L&&(L.width=0,L.height=0)},[]);return N.useEffect(()=>R,[R]),I.jsx("canvas",{className:`${a}__canvas`,dir:"ltr",ref:Kb(b,S),style:{display:"block",userSelect:"none"},children:p?I.jsx(gR,{}):null})}function mR(l){return"str"in l}function vR(){const l=vc();qt(l);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:a,onRenderTextLayerError:s,onRenderTextLayerSuccess:o,page:c,pageIndex:h,pageNumber:f,rotate:d,scale:p}=l;qt(c);const[v,y]=Ds(),{value:b,error:S}=v,E=N.useRef(null);ze(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function x(){b&&a&&a(b)}function w(){S&&(ze(!1,S.toString()),e&&e(S))}N.useEffect(function(){y({type:"RESET"})},[c,y]),N.useEffect(function(){if(!c)return;const q=po(c.getTextContent()),X=q;return q.promise.then(J=>{y({type:"RESOLVE",value:J})}).catch(J=>{y({type:"REJECT",error:J})}),()=>Ca(X)},[c,y]),N.useEffect(()=>{if(b!==void 0){if(b===!1){w();return}x()}},[b]);const T=N.useCallback(()=>{o&&o()},[o]),R=N.useCallback(j=>{ze(!1,j.toString()),s&&s(j)},[s]);function L(){const j=E.current;j&&j.classList.add("selecting")}function C(){const j=E.current;j&&j.classList.remove("selecting")}const B=N.useMemo(()=>c.getViewport({scale:p,rotation:d}),[c,d,p]);return N.useLayoutEffect(function(){if(!c||!b)return;const{current:q}=E;if(!q)return;q.innerHTML="";const X=c.streamTextContent({includeMarkedContent:!0}),J={container:q,textContentSource:X,viewport:B},tt=new Qr(J),lt=tt;return tt.render().then(()=>{const pt=document.createElement("div");pt.className="endOfContent",q.append(pt);const st=q.querySelectorAll('[role="presentation"]');if(t){let yt=0;b.items.forEach((O,G)=>{if(!mR(O))return;const et=st[yt];if(!et)return;const bt=t({pageIndex:h,pageNumber:f,itemIndex:G,...O});et.innerHTML=bt,yt+=O.str&&O.hasEOL?2:1})}T()}).catch(R),()=>Ca(lt)},[t,R,T,c,h,f,b,B]),I.jsx("div",{className:pc("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:L,ref:E})}const O0=1;function yR(l){const e={...Wb(),...l},{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:o,canvasRef:c,children:h,className:f,customRenderer:d,customTextRenderer:p,devicePixelRatio:v,error:y="Failed to load the page.",height:b,inputRef:S,loading:E="Loading page",noData:x="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:T,onGetStructTreeError:R,onGetStructTreeSuccess:L,onGetTextError:C,onGetTextSuccess:B,onLoadError:j,onLoadSuccess:q,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:J,onRenderError:tt,onRenderSuccess:lt,onRenderTextLayerError:pt,onRenderTextLayerSuccess:st,pageIndex:yt,pageNumber:O,pdf:G,registerPage:et,renderAnnotationLayer:bt=!0,renderForms:D=!1,renderMode:Y="canvas",renderTextLayer:Q=!0,rotate:K,scale:nt=O0,unregisterPage:vt,width:rt,...Et}=e,[Dt,he]=Ds(),{value:Gt,error:Ue}=Dt,Qe=N.useRef(null);qt(G);const Lt=ma(O)?O-1:yt??null,Ft=O??(ma(yt)?yt+1:null),ae=K??(Gt?Gt.rotate:null),fe=N.useMemo(()=>{if(!Gt)return null;let te=1;const Fe=nt??O0;if(rt||b){const ee=Gt.getViewport({scale:1,rotation:ae});rt?te=rt/ee.width:b&&(te=b/ee.height)}return Fe*te},[b,Gt,ae,nt,rt]);N.useEffect(function(){return()=>{ma(Lt)&&s&&vt&&vt(Lt)}},[s,G,Lt,vt]);function Te(){if(q){if(!Gt||!fe)return;q(Lf(Gt,fe))}if(s&&et){if(!ma(Lt)||!Qe.current)return;et(Lt,Qe.current)}}function Ki(){Ue&&(ze(!1,Ue.toString()),j&&j(Ue))}N.useEffect(function(){he({type:"RESET"})},[he,G,Lt]),N.useEffect(function(){if(!G||!Ft)return;const Fe=po(G.getPage(Ft)),ee=Fe;return Fe.promise.then(Ps=>{he({type:"RESOLVE",value:Ps})}).catch(Ps=>{he({type:"REJECT",error:Ps})}),()=>Ca(ee)},[he,G,Ft]),N.useEffect(()=>{if(Gt!==void 0){if(Gt===!1){Ki();return}Te()}},[Gt,fe]);const Da=N.useMemo(()=>ma(Lt)&&Ft&&ma(ae)&&ma(fe)?{_className:a,canvasBackground:o,customTextRenderer:p,devicePixelRatio:v,onGetAnnotationsError:w,onGetAnnotationsSuccess:T,onGetStructTreeError:R,onGetStructTreeSuccess:L,onGetTextError:C,onGetTextSuccess:B,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:J,onRenderError:tt,onRenderSuccess:lt,onRenderTextLayerError:pt,onRenderTextLayerSuccess:st,page:Gt,pageIndex:Lt,pageNumber:Ft,renderForms:D,renderTextLayer:Q,rotate:ae,scale:fe}:null,[a,o,p,v,w,T,R,L,C,B,X,J,tt,lt,pt,st,Gt,Lt,Ft,D,Q,ae,fe]),mo=N.useMemo(()=>qb(Et,()=>Gt&&(fe?Lf(Gt,fe):void 0)),[Et,Gt,fe]),qn=`${Lt}@${fe}/${ae}`;function bc(){switch(Y){case"custom":return qt(d),I.jsx(d,{},`${qn}_custom`);case"none":return null;case"canvas":default:return I.jsx(pR,{canvasRef:c},`${qn}_canvas`)}}function vo(){return Q?I.jsx(vR,{},`${qn}_text`):null}function Ac(){return bt?I.jsx(cR,{},`${qn}_annotations`):null}function Sc(){function te(ee){return!!ee?.page}if(!te(Da))throw new Error("page is undefined");const Fe=typeof h=="function"?h(Da):h;return I.jsxs(Qb.Provider,{value:Da,children:[bc(),vo(),Ac(),Fe]})}function Qi(){return Ft?G===null||Gt===void 0||Gt===null?I.jsx(Ts,{type:"loading",children:typeof E=="function"?E():E}):G===!1||Gt===!1?I.jsx(Ts,{type:"error",children:typeof y=="function"?y():y}):Sc():I.jsx(Ts,{type:"no-data",children:typeof x=="function"?x():x})}return I.jsx("div",{className:pc(a,f),"data-page-number":Ft,ref:Kb(S,Qe),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${fe}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...mo,children:Qi()})}iR();Vi.workerSrc="pdf.worker.mjs";Vi.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${fd}/pdf.worker.min.js`;const bR=({fileName:l,documentTitle:t,onClose:e})=>{const[a,s]=N.useState(null),[o,c]=N.useState(1),[h]=N.useState(1),[f,d]=N.useState(!0),[p,v]=N.useState(null),y=({numPages:w})=>{s(w),d(!1),v(null)},b=w=>{console.error("Error loading PDF:",w),v("Error al cargar el documento PDF"),d(!1)},S=()=>{c(w=>Math.max(w-1,1))},E=()=>{c(w=>Math.min(w+1,a))},x=()=>{if(l){const w=document.createElement("a");w.href=`/docs/${l}`,w.download=l,w.click()}};return I.jsx("div",{className:"pdf-viewer-overlay",children:I.jsxs("div",{className:"pdf-viewer-container",children:[I.jsxs("div",{className:"pdf-viewer-header",children:[I.jsxs("div",{className:"pdf-viewer-title",children:[I.jsx("h3",{children:t||"Documento PDF"}),I.jsx("span",{className:"pdf-filename",children:l})]}),I.jsxs("div",{className:"pdf-viewer-controls",children:[I.jsxs("button",{className:"control-btn",onClick:x,title:"Descargar PDF",children:[I.jsx(hi,{icon:Ix,className:"btn-icon"}),"Descargar"]}),I.jsxs("button",{className:"control-btn close-btn",onClick:e,title:"Cerrar visor",children:[I.jsx(hi,{icon:Lx,className:"btn-icon"}),"Cerrar"]})]})]}),I.jsx("div",{className:"pdf-viewer-toolbar",children:I.jsxs("div",{className:"page-controls",children:[I.jsxs("button",{className:"toolbar-btn",onClick:S,disabled:o<=1,children:[I.jsx(hi,{icon:Ox,className:"btn-icon"}),"Anterior"]}),I.jsxs("span",{className:"page-info",children:["Pgina ",o," de ",a||"..."]}),I.jsxs("button",{className:"toolbar-btn",onClick:E,disabled:o>=a,children:["Siguiente",I.jsx(hi,{icon:xx,className:"btn-icon"})]})]})}),I.jsxs("div",{className:"pdf-viewer-content",children:[f&&I.jsxs("div",{className:"loading-container",children:[I.jsx("div",{className:"loading-spinner"}),I.jsx("p",{children:"Cargando documento..."})]}),p&&I.jsxs("div",{className:"error-container",children:[I.jsx("div",{className:"error-icon",children:I.jsx(hi,{icon:Px})}),I.jsx("p",{children:p}),I.jsx("p",{className:"error-detail",children:"Asegrate de que el archivo PDF existe en la carpeta /docs/"})]}),!f&&!p&&I.jsx("div",{className:"pdf-document-container",children:I.jsx(lR,{file:`/docs/${l}`,onLoadSuccess:y,onLoadError:b,loading:I.jsxs("div",{className:"loading-container",children:[I.jsx("div",{className:"loading-spinner"}),I.jsx("p",{children:"Cargando documento..."})]}),children:I.jsx(yR,{pageNumber:o,scale:h,className:"pdf-page"})})})]})]})})};function AR(){const{isAuthenticated:l,isLoading:t}=ic(),[e,a]=N.useState(null),[s,o]=N.useState(""),c=(f,d)=>{a(f),o(d)},h=()=>{a(null),o("")};return t?I.jsx("div",{className:"app",children:I.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#16808C",color:"white",fontSize:"18px"},children:"Cargando..."})}):l?I.jsxs("div",{className:"app",children:[I.jsx(QE,{}),I.jsx(mE,{children:I.jsx(X0,{path:"/",element:I.jsxs(I.Fragment,{children:[I.jsx(jx,{}),I.jsx(Vx,{onDocumentSelect:c}),e&&I.jsx(bR,{fileName:e,documentTitle:s,onClose:h})]})})})]}):I.jsx(KE,{})}TS.createRoot(document.getElementById("root")).render(I.jsx(N.StrictMode,{children:I.jsx(BE,{basename:"/documentacionAlbi/",children:I.jsx(WE,{children:I.jsx(Gx,{children:I.jsx(ZE,{children:I.jsx(AR,{})})})})})}));
